(function() {/*
 Notice * This file contains works from many authors under various (but compatible) licenses. Please see legal.txt for more information. **/
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};if(!String.fromCodePoint)(function(){var defineProperty=function(){var result;try{var object={};var $defineProperty=Object.defineProperty;result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length)return"";
var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint)throw RangeError("Invalid code point: "+codePoint);if(codePoint<=65535)codeUnits.push(codePoint);else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=
0}}return result};if(defineProperty)defineProperty(String,"fromCodePoint",{"value":fromCodePoint,"configurable":true,"writable":true});else String.fromCodePoint=fromCodePoint})();if(!Element.prototype.scrollIntoViewIfNeeded)Element.prototype.scrollIntoViewIfNeeded=function(centerIfNeeded){function withinBounds(value,min,max,extent){if(centerIfNeeded===false||max<=value+extent&&value<=min+extent)return Math.min(max,Math.max(min,value));return(min+max)/2}function makeArea(left,top,width,height){return{"left":left,
"top":top,"width":width,"height":height,"right":left+width,"bottom":top+height,"translate":function(x,y){return makeArea(x+left,y+top,width,height)},"relativeFromTo":function(lhs,rhs){var newLeft=left,newTop=top;lhs=lhs.offsetParent;rhs=rhs.offsetParent;if(lhs===rhs)return area;for(;lhs;lhs=lhs.offsetParent){newLeft+=lhs.offsetLeft+lhs.clientLeft;newTop+=lhs.offsetTop+lhs.clientTop}for(;rhs;rhs=rhs.offsetParent){newLeft-=rhs.offsetLeft+rhs.clientLeft;newTop-=rhs.offsetTop+rhs.clientTop}return makeArea(newLeft,
newTop,width,height)}}}var parent,elem=this,area=makeArea(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);while((parent=elem.parentNode)instanceof HTMLElement){var clientLeft=parent.offsetLeft+parent.clientLeft;var clientTop=parent.offsetTop+parent.clientTop;area=area.relativeFromTo(elem,parent).translate(-clientLeft,-clientTop);parent.scrollLeft=withinBounds(parent.scrollLeft,area.right-parent.clientWidth,area.left,parent.clientWidth);parent.scrollTop=withinBounds(parent.scrollTop,
area.bottom-parent.clientHeight,area.top,parent.clientHeight);area=area.translate(clientLeft-parent.scrollLeft,clientTop-parent.scrollTop);elem=parent}};if(window.NodeList&&!NodeList.prototype.forEach)NodeList.prototype.forEach=function(callback,thisArg){thisArg=thisArg||window;for(var i=0;i<this.length;i++)callback.call(thisArg,this[i],i,this)};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};if(!String.prototype.startsWith)String.prototype.startsWith=
function(search,pos){return this.substr(!pos||pos<0?0:+pos,search.length)===search};if(!String.prototype.endsWith)String.prototype.endsWith=function(search,thisLen){if(thisLen===undefined||thisLen>this.length)thisLen=this.length;return this.substring(thisLen-search.length,thisLen)===search};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,
function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;exports.utils.windowsApp=false;exports.utils.isEdge=!!navigator.userAgent.match(/Edge/i);exports.utils.isMobileDevice=function(){return!!(!ie&&(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||
navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Touch/i)||navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/Silk/i))||/iPad|iPhone|iPod/.test(navigator.platform))}();exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/i);exports.utils.isChrome=
function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();exports.utils.chromeHasSubzero=exports.utils.isChrome&&chromeVersion>=56;exports.utils.isIOS=/iPad|iPhone|iPod/.test(exports.navigator.platform)||
navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;exports.utils.isSafari=(window.navigator.userAgent.match(/Safari/)||exports.utils.isIOS)&&!exports.utils.isChrome&&!exports.utils.isEdge;exports.utils.isFirefox=window.navigator.userAgent.match(/Firefox/);exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>-1;var multiplierOverride;var getCanvasMultiplier=function(){return function(){if(!_.isUndefined(multiplierOverride))return multiplierOverride;return Math.min(window.devicePixelRatio,
2)||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};exports.utils.canvasFontMultiplier=function(){var canvas=document.createElement("canvas");var ctx=canvas.getContext("2d");var testSize=20;ctx.font=testSize+"px f0";return parseFloat(ctx.font)/testSize}();if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=
this.length,i=0;for(;i<l;i+=4){this[i]=arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,
0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=
new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;exports.utils.hasObjectURL=!!(exports.URL&&exports.URL.createObjectURL);if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);
return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue=
"Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/",
"xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);
info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=
window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),
listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=
1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();exports.utils.supportsImageDataConstructor=function(){try{new ImageData(1,1);return true}catch(e){return false}}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=
vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=
clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(){this.applyWithArgs($(this).on,arguments);return this},off:function(){this.applyWithArgs($(this).off,arguments);return this},trigger:function(){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))},one:function(){this.applyWithArgs($(this).one,
arguments);return this}};exports.utils.isEditableElement=function(ele){ele=ele[0];var tagName=ele.tagName.toLowerCase();var isInputText=tagName==="input"&&ele.type==="text";var isInputNumber=tagName==="input"&&ele.type==="number";var isTextarea=tagName==="textarea";return isInputText||isTextarea||isInputNumber};if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=
array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=
fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,
property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,name,property)}}}if(!HTMLCanvasElement.prototype.toBlob&&HTMLCanvasElement.prototype.msToBlob)HTMLCanvasElement.prototype.toBlob=function(callback){callback(HTMLCanvasElement.prototype.msToBlob.call(this))};var canvasProto=CanvasRenderingContext2D.prototype;
var originalTransform=CanvasRenderingContext2D.prototype.transform;var originalTranslate=CanvasRenderingContext2D.prototype.translate;var originalScale=CanvasRenderingContext2D.prototype.scale;var originalRotate=CanvasRenderingContext2D.prototype.rotate;var originalSetTransform=CanvasRenderingContext2D.prototype.setTransform;var originalSave=CanvasRenderingContext2D.prototype.save;var originalRestore=CanvasRenderingContext2D.prototype.restore;_(canvasProto).extend({getTransformReference:function(){var contextArray=
this.canvas.mtxArray;if(!contextArray||!contextArray.length)contextArray=this.canvas.mtxArray=[new XODText.Matrix2D(1,0,0,1,0,0)];return contextArray[contextArray.length-1]},getTransform:function(){var copy=new XODText.Matrix2D;copy.initMatrix(this.getTransformReference());return copy},setCurrentTransform:function(transform){this.canvas.mtxArray[this.canvas.mtxArray.length-1]=transform},transform:function(a,b,c,d,h,v){this.getTransformReference().concat(new XODText.Matrix2D(a,b,c,d,h,v));return originalTransform.apply(this,
arguments)},translate:function(h,v){this.getTransformReference().concat(new XODText.Matrix2D(1,0,0,1,h,v));return originalTranslate.apply(this,arguments)},scale:function(x,y){this.getTransformReference().concat(new XODText.Matrix2D(x,0,0,y,0,0));return originalScale.apply(this,arguments)},rotate:function(angle){this.getTransformReference().concat(new XODText.Matrix2D.rotationMatrix(angle));return originalRotate.apply(this,arguments)},setTransform:function(a,b,c,d,h,v){this.getTransformReference();
this.setCurrentTransform(new XODText.Matrix2D(a,b,c,d,h,v));return originalSetTransform.apply(this,arguments)},save:function(){var currentTransform=this.getTransformReference();var newMatrix=new XODText.Matrix2D;newMatrix.initMatrix(currentTransform);this.canvas.mtxArray.push(newMatrix);return originalSave.apply(this,arguments)},restore:function(){var mtxArray=this.canvas.mtxArray;if(mtxArray&&mtxArray.length)mtxArray.pop();return originalRestore.apply(this,arguments)}});Object.defineProperties(canvasProto,
{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},
r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,ro:canvasProto.rotate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},
xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,x,y,skipLast){this.fillText(text,x,y)},xcw:function(text,x,y,skipLast){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale,cr:function(x,y,w,h){this.beginPath();this.rect(x,y,w,h);this.clip()},createCanvas:function(){return document.createElement("canvas")}});Object.defineProperty(TextMetrics.prototype,
"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&rect1.x2>=rect2.x1&&rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;
return false};exports.utils.containsRect=function(rect1,rect2){if(rect1.x1<=rect2.x1&&rect1.x2>=rect2.x2&&rect1.y1<=rect2.y1&&rect1.y2>=rect2.y2)return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,
pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],
name,ind+"\t")+"\n";else if(typeof v==="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=
toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.roundToPrecision=function(number,precision){var factor=Math.pow(10,precision);var tempNumber=number*factor;var roundedTempNumber=Math.round(tempNumber);return roundedTempNumber/factor};if(!Array.prototype.fill)Object.defineProperty(Array.prototype,"fill",{value:function(value){if(this==null)throw new TypeError("this is null or not defined");var O=Object(this);var len=O.length>>>0;var start=arguments[1];var relativeStart=
start>>0;var k=relativeStart<0?Math.max(len+relativeStart,0):Math.min(relativeStart,len);var end=arguments[2];var relativeEnd=end===undefined?len:end>>0;var final=relativeEnd<0?Math.max(len+relativeEnd,0):Math.min(relativeEnd,len);while(k<final){O[k]=value;k++}return O}});exports.joinPaths=function(){var lhs,rhs;var arr=[];arr[arguments.length-1]=null;var i=0;if(arguments.length>0){rhs=arguments[i].endsWith("/")?arguments[i].length-1:arguments[i].length;arr[i]=arguments[i].substring(0,rhs)}for(i=
1;i<arguments.length-1;++i){lhs=arguments[i].startsWith("/")?1:0;rhs=arguments[i].endsWith("/")?arguments[i].length-1:arguments[i].length;arr[i]=arguments[i].substring(lhs,rhs)}if(arguments.length>1){lhs=arguments[i].startsWith("/")?1:0;arr[i]=arguments[i].substring(lhs,arguments[i].length)}return arr.join("/")};exports.utils.utf8_decode=function(utftext){var string="";var i=0;var c1=0,c2=0,c3=0;while(i<utftext.length){c1=utftext.charCodeAt(i);if(c1<128){string+=String.fromCharCode(c1);i++}else if(c1>
191&&c1<224){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode((c1&31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string};exports.utils.splitInkListBetween=function(inklist,splitpoint,inklistpos){var ArrayToSplit=inklist[inklistpos];var arrsize=ArrayToSplit.length;var newarray=[];for(var i=splitpoint+1;i<arrsize;++i)newarray.push(ArrayToSplit[i]);for(var j=arrsize-1;j>splitpoint;--j)ArrayToSplit.splice(j,
1);return newarray};exports.utils.rotationDirection=function(p1x,p1y,p2x,p2y,p3x,p3y){if((p3y-p1y)*(p2x-p1x)>(p2y-p1y)*(p3x-p1x))return 1;if((p3y-p1y)*(p2x-p1x)===(p2y-p1y)*(p3x-p1x))return 0;return-1};exports.utils.containsSegment=function(x1,y1,x2,y2,sx,sy){if(x1<x2&&x1<sx&&sx<x2)return true;if(x2<x1&&x2<sx&&sx<x1)return true;if(y1<y2&&y1<sy&&sy<y2)return true;if(y2<y1&&y2<sy&&sy<y1)return true;if(x1===sx&&y1===sy||x2===sx&&y2===sy)return true;return false};exports.utils.twoLineSegmentsIntersect=
function(A,B,P1,P2){var x1=A.x;var y1=A.y;var x2=B.x;var y2=B.y;var x3=P1.x;var y3=P1.y;var x4=P2.x;var y4=P2.y;var f1=exports.utils.rotationDirection(x1,y1,x2,y2,x4,y4);var f2=exports.utils.rotationDirection(x1,y1,x2,y2,x3,y3);var f3=exports.utils.rotationDirection(x1,y1,x3,y3,x4,y4);var f4=exports.utils.rotationDirection(x2,y2,x3,y3,x4,y4);var intersect=f1!==f2&&f3!==f4;if(f1===0&&f2===0&&f3===0&&f4===0)intersect=exports.utils.containsSegment(x1,y1,x2,y2,x3,y3)||exports.utils.containsSegment(x1,
y1,x2,y2,x4,y4)||exports.utils.containsSegment(x3,y3,x4,y4,x1,y1)||exports.utils.containsSegment(x3,y3,x4,y4,x2,y2);return intersect};exports.utils.crossProduct=function(x1,y1,x2,y2,x,y){return(x-x2)*(y2-y1)-(y-y2)*(x2-x1)};exports.utils.pointInTriangle=function(x1,y1,x2,y2,x3,y3,x,y){var cp1=exports.utils.crossProduct(x1,y1,x2,y2,x,y)<0;var cp2=exports.utils.crossProduct(x2,y2,x3,y3,x,y)<0;var cp3=exports.utils.crossProduct(x3,y3,x1,y1,x,y)<0;return cp1===cp2&&cp2===cp3&&cp3===cp1};exports.utils.isPointInQuad=
function(testpt,qp){var A=qp[0];var B=qp[1];var C=qp[2];var D=qp[3];var t1=exports.utils.pointInTriangle(A.x,A.y,B.x,B.y,C.x,C.y,testpt.x,testpt.y);var t2=exports.utils.pointInTriangle(C.x,C.y,D.x,D.y,A.x,A.y,testpt.x,testpt.y);return t1||t2};exports.utils.calcDistance=function(x1,y1,x2,y2){var dx=x2-x1;var dy=y2-y1;return Math.sqrt(dx*dx+dy*dy)};var INTERSECTION_EPSILON=1E-30;exports.utils.calcIntersection=function(ax,ay,bx,by,cx,cy,dx,dy){var num=(ay-cy)*(dx-cx)-(ax-cx)*(dy-cy);var den=(bx-ax)*
(dy-cy)-(by-ay)*(dx-cx);if(Math.abs(den)<INTERSECTION_EPSILON)return null;var r=num/den;var x=ax+r*(bx-ax);var y=ay+r*(by-ay);return{x:x,y:y}};exports.utils.getQuadFromPoints=function(pt1,pt2,eraserRadius){var THRESHOLD=5;var Pa={};var Pb={};var Pc={};var Pd={};var pp1={};var pp2={};pp1.x=pt1.x;pp1.y=pt1.y;pp2.x=pt2.x;pp2.y=pt2.y;if(pt1.x===pt2.x&&pt1.y===pt2.y)pp2.x+=THRESHOLD;var dx=pp2.x-pp1.x;var dy=pp2.y-pp1.y;var linelength=Math.sqrt(dx*dx+dy*dy);dx/=linelength;dy/=linelength;var tdx=eraserRadius*
dx;var tdy=eraserRadius*dy;var pt1x=pp1.x-tdx;var pt1y=pp1.y-tdy;var pt2x=pp2.x+tdx;var pt2y=pp2.y+tdy;var px=eraserRadius*-dy;var py=eraserRadius*dx;Pa.x=pt1x-px;Pa.y=pt1y-py;Pb.x=pt2x-px;Pb.y=pt2y-py;Pc.x=pt2x+px;Pc.y=pt2y+py;Pd.x=pt1x+px;Pd.y=pt1y+py;var QuadPoint=[Pa,Pb,Pc,Pd];return QuadPoint};exports.utils.returnPointThatIntersectsQuad=function(qp,pt1,pt2){var A={x:qp[0].x,y:qp[0].y};var B={x:qp[1].x,y:qp[1].y};var C={x:qp[2].x,y:qp[2].y};var D={x:qp[3].x,y:qp[3].y};var P1={x:pt1.x,y:pt1.y};
var P2={x:pt2.x,y:pt2.y};var fresult=[];if(exports.utils.twoLineSegmentsIntersect(A,B,P1,P2)){var res=exports.utils.calcIntersection(A.x,A.y,B.x,B.y,P1.x,P1.y,P2.x,P2.y);if(res)fresult.push(res)}if(exports.utils.twoLineSegmentsIntersect(B,C,P1,P2)){var res2=exports.utils.calcIntersection(B.x,B.y,C.x,C.y,P1.x,P1.y,P2.x,P2.y);if(res2)fresult.push(res2)}if(exports.utils.twoLineSegmentsIntersect(C,D,P1,P2)){var res3=exports.utils.calcIntersection(C.x,C.y,D.x,D.y,P1.x,P1.y,P2.x,P2.y);if(res3)fresult.push(res3)}if(exports.utils.twoLineSegmentsIntersect(D,
A,P1,P2)){var res4=exports.utils.calcIntersection(D.x,D.y,A.x,A.y,P1.x,P1.y,P2.x,P2.y);if(res4)fresult.push(res4)}if(fresult.length===2){var d1=exports.utils.calcDistance(fresult[0].x,fresult[0].y,P1.x,P1.y);var d2=exports.utils.calcDistance(fresult[1].x,fresult[1].y,P1.x,P1.y);if(d1>d2){var b=fresult[0];fresult[0]=fresult[1];fresult[1]=b}}return fresult}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=
a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}try{window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}}catch(error){console.warn("No access to IndexedDB")}})(window,idbModules);(function(exports){exports.setImmediate||function(){var uid=0;var storage={};var firstCall=true;var slice=Array.prototype.slice;var message="IM";function fastApply(args){var func=args[0];switch(args.length){case 1:return func();case 2:return func(args[1]);case 3:return func(args[1],args[2])}return func.apply(window,slice.call(args,1))}function callback(event){var key=event.data;var data;if(typeof key=="string"&&key.indexOf(message)==0){data=storage[key];if(data){delete storage[key];fastApply(data)}}}
exports.setImmediate=function setImmediate(){var id=uid++;var key=message+id;var i=arguments.length;var args=new Array(i);while(i--)args[i]=arguments[i];storage[key]=args;if(firstCall){firstCall=false;exports.addEventListener("message",callback)}exports.postMessage(key,"*");return id};exports.clearImmediate=function clearImmediate(id){delete storage[message+id]}}()})(typeof self==="undefined"?this:self);(function(global){global.createPromiseCapability=function(){var promiseCapability={};var promise=new Promise(function(resolve,reject){promiseCapability.resolve=resolve;promiseCapability.reject=reject});promiseCapability.promise=promise;return promiseCapability};var NativePromise=global["Promise"];var nativePromiseSupported=NativePromise&&"resolve"in NativePromise&&"reject"in NativePromise&&"all"in NativePromise&&"race"in NativePromise&&function(){var resolve;new NativePromise(function(r){resolve=
r});return typeof resolve==="function"}();if(typeof exports!=="undefined"&&exports){exports.Promise=nativePromiseSupported?NativePromise:Promise;exports.Polyfill=Promise}else if(typeof define=="function"&&define.amd)define(function(){return nativePromiseSupported?NativePromise:Promise});else if(!nativePromiseSupported)global["Promise"]=Promise;var PENDING="pending";var SEALED="sealed";var FULFILLED="fulfilled";var REJECTED="rejected";var NOOP=function(){};function isArray(value){return Object.prototype.toString.call(value)===
"[object Array]"}var asyncSetTimer=typeof setImmediate!=="undefined"?setImmediate:setTimeout;var asyncQueue=[];var asyncTimer;function asyncFlush(){for(var i=0;i<asyncQueue.length;i++)asyncQueue[i][0](asyncQueue[i][1]);asyncQueue=[];asyncTimer=false}function asyncCall(callback,arg){asyncQueue.push([callback,arg]);if(!asyncTimer){asyncTimer=true;asyncSetTimer(asyncFlush,0)}}function invokeResolver(resolver,promise){function resolvePromise(value){resolve(promise,value)}function rejectPromise(reason){reject(promise,
reason)}try{resolver(resolvePromise,rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(subscriber){var owner=subscriber.owner;var settled=owner.state_;var value=owner.data_;var callback=subscriber[settled];var promise=subscriber.then;if(typeof callback==="function"){settled=FULFILLED;try{value=callback(value)}catch(e){reject(promise,e)}}if(!handleThenable(promise,value)){if(settled===FULFILLED)resolve(promise,value);if(settled===REJECTED)reject(promise,value)}}function handleThenable(promise,
value){var resolved;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(value&&(typeof value==="function"||typeof value==="object")){var then=value.then;if(typeof then==="function"){then.call(value,function(val){if(!resolved){resolved=true;if(value!==val)resolve(promise,val);else fulfill(promise,val)}},function(reason){if(!resolved){resolved=true;reject(promise,reason)}});return true}}}catch(e){if(!resolved)reject(promise,e);return true}return false}
function resolve(promise,value){if(promise===value||!handleThenable(promise,value))fulfill(promise,value)}function fulfill(promise,value){if(promise.state_===PENDING){promise.state_=SEALED;promise.data_=value;asyncCall(publishFulfillment,promise)}}function reject(promise,reason){if(promise.state_===PENDING){promise.state_=SEALED;promise.data_=reason;asyncCall(publishRejection,promise)}}function publish(promise){var callbacks=promise.then_;promise.then_=undefined;for(var i=0;i<callbacks.length;i++)invokeCallback(callbacks[i])}
function publishFulfillment(promise){promise.state_=FULFILLED;publish(promise)}function publishRejection(promise){promise.state_=REJECTED;publish(promise)}function Promise(resolver){if(typeof resolver!=="function")throw new TypeError("Promise constructor takes a function argument");if(this instanceof Promise===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];invokeResolver(resolver,this)}
Promise.prototype={constructor:Promise,state_:PENDING,then_:null,data_:undefined,then:function(onFulfillment,onRejection){var subscriber={owner:this,then:new this.constructor(NOOP),fulfilled:onFulfillment,rejected:onRejection};if(this.state_===FULFILLED||this.state_===REJECTED)asyncCall(invokeCallback,subscriber);else this.then_.push(subscriber);return subscriber.then},"catch":function(onRejection){return this.then(null,onRejection)}};Promise.all=function(promises){var Class=this;if(!isArray(promises))throw new TypeError("You must pass an array to Promise.all().");
return new Class(function(resolve,reject){var results=[];var remaining=0;function resolver(index){remaining++;return function(value){results[index]=value;if(!--remaining)resolve(results)}}for(var i=0,promise;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then==="function")promise.then(resolver(i),reject);else results[i]=promise}if(!remaining)resolve(results)})};Promise.race=function(promises){var Class=this;if(!isArray(promises))throw new TypeError("You must pass an array to Promise.race().");
return new Class(function(resolve,reject){for(var i=0,promise;i<promises.length;i++){promise=promises[i];if(promise&&typeof promise.then==="function")promise.then(resolve,reject);else resolve(promise)}})};Promise.resolve=function(value){var Class=this;if(value&&typeof value==="object"&&value.constructor===Class)return value;return new Class(function(resolve){resolve(value)})};Promise.reject=function(reason){var Class=this;return new Class(function(resolve,reject){reject(reason)})}})(typeof window!=
"undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this);/*
 Advanced Encryption Standard (AES) Cipher-Block Chaining implementation.|This implementation is based on the public domain library 'jscrypto' which|was written by:|Emily Stark (estark@stanford.edu)|Mike Hamburg (mhamburg@stanford.edu)|Dan Boneh (dabo@cs.stanford.edu)|Parts of this code are based on the OpenSSL implementation of AES:|http://www.openssl.org|@author Dave Longley|Copyright (c) 2010-2012 Digital Bazaar, Inc.*/
(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});(function(exports){var existingPDFNet=!!exports.PDFNet;exports.PDFNet=exports.PDFNet?exports.PDFNet:{};exports.PDFNet.Convert=exports.PDFNet.Convert?exports.PDFNet.Convert:{};var finishedInitializeCapability;exports.PDFNet.initialize=function(l,pdfBackendType){if(!finishedInitializeCapability){var workerHandlers={pnaclCrashError:function(msg,genericMsg){console.log("PNaClCrashError: "+msg+", "+genericMsg)},pnaclLoadError:function(msg,genericMsg){console.log("PNaClLoadError: "+msg+", "+genericMsg)},
emsWorkerError:function(msg,genericMsg){console.log("EmsWorkerError: "+msg+", "+genericMsg)}};var useEmscriptenWhileLoading=pdfBackendType!=="pnacl"&&!exports.CoreControls.isSubzeroEnabled();finishedInitializeCapability=createPromiseCapability();var finishInit=function(pdfBackendType){exports.CoreControls.preloadPDFWorker(pdfBackendType,workerHandlers,{useEmscriptenWhileLoading:useEmscriptenWhileLoading,autoSwap:false});var workerTransportPromise=exports.CoreControls.initPDFWorkerTransports(pdfBackendType,
workerHandlers,l);workerTransportPromise.then(function(transport){exports.PDFNet.messageHandler=transport;finishedInitializeCapability.resolve()})};if(typeof readerControl!=="undefined"&&typeof readerControl.pdfType!=="undefined")pdfBackendType=readerControl.pdfType;if(!pdfBackendType||pdfBackendType==="auto"){var getBackendeallocPromise=CoreControls.getDefaultPdfBackendType();getBackendeallocPromise.then(finishInit)}else finishInit(pdfBackendType)}return finishedInitializeCapability.promise};exports.PDFNet.Convert.office2PDFBuffer=
function(input,options){return new Promise(function(resolve,reject){var partRetriever=typeof input==="string"?new CoreControls.PartRetrievers.ExternalPdfPartRetriever(input):new CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever(input);var officeDoc=new CoreControls.Document(undefined,"office");var officeDocReady=function(err){if(err)reject(err);officeDoc.getFileData({"downloadType":"pdf"}).then(function(buffer){resolve(buffer)})["catch"](function(e){reject(e)})};officeDoc.loadAsync(partRetriever,
officeDocReady,{workerTransportPromise:CoreControls.initOfficeWorkerTransports(CoreControls.getCurrentPDFBackendType(),{},options["l"])})})};if(!existingPDFNet){exports.PDFNet.hasFullAPI=false;if(window.Proxy)exports.PDFNet=new window.Proxy(exports.PDFNet,{get:function(obj,prop){if(prop in obj)return obj[prop];throw new Error('Full version of PDFNetJS has not been loaded. Please pass the "fullAPI: true" option in your WebViewer constructor to use the PDFNet APIs.');}})}})(typeof window==="undefined"?
this:window);var J=self,S=J.$X;(function(){function b(a){e?e.push(a):setTimeout(a,0)}var f={version:"0.7.2.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},ug:function(a){return null===a||void 0===a},z0:function(a){return null!==a&&void 0!==a}},e=[];J.attachEvent&&J.attachEvent("onload",function(){if(e){var a=e;e=null;for(var d=0,c=a.length;d<c;d++)a[d]()}});S||(J.$X=S={init:b,ready:b});for(var c in f)S[c]=f[c]})();Object.sf="Object";Object.nl=null;Object.q_=function(b){for(var f in b)delete b[f]};
Object.Lr=function(b,f){return void 0!==b[f]};Object.keys?Object.nS=function(b){return Object.keys(b).length}:(Object.keys=function(b){var f=[],e;for(e in b)f.push(e);return f},Object.nS=function(b){var f=0,e;for(e in b)f++;return f});Boolean.sf="Boolean";Boolean.parse=function(b){return"true"==b.toLowerCase()};Number.sf="Number";Number.parse=function(b){return b&&b.length?0<=b.indexOf(".")||0<=b.indexOf("e")||b.endsWith("f")||b.endsWith("F")?parseFloat(b):parseInt(b,10):0};
Number.prototype.format=function(b){return S.ug(b)||0==b.length||"i"==b?this.toString():ca(this,b,!1)};Number.prototype.AJ=function(b){return S.ug(b)||0==b.length||"i"==b?this.toLocaleString():ca(this,b,!0)};
Number.qy=function(b,f,e,c){var a=null;e=b.indexOf(e);0<e&&(a=b.substr(e),b=b.substr(0,e));(e=b.startsWith("-"))&&(b=b.substr(1));var d=0,g=f[d];if(b.length<g)return a?b+a:b;for(var m=b.length,h="",k=!1;!k;){var n=g,l=m-n;0>l&&(g+=l,n+=l,l=0,k=!0);if(!n)break;l=b.substr(l,n);h=h.length?l+c+h:l;m-=n;d<f.length-1&&(d++,g=f[d])}e&&(h="-"+h);return a?h+a:h};
function ca(b,f,e){e=e?S.zM.iZ.numberFormat:S.zM.sZ.numberFormat;var c="",a=-1;1<f.length&&(a=parseInt(f.substr(1)));f=f.charAt(0);switch(f){case "d":case "D":c=parseInt(Math.abs(b)).toString();-1!=a&&(c=c.length<a?String.zH(a-c.length)+c:c);0>b&&(c="-"+c);break;case "x":case "X":c=parseInt(Math.abs(b)).toString(16);"X"==f&&(c=c.toUpperCase());-1!=a&&(c=c.length<a?String.zH(a-c.length)+c:c);break;case "e":case "E":c=-1==a?b.toExponential():b.toExponential(a);"E"==f&&(c=c.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
a&&(a=e.I0);c=b.toFixed(a).toString();a&&"."!=e.HJ&&(a=c.indexOf("."),c=c.substr(0,a)+e.HJ+c.substr(a+1));if("n"==f||"N"==f)c=Number.qy(c,e.K0,e.HJ,e.J0);break;case "c":case "C":-1==a&&(a=e.B_);c=Math.abs(b).toFixed(a).toString();a&&"."!=e.AG&&(a=c.indexOf("."),c=c.substr(0,a)+e.AG+c.substr(a+1));c=Number.qy(c,e.D_,e.AG,e.C_);c=0>b?String.format(e.E_,c):String.format(e.F_,c);break;case "p":case "P":-1==a&&(a=e.P0),c=(100*Math.abs(b)).toFixed(a).toString(),a&&"."!=e.ZJ&&(a=c.indexOf("."),c=c.substr(0,
a)+e.ZJ+c.substr(a+1)),c=Number.qy(c,e.R0,e.ZJ,e.Q0),c=0>b?String.format(e.S0,c):String.format(e.T0,c)}return c}String.sf="String";String.CM="";String.compare=function(b,f,e){e&&(b&&(b=b.toUpperCase()),f&&(f=f.toUpperCase()));b=b||"";f=f||"";return b==f?0:b<f?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(b){return b.length?b.length>this.length?!1:this.substr(this.length-b.length)==b:!0};String.iH=function(b,f,e){return 0==String.compare(b,f,e)};String._format=function(b,f,e){String.LE||(String.LE=/(\{[^\}^\{]+\})/g);return b.replace(String.LE,function(c,a){var d=f[parseInt(a.substr(1))+1];if(S.ug(d))return"";if(d.format){var g=null,b=a.indexOf(":");0<b&&(g=a.substring(b+1,a.length-1));return e?d.AJ(g):d.format(g)}return e?d.toLocaleString():d.toString()})};
String.format=function(b){return String._format(b,arguments,!1)};String.zH=function(b){for(var f="0",e=1;e<b;e++)f+="0";return f};String.prototype.insert=function(b,f){return f?b?this.substr(0,b)+f+this.substr(b):f+this:this};String.Uv=function(b){return!b||!b.length};String.AJ=function(b){return String._format(b,arguments,!0)};String.prototype.remove=function(b,f){return!f||b+f>this.length?this.substr(0,b):this.substr(0,b)+this.substr(b+f)};
String.prototype.startsWith=function(b){return b.length?b.length>this.length?!1:this.substr(0,b.length)==b:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.sf="Array";Array.xt=[S.Ys];Array.prototype.add=function(b){this.push(b)};Object.defineProperty(Array.prototype,"add",{enumerable:!1,writable:!0});Array.prototype.addRange=function(b){this.push.apply(this,b)};Object.defineProperty(Array.prototype,"addRange",{enumerable:!1,writable:!0});
Object.defineProperty(Array.prototype,"aggregate",{enumerable:!1,writable:!0});Array.prototype.clear=function(){this.length=0};Object.defineProperty(Array.prototype,"clear",{enumerable:!1,writable:!0});Array.prototype.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};Object.defineProperty(Array.prototype,"clone",{enumerable:!1,writable:!0});Array.prototype.contains=function(b){return 0<=this.indexOf(b)};Object.defineProperty(Array.prototype,"contains",{enumerable:!1,writable:!0});
Array.prototype.dequeue=function(){return this.shift()};Object.defineProperty(Array.prototype,"dequeue",{enumerable:!1,writable:!0});Array.prototype.enqueue=function(b){this.OO=!0;this.push(b)};Object.defineProperty(Array.prototype,"enqueue",{enumerable:!1,writable:!0});function ea(b){return b.length?b[b.OO?0:b.length-1]:null}Object.defineProperty(Array.prototype,"peek",{enumerable:!1,writable:!0});
Array.prototype.every||(Array.prototype.every=function(b,f){for(var e=this.length,c=0;c<e;c++)if(c in this&&!b.call(f,this[c],c,this))return!1;return!0},Object.defineProperty(Array.prototype,"every",{enumerable:!1,writable:!0}));Object.defineProperty(Array.prototype,"extract",{enumerable:!1,writable:!0});
Array.prototype.filter||(Array.prototype.filter=function(b,f){for(var e=this.length,c=[],a=0;a<e;a++)if(a in this){var d=this[a];b.call(f,d,a,this)&&c.push(d)}return c},Object.defineProperty(Array.prototype,"filter",{enumerable:!1,writable:!0}));Array.prototype.forEach||(Array.prototype.forEach=function(b,f){for(var e=this.length,c=0;c<e;c++)c in this&&b.call(f,this[c],c,this)},Object.defineProperty(Array.prototype,"forEach",{enumerable:!1,writable:!0}));Array.prototype.getEnumerator=function(){return new S.Ns(this)};
Object.defineProperty(Array.prototype,"getEnumerator",{enumerable:!1,writable:!0});Array.prototype.groupBy=function(b,f){for(var e=this.length,c=[],a={},d=0;d<e;d++)if(d in this){var g=b.call(f,this[d],d);if(!String.Uv(g)){var m=a[g];m||(m=[],m.key=g,a[g]=m,c.add(m));m.add(this[d])}}return c};Object.defineProperty(Array.prototype,"groupBy",{enumerable:!1,writable:!0});
Array.prototype.index=function(b,f){for(var e=this.length,c={},a=0;a<e;a++)if(a in this){var d=b.call(f,this[a],a);String.Uv(d)||(c[d]=this[a])}return c};Object.defineProperty(Array.prototype,"index",{enumerable:!1,writable:!0});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,f){var e=this.length;if(e)for(var c=f||0;c<e;c++)if(this[c]===b)return c;return-1},Object.defineProperty(Array.prototype,"indexOf",{enumerable:!1,writable:!0}));
Array.prototype.insert=function(b,f){this.splice(b,0,f)};Object.defineProperty(Array.prototype,"insert",{enumerable:!1,writable:!0});Object.defineProperty(Array.prototype,"insertRange",{enumerable:!1,writable:!0});Array.prototype.map||(Array.prototype.map=function(b,f){for(var e=this.length,c=Array(e),a=0;a<e;a++)a in this&&(c[a]=b.call(f,this[a],a,this));return c},Object.defineProperty(Array.prototype,"map",{enumerable:!1,writable:!0}));
Array.prototype.remove=function(b){b=this.indexOf(b);return 0<=b?(this.splice(b,1),!0):!1};Object.defineProperty(Array.prototype,"remove",{enumerable:!1,writable:!0});Object.defineProperty(Array.prototype,"removeAt",{enumerable:!1,writable:!0});Array.prototype.removeRange=function(b,f){return this.splice(b,f)};Object.defineProperty(Array.prototype,"removeRange",{enumerable:!1,writable:!0});
Array.prototype.some||(Array.prototype.some=function(b,f){for(var e=this.length,c=0;c<e;c++)if(c in this&&b.call(f,this[c],c,this))return!0;return!1},Object.defineProperty(Array.prototype,"some",{enumerable:!1,writable:!0}));Array.toArray=function(b){return Array.prototype.slice.call(b)};RegExp.sf="RegExp";RegExp.parse=function(b){if(b.startsWith("/")){var f=b.lastIndexOf("/");if(1<f)return new RegExp(b.substring(1,f),b.substr(f+1))}return null};Error.sf="Error";
Error.u_=function(b,f,e){b=Error(b);if(f)for(var c in f)b[c]=f[c];e&&(b.o0=e);if(!(S.ug(b.stack)||S.ug(b.fileName)||S.ug(b.lineNumber))){f=b.stack.split("\n");e=f[0];for(c=b.fileName+":"+b.lineNumber;!S.ug(e)&&-1===e.indexOf(c);)f.shift(),e=f[0];e=f[1];isNullOrUndefined(e)||(e=e.match(/@(.*):(\d+)$/),S.ug(e)||(f.shift(),b.stack=f.join("\n"),b.fileName=e[1],b.lineNumber=parseInt(e[2])))}return b};J.yc=Function;J.yc.sf="Type";J.WD=function(b){this.sf=b};J.WD.prototype={gO:!0,getName:function(){return this.sf}};
J.yc.Lw=function(b){J.ky||(J.ky={});J.kE||(J.kE=[]);if(!J.ky[b]){for(var f=self,e=b.split("."),c=0;c<e.length;c++){var a=e[c],d=f[a];d||(f[a]=d=new J.WD(e.slice(0,c+1).join(".")),0==c&&J.kE.add(d));f=d}J.ky[b]=f}};J.yc.prototype.Pa=function(b,f,e){this.prototype.constructor=this;this.sf=b;this.YD=!0;this.nl=f||Object;f&&(this.wt=!0);if(e){this.xt=[];for(var c=2;c<arguments.length;c++)e=arguments[c],this.xt.add(e)}};function fa(b,f){b.sf=f;b.dE=!0}
J.yc.prototype.OC=function(){if(this.wt){var b=this.nl;b.wt&&b.OC();for(var f in b.prototype){var e=b.prototype[f];this.prototype[f]||(this.prototype[f]=e)}delete this.wt}};J.yc.prototype.kW||(J.yc.prototype.kW=J.yc.prototype.OC);function ga(b,f){return S.ug(f)?!1:b==Object||f instanceof b?!0:ka(b,J.yc.lS(f))}
function ka(b,f){if(b==Object||b==f)return!0;if(b.YD)for(var e=f.nl;e;){if(b==e)return!0;e=e.nl}else if(b.dE){var c=f.xt;if(c&&c.contains(b))return!0;for(e=f.nl;e;){if((c=e.xt)&&c.contains(b))return!0;e=e.nl}}return!1}J.yc.r0=function(b){return 1==b.YD};J.yc.s0=function(b){return 1==b.eO};J.yc.t0=function(b){return 1==b.eO&&1==b.$D};J.yc.u0=function(b){return 1==b.dE};J.yc.v0=function(b){return 1==b.gO};J.yc.n_=function(b,f){return ga(f,b)};J.yc.$0=function(b,f){return ga(f,b)?b:null};
J.yc.lS=function(b){var f=null;try{f=b.constructor}catch(e){}f&&f.sf||(f=Object);return f};S.sj=function(){};S.sj.Pa("Enum");S.sj.parse=function(b,f){var e=b.prototype;if(b.$D){for(var c=f.split("|"),a=0,d=!0,g=c.length-1;0<=g;g--){var m=c[g].trim(),h=!1;for(k in e)if(k===m){a|=e[k];h=!0;break}if(!h){d=!1;break}}if(d)return a}else for(var k in e)if(k===f)return e[k];throw"Invalid Enumeration Value";};
S.sj.e_=function(b){var f=this.prototype;if(this.$D&&0!==b){var e=[];for(c in f)f[c]&b&&(e.length&&e.add(" | "),e.add(c));if(!e.length)throw"Invalid Enumeration Value";return e.join("")}for(var c in f)if(f[c]===b)return c;throw"Invalid Enumeration Value";};S.vd=function(){};S.vd.Pa("Delegate");S.vd.empty=function(){};S.vd.nO=function(b,f,e){for(var c=0;c<b.length;c+=2)if(b[c]===f&&b[c+1]===e)return!0;return!1};
S.vd._create=function(b){function f(){if(2==b.length)return b[1].apply(b[0],arguments);for(var e=b.clone(),c=0;c<e.length;c+=2)S.vd.nO(b,e[c],e[c+1])&&e[c+1].apply(e[c],arguments);return null}f.gh=b;return f};S.vd.create=function(b,f){return b?S.vd._create([b,f]):f};S.vd.r_=function(b,f){return b?f?S.vd._create((b.gh?b.gh:[null,b]).concat(f.gh?f.gh:[null,f])):b.gh?b:S.vd.create(null,b):f.gh?f:S.vd.create(null,f)};
S.vd.remove=function(b,f){if(!b||b===f)return null;if(!f)return b;var e=b.gh,c=null,a;f.gh?(c=f.gh[0],a=f.gh[1]):a=f;for(var d=0;d<e.length;d+=2)if(e[d]===c&&e[d+1]===a){if(2==e.length)return null;e.splice(d,2);return S.vd._create(e)}return b};S.vd.v_=function(b,f,e){e=e||"__"+(new Date).valueOf();self[e]=f?b:function(){try{delete self[e]}catch(c){self[e]=void 0}b.apply(null,arguments)};return e};S.vd.J_=function(b){delete self[b]};S.vd.p_=function(b){self[b]=S.vd.empty};S.Ue=function(){};
S.Ue.prototype={Fh:null,reset:null};S.Ue.getEnumerator=function(b){return b?b.getEnumerator?b.getEnumerator():new S.Ns(b):null};fa(S.Ue,"IEnumerator");S.Ys=function(){};S.Ys.prototype={getEnumerator:null};fa(S.Ys,"IEnumerable");S.Ns=function(b){this.qE=b;this.Qt=-1;this.current=null};S.Ns.prototype={Fh:function(){this.Qt++;this.current=this.qE[this.Qt];return this.Qt<this.qE.length},reset:function(){this.Qt=-1;this.current=null}};S.Ns.Pa("ArrayEnumerator",null,S.Ue);S.yD=function(){};
S.yD.prototype={fd:null};fa(S.yD,"IDisposable");S.QD=function(b){this.iu=S.ug(b)?[]:[b];this.isEmpty=0==this.iu.length};S.QD.prototype={append:function(b){S.ug(b)||(this.iu.add(b),this.isEmpty=!1);return this},clear:function(){this.iu=[];this.isEmpty=!0},toString:function(b){return this.iu.join(b||"")}};S.QD.Pa("StringBuilder");S.Ws=function(){};S.Ws.Pa("EventArgs");S.Ws.CM=new S.Ws;J.XMLHttpRequest||(J.XMLHttpRequest=function(){for(var b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<b.length;f++)try{return new ActiveXObject(b[f])}catch(e){}return null});
S.sD=function(){var b=S.sD;b.wt&&b.OC();b.nl.apply(this);this.cancel=!1};S.sD.Pa("CancelEventArgs",S.Ws);S.TN=function(b,f){this.first=b;this.second=f};S.TN.Pa("Tuple");S.ee=function(b){this.Uy=b;this.di=null};S.ee.prototype={Xa:function(){this.di=S.ee.uE(this.di);return this.Uy},Lb:function(b){this.Uy!==b&&(this.Uy=b,b=this.di)&&(this.di=null,S.ee.UE(b))}};S.ee.Ny=[];S.ee.JO={fd:function(){S.ee.Ny.pop()}};S.ee.Y0=function(b){S.ee.Ny.push(b);return S.ee.JO};
S.ee.uE=function(b){var f=S.ee.Ny,e=f.length;if(e){b=b||[];for(var c=0;c<e;c++){var a=f[c];b.contains(a)||b.push(a)}return b}return null};S.ee.UE=function(b){for(var f=0,e=b.length;f<e;f++)b[f].q0()};S.ee.Pa("Observable");S.CD=function(b){this.Oj=b||[];this.di=null};
S.CD.prototype={add:function(b){this.Oj.push(b);la(this)},clear:function(){this.Oj.clear();la(this)},contains:function(b){return this.Oj.contains(b)},getEnumerator:function(){this.di=S.ee.uE(this.di);return this.Oj.getEnumerator()},indexOf:function(b){return this.Oj.indexOf(b)},insert:function(b,f){this.Oj.insert(b,f);la(this)},remove:function(b){return this.Oj.remove(b)?(la(this),!0):!1},toArray:function(){return this.Oj}};function la(b){var f=b.di;f&&(b.di=null,S.ee.UE(f))}
S.CD.Pa("ObservableCollection",null,S.Ys);S.OM=function(){};fa(S.OM,"IApplication");S.PM=function(){};fa(S.PM,"IContainer");S.TM=function(){};fa(S.TM,"IObjectFactory");S.QM=function(){};fa(S.QM,"IEventManager");S.RM=function(){};fa(S.RM,"IInitializable");self.yc.Lw("XODText");self.yc.Lw("XODTextOld");XODText.gd=function(){};
XODText.Ux=function(b,f){this.aF=b;this.ob=Array(8);this.ob[0]=f[0];this.ob[1]=f[1];this.ob[2]=f[2];this.ob[3]=f[3];this.ob[4]=f[4];this.ob[5]=f[5];this.ob[6]=f[6];this.ob[7]=f[7]};XODText.Ux.prototype={aF:null,ob:null,Uc:function(){for(var b=Array(8),f=0;8>f;f++)b[f]=this.ob[f];return b}};XODText.tJ={ff:String.fromCharCode(64256),fi:String.fromCharCode(64257),fl:String.fromCharCode(64258),ffi:String.fromCharCode(64259),ffl:String.fromCharCode(64260),ft:String.fromCharCode(64261),st:String.fromCharCode(64262)};
XODText.JB=function(b){this.VN=this.width=b};XODText.JB.prototype={width:0,VN:0};XODText.lw=function(){};XODText.lw.prototype={A:function(){},addColorStop:function(){}};XODText.kn=function(b){this.Al=[];this.yE={};var f=new XODText.Matrix2D;f.set(1,0,0,1,0,0);this.Al.push(f);this.xn=b};
$.extend(XODText.kn.prototype,{xn:null,jF:0,qq:0,Ly:0,canvas:{q1:0,height:0},rS:function(b){return this.yE[b]},f_:function(b,f){var e=new XODText.Na;e.Ah(b);f.bD(e);return e.width()},yn:function(b){if(Object.Lr(this.xn,b))return this.xn[b];b=b.split(" ")[1];console.assert(Object.Lr(this.xn,b),"Font "+b+" file not found");return this.xn[b]},BF:function(b,f){var e=new XODText.Matrix2D,c=b.Ky,a=b.bF;e.set(a/c,0,0,a/c,0,0);e.bD(f)},font:null,save:function(){var b=new XODText.Matrix2D;b.initMatrix(ea(this.Al));
this.Al.push(b)},restore:function(){this.Al.pop()},transform:function(b,f,e,c,a,d){var g=new XODText.Matrix2D;g.set(b,f,e,c,a,d);ea(this.Al).concat(g)},rotate:function(b){var f=new XODText.Matrix2D,e=Math.cos(b);b=Math.sin(b);f.set(e,b,-b,e,0,0);ea(this.Al).concat(f)},translate:function(b,f){this.qq=b;this.Ly=f},setLineDash:function(){},fillRect:function(){},fillText:function(b,f,e){var c=this.yn(this.font);this.Kt(b,f,e,c)},Kt:function(b,f,e,c){if(!this.vn){this.translate(f,e);f=0;for(e=b.length;f<
e;){var a=b.charCodeAt(f),d=f;55296<=a&&55551>=a?(a=String.fromCodePoint((a-55296<<10)+(b.charCodeAt(f+1)-56320)+65536),f+=2):(a=String.fromCodePoint(a),f++);d=this.$v&&d in this.$v?this.$v[d]:a;a=c.nA(a);this.BF(c,a);var g=a.y1;a.y1=a.y2;a.y2=g;a.x1+=this.qq;a.x2+=this.qq;a.y1+=this.Ly;a.y2+=this.Ly;this.qq+=a.width();g=Array(8);g[0]=a.x1;g[1]=a.y1;g[2]=a.x2;g[3]=a.y1;g[4]=a.x2;g[5]=a.y2;g[6]=a.x1;g[7]=a.y2;ea(this.Al).TL(g);this.yE[this.jF]=new XODText.Ux(d,g);this.jF++}this.$v=null}},measureText:function(b){var f=
this.yn(this.font);return this.fF(b,f)},fF:function(b,f){var e=0;if(!this.vn)for(var c=0,a=b.length;c<a;){var d=b.charCodeAt(c);55296<=d&&55551>=d?(d=f.nA(String.fromCodePoint((d-55296<<10)+(b.charCodeAt(c+1)-56320)+65536)),c+=2):(d=f.nA(String.fromCodePoint(d)),c++);this.BF(f,d);e+=d.width()}return new XODText.JB(e)},strokeRect:function(){},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.lw},createRadialGradient:function(){return new XODText.lw},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(b,f,e,c,
a,d){this.transform(b,f,e,c,a,d)},ro:function(b){this.rotate(b)},T:function(b,f){this.translate(b,f)},w:0,c:null,s:null,f:null,a:0,L:function(b,f,e,c){return this.createLinearGradient(b,f,e,c)},R:function(b,f,e,c,a,d){return this.createRadialGradient(b,f,e,c,a,d)},P:function(b,f){this.createPattern(b,f)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},cr:function(){this.strokeRect()},C:function(){this.clip()},M:function(b,
f){this.moveTo(b,f)},l:function(b,f){this.lineTo(b,f)},q:function(b,f,e,c){this.quadraticCurveTo(b,f,e,c)},B:function(b,f,e,c,a,d){this.bezierCurveTo(b,f,e,c,a,d)},n:null,x:function(b,f,e){var c=this.yn(this.font);this.Kt(b,f,e,c)},m:function(b){var f=this.yn(this.font);return this.fF(b,f)},i:0,j:null,I:function(b,f,e){this.drawImage(b,f,e)},Z:function(b,f,e,c,a,d){this.setTransform(b,f,e,c,a,d)},d:function(b,f,e,c){return this.getImageData(b,f,e,c)},D:function(b,f,e){this.putImageData(b,f,e)},e:function(b,
f){this.scale(b,f)},tm:function(b){this.$v=b},fillTextCustom:function(b,f,e){var c=this.yn(this.font);this.Kt(b,f,e,c)},xc:function(b,f,e){var c=this.yn(this.font);this.Kt(b,f,e,c)},cgb:function(){console.assert(!this.vn,"Custom Glyphs begin offset is incorrect");this.vn=!0},cge:function(){console.assert(this.vn,"Custom Glyphs end offset is incorrect");this.vn=!1},xw:function(b,f,e){1<b.length&&(b=b.substr(0,b.length-1));this.x(b,f,e)},xcw:function(b,f,e){1<b.length&&(b=b.substr(0,b.length-1));this.xc(b,
f,e)},createCanvas:function(){return{getContext:function(){return new XODText.kn(this.xn)}}},vn:!1});Object.defineProperties(XODText.kn.prototype,{n:{get:function(){return this.font},set:function(b){this.font=b}}});XODText.ye=function(){this.vf=[];this.Xc=[];this.La=[];this.nd=!1;this.En=null};
XODText.ye.prototype={clear:function(){this.Ya="";this.Xc.clear();this.La.clear();this.nd=!1},Tb:function(){this.Xc=[];this.La=[];this.nd=!1},uP:function(b){function f(e){for(var c=e.length,a=0;a<c;a+=8){var d=b.W({x:e[a],y:e[a+1]}),g=b.W({x:e[a+2],y:e[a+3]}),m=b.W({x:e[a+4],y:e[a+5]}),f=b.W({x:e[a+6],y:e[a+7]}),k=new XODText.ab;k.vF(d.x,d.y,g.x,g.y,m.x,m.y,f.x,f.y);k=k.zh();e[a]=k.x1;e[a+1]=k.y1;e[a+2]=k.x2;e[a+3]=k.y2;e[a+4]=k.x3;e[a+5]=k.y3;e[a+6]=k.x4;e[a+7]=k.y4}}f(this.La);this.vf.forEach(function(b){f(b.ob);
b.Fb.forEach(function(c){f(c.ob);c.Nd.forEach(function(a){f(a)})})})},cs:function(b){this.La=b.m_Quads;this.Xc=b.m_Offsets;this.Ya=b.m_Str;this.nd=b.m_Ready;this.vf=function(b,e,c){function a(a,d){return a.slice(d,d+8)}function d(){var d=new XODText.Db;d.kc=b[k+1];d.nb=q;q++;var g=b[k+1];d.ka=c.slice(g,g+b[k+2]);d.nq=g;for(var g=b[k],m=0;m<g;++m)d.Nd.push(a(e,8*(d.kc+m)));l&&(l.pq=d);return l=d}function g(a){var c=d(),g=b[k],e=b[k+3],m=b[k+4],h;if(e===m){e=Math.min(a.x1,a.x2);m=Math.max(a.x1,a.x2);
h=c.Nd[0];a=c.Nd[g-1];a=[h[1],h[3],h[5],h[7],a[1],a[3],a[5],a[7]];h=Math.min.apply(null,a);a=Math.max.apply(null,a);for(var l=0;l<g;++l)for(var n=c.Nd[l],q=Math.min(n[0],n[2],n[4]),y=0;8>y;y+=2)n[y]=n[y]===q?e:m}else for(h=Math.min(a.y1,a.y2),a=Math.max(a.y1,a.y2),l=0;l<g;++l)for(n=c.Nd[l],q=Math.min(n[1],n[3],n[5]),y=1;8>y;y+=2)n[y]=n[y]===q?a:h;g=c.ob;n=c.Nd[0];l=n[2]-n[0];n=n[3]-n[1];0<l?(g[0]=e,g[1]=a,g[2]=m,g[3]=a,g[4]=m,g[5]=h,g[6]=e,g[7]=h):0>l?(g[0]=e,g[1]=h,g[2]=m,g[3]=h,g[4]=m,g[5]=a,g[6]=
e,g[7]=a):0<n?(g[0]=e,g[1]=h,g[2]=e,g[3]=a,g[4]=m,g[5]=a,g[6]=m,g[7]=h):0>n?(g[0]=m,g[1]=a,g[2]=m,g[3]=h,g[4]=e,g[5]=h,g[6]=e,g[7]=a):(g[0]=e,g[1]=a,g[2]=m,g[3]=a,g[4]=m,g[5]=h,g[6]=e,g[7]=h);k+=5;return c}function m(){var c=d();c.ob=a(b,k+3);k+=11;return c}function h(d){var c=new XODText.Vb;c.nb=d;var e=0<b[k];if(e){var h=6;d=b[k];var q=c.ob,A=b.slice(k+2,k+4),B=b.slice(k+4,k+6);q[0]=A[0];q[1]=A[1];q[2]=B[0];q[3]=A[1];q[4]=B[0];q[5]=B[1];q[6]=A[0];q[7]=B[1]}else h=10,d=-b[k],c.ob=a(b,k+2);e=e?g:
m;q=new XODText.Na;c.qb(q);k+=h;l=null;for(h=0;h<d;++h)c.Fb.push(e(q));c.ka=c.Fb.map(function(a){return a.ka}).join(" ");c.nq=c.Fb[0]?c.Fb[0].nq:0;n&&(n.oq=c);return n=c}var k=0,n=null,l=null,q=0;return function(){var a=[],d=b[k];k++;for(var c=0;c<d;++c)a.push(h(c));return a}()}(b.m_Struct,this.La,this.Ya)},Nt:function(b){for(var f="",e=0,c,a,d;e<b.length;)c=b.charCodeAt(e),9==c?(f+=String.fromCharCode(10),e++):128>c?(f+=String.fromCharCode(c),e++):191<c&&224>c?(a=b.charCodeAt(e+1),f+=String.fromCharCode((c&
31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),d=b.charCodeAt(e+2),f+=String.fromCharCode((c&15)<<12|(a&63)<<6|d&63),e+=3);return f},mF:function(b,f){for(var e=new XODText.Db,c=S.Ue.getEnumerator(b.split(",")),a=-1;c.Fh();){var d=c.current.split(":"),g=parseInt(d[0]),m=0;1<d.length&&(m=parseInt(d[1]));a===g&&(++g,--m);for(a=g+m;g<=a;g++)d=f.rS(g),m=d.aF,1<m.length&&(m=m in XODText.tJ?XODText.tJ[m]:m.charAt(0)),e.uu(m,d.Uc()),this.Xc.add(g),this.La.addRange(d.Uc())}return e},parse:function(b,f){var e=0,c=
0,a=0;do{for(var d;b.advance();)if(d=b.va(),"F"===d)b.oa();else if("P"===d)b.oa();else if("L"===d){b.oa();d=new XODText.Vb;d.rq(e++);0<this.vf.length&&this.vf[this.vf.length-1].bL(d);this.vf.add(d);for(var g=S.Ue.getEnumerator(b.current.textContent.split(" "));g.Fh();){var m=g.current;if(0<d.xh()){this.Ya+=" ";this.Xc.add(-1);a++;var h=Array(8);d.jd().Uc(h);this.La.addRange(h)}m=this.mF(m,f);m.rq(c++);m.yF(a);d.OF(m);this.Ya+=m.ka;a+=m.hc()}this.Ya+="\n";this.Xc.add(-2);a++;console.assert(0<d.xh(),
"No words in line");0<d.xh()&&(h=Array(8),d.jd().Uc(h),this.La.addRange(h))}else console.assert("XML parser has encountered a symbol it can't process.");b.Ca()}while(b.depth)},gQ:function(b,f){var e=0,c=0,a=0;this.En=[];for(var d=0;d<b.length;++d)for(var g=b[d],m=0;m<g.length;++m)for(var h=g[m],k=0;k<h.length;++k){var n=new XODText.Vb;n.rq(e++);0<this.vf.length&&this.vf[this.vf.length-1].bL(n);this.vf.add(n);for(var l=S.Ue.getEnumerator(h[k].split(" "));l.Fh();){var q=l.current;if(0<n.xh()){this.En.push(this.Ya.length);
this.Ya+=" ";this.Xc.add(-1);a++;var p=Array(8);n.jd().Uc(p);this.La.addRange(p)}q=this.mF(q,f);q.rq(c++);q.yF(a);n.OF(q);this.Ya+=q.ka;a+=q.hc()}this.En.push(this.Ya.length);this.Ya+="\n";this.Xc.add(-2);a++;console.assert(0<n.xh(),"No words in line");0<n.xh()&&(p=Array(8),n.jd().Uc(p),this.La.addRange(p))}this.nd=!0},iC:function(b,f){try{var e=new window.Ve(b);console.assert("TextData"===e.va(),"XML parser has encountered a symbol it can't process.");"TextData"===e.va()&&(e.oa(),this.parse(e,f))}catch(c){console.warn("TextSelection has encountered an error: "+
c.message);return}this.nd=!0},ready:function(){return this.nd},mr:function(){return this.vf.length?this.vf[0]:new XODText.Vb},me:function(){return this.La},Ya:"",Xc:null,La:null,nd:!1};XODText.Vb=function(){this.Fb=[];this.nb=-1;this.zc=[];this.ob=Array(8);this.oq=null};
XODText.Vb.prototype={Tb:function(){this.nb=this.Pc=-1;this.zc=[]},ua:function(b){return this.nb===b.nb},xh:function(){return this.Fb.length},Rb:function(){return this.Fb.length?this.Fb[0]:new XODText.Db},jd:function(){return this.Fb.length?this.Fb[this.Fb.length-1]:new XODText.Db},DI:function(b){return 0>b||b>=this.xh()?new XODText.Db:this.Fb[b]},Ge:function(){return null==this.oq?new XODText.Vb:this.oq},qb:function(b){b.Hm(this.ob)},rq:function(b){this.nb=b},sh:function(){if(this.zc.length)return this.zc[0];
var b=new XODText.fa,f=new XODText.fa,e=this.Rb(),c=this.jd(),a=Array(8),d=Array(8);e.Bd(0,a);b.x=(a[0]+a[2]+a[4]+a[6])/4;b.y=(a[1]+a[3]+a[5]+a[7])/4;c.Bd(c.hc()-1,d);f.x=(d[0]+d[2]+d[4]+d[6])/4;f.y=(d[1]+d[3]+d[5]+d[7])/4;.01>Math.abs(b.x-f.x)&&.01>Math.abs(b.y-f.y)&&this.zc.add(0);b=Math.atan2(f.y-b.y,f.x-b.x);b*=180/3.1415926;0>b&&(b+=360);this.zc.add(b);return 0},ka:"",Ea:null,nb:0,zc:null,ob:null,oq:null,bL:function(b){this.oq=b},OF:function(b){0<this.Fb.length&&this.Fb[this.Fb.length-1].hX(b);
this.Fb.add(b);var f=String.Uv(this.ka),e=Array(8);b.Uc(e);if(f)for(f=0;8>f;f++)this.ob[f]=e[f];else this.ka+=" ",XODText.ab.eu(this.ob,e,!1,0);this.ka+=b.ka}};XODText.Db=function(){this.Nd=[];this.nb=this.kc=-1;this.ob=Array(8);this.pq=null};
XODText.Db.prototype={Tb:function(){this.nb=this.kc=-1},ua:function(b){return this.nb===b.nb},hc:function(){return this.Nd.length},rg:function(){return this.ka.length},$a:function(){return this.nq},yF:function(b){this.nq=b},le:function(){return null==this.pq?new XODText.Db:this.pq},qo:function(b,f){if(this.Nd&&this.Nd[b]){var e=this.Nd[b][0],c=this.Nd[b][2],a=this.Nd[b][1],d=this.Nd[b][5];a<d?(f[1]=d,f[3]=d,f[5]=a,f[7]=a):(f[1]=a,f[3]=a,f[5]=d,f[7]=d);f[0]=e;f[2]=c;f[4]=c;f[6]=e}else exports.utils.warn("default",
"getGlyphQuadInWordQuadFormat: No glyph with index "+b+" found.")},Bd:function(b,f){for(var e=0;8>e;e++)f[e]=this.Nd[b][e]},Uc:function(b){for(var f=0;8>f;f++)b[f]=this.ob[f]},qb:function(b){var f=new XODText.Na;f.Hm(this.ob);b[0]=f.x1;b[1]=f.y1;b[2]=f.x2;b[3]=f.y2},rq:function(b){this.nb=this.kc=b},kc:0,ka:"",Ea:null,nb:0,nq:0,ob:null,pq:null,uu:function(b,f){var e=String.Uv(this.ka);this.ka+=b;for(var c=Array(8),a=0;8>a;a++)c[a]=f[a];for(a=0;a<b.length;++a)this.Nd.add(c);if(e)for(a=0;8>a;a++)this.ob[a]=
c[a];else XODText.ab.eu(this.ob,c,!1,0)},hX:function(b){this.pq=b}};XODTextOld.ye=function(){};
XODTextOld.ye.prototype={clear:function(){this.fb.clear();this.Ya="";this.Xc.clear();this.La.clear();this.nd=!1},Tb:function(){this.fb=[];this.Xc=[];this.La=[];this.nd=!1},Nt:function(b){for(var f="",e=0,c,a,d;e<b.length;)c=b.charCodeAt(e),9==c?(f+=String.fromCharCode(10),e++):128>c?(f+=String.fromCharCode(c),e++):191<c&&224>c?(a=b.charCodeAt(e+1),f+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),d=b.charCodeAt(e+2),f+=String.fromCharCode((c&15)<<12|(a&63)<<6|d&63),e+=3);return f},
UT:function(b){this.fb=[];this.Xc=[];this.La=[];this.nd=!1;try{var f=new window.Ve(b);this.Ya="";f.oa();if(!f.advance())return;var e=f.current.textContent;this.Ya=e=this.Nt(e);this.Xc.clear();f.advance();for(var e=f.current.textContent,c=e.split(","),a=S.Ue.getEnumerator(c);a.Fh();){var d=a.current;try{var g=parseInt(d.trim());this.Xc.add(g)}catch(r){}}this.fb.clear();f.advance();for(var e=f.current.textContent,c=e.split(","),m=S.Ue.getEnumerator(c);m.Fh();){d=m.current;try{g=parseFloat(d.trim()),
this.fb.add(g)}catch(r){}}this.La.clear();f.advance();e=f.current.textContent;c=e.split(",");b=[];for(var f=[],e=0,h=S.Ue.getEnumerator(c);h.Fh();){d=h.current;switch(d){case "Q":e=1;break;case "R":e=2;break;case "S":e=3;break;default:e=0}if(e)b.add(0),f.add(e);else try{g=parseFloat(d.trim()),b.add(g),f.add(e)}catch(r){return}}for(var e=0,k=b.length,n,l,q,p,h=d=c=0;h<k;){var u=f[h];if(0<u)e=u,++h,3===e&&(c=b[h],d=b[h+1],h+=2);else if(1===e)for(g=0;8>g;++g)this.La.add(b[h++]);else 2===e?(n=b[h++],
l=b[h++],q=b[h++],p=b[h++],this.La.add(n),this.La.add(l),this.La.add(q),this.La.add(l),this.La.add(q),this.La.add(p),this.La.add(n),this.La.add(p)):3===e&&(n=b[h++],l=c,q=b[h++],p=d,this.La.add(n),this.La.add(l),this.La.add(q),this.La.add(l),this.La.add(q),this.La.add(p),this.La.add(n),this.La.add(p))}}catch(r){return}this.Ya.length&&this.Ya.length===this.Xc.length&&8*this.Ya.length===this.La.length&&(this.nd=!0)},ready:function(){return this.nd},mr:function(){var b=new XODTextOld.Vb;if(!this.fb.length)return b.df(this.fb,
-1,this.Ya,this.La,0),b;b.df(this.fb,1,this.Ya,this.La,1);return b},me:function(){return this.La},fb:null,Ya:null,Xc:null,La:null,nd:!1};XODTextOld.Vb=function(){};
XODTextOld.Vb.prototype={Tb:function(){this.Pc=-1;this.nb=0;this.zc=[]},df:function(b,f,e,c,a){this.Pc=f;this.nb=a;this.zc=[];this.Md=b;this.ka=e;this.Ea=c},ua:function(b){return this.Pc===b.Pc},xh:function(){return Math.abs(this.Md[this.Pc])},Ri:function(){return 0<this.Md[this.Pc]},Rb:function(){var b=new XODTextOld.Db;b.df(this.Md,this.Pc+(this.Ri()?6:10),this.Pc,this.ka,this.Ea,1);return b},DI:function(b){if(0>b||b>=this.xh()){var f=new XODTextOld.Db;f.df(this.Md,-1,-1,this.ka,this.Ea,0)}else{var e=
this.Ri()?6:10,c=this.Ri()?5:11,f=new XODTextOld.Db;f.df(this.Md,this.Pc+e+c*b,this.Pc,this.ka,this.Ea,1+b)}return f},Ge:function(){var b=this.Pc+parseInt(this.Md[this.Pc+1]);if(b>=this.Md.length){var f=new XODTextOld.Vb;f.df(this.Md,-1,this.ka,this.Ea,0)}else f=new XODTextOld.Vb,f.df(this.Md,b,this.ka,this.Ea,this.nb+1);return f},qb:function(b){if(this.Ri())b.x1=this.Md[this.Pc+2+0],b.y1=this.Md[this.Pc+2+1],b.x2=this.Md[this.Pc+2+2],b.y2=this.Md[this.Pc+2+3];else{for(var f=1.79769E308,e=XODText.gd.wj,
c=1.79769E308,a=XODText.gd.wj,d=0;4>d;++d)var g=this.Md[this.Pc+2+2*d],m=this.Md[this.Pc+2+2*d+1],f=Math.min(f,g),e=Math.max(e,g),c=Math.min(c,m),a=Math.max(a,m);b.x1=f;b.y1=c;b.x2=e;b.y2=a}},sh:function(){if(this.zc.length)return this.zc[0];var b=new XODText.fa,f=new XODText.fa,e=new XODTextOld.Db;e.Tb();var c=this.Rb(),a=new XODTextOld.Db;a.Tb();for(var d=this.Rb();!d.ua(e);d=d.le())a=d;e=Array(8);d=Array(8);c.Bd(0,e);b.x=(e[0]+e[2]+e[4]+e[6])/4;b.y=(e[1]+e[3]+e[5]+e[7])/4;a.Bd(a.hc()-1,d);f.x=
(d[0]+d[2]+d[4]+d[6])/4;f.y=(d[1]+d[3]+d[5]+d[7])/4;.01>Math.abs(b.x-f.x)&&.01>Math.abs(b.y-f.y)&&this.zc.add(0);b=Math.atan2(f.y-b.y,f.x-b.x);b*=180/3.1415926;0>b&&(b+=360);this.zc.add(b);return 0},Pc:0,Md:null,ka:null,Ea:null,nb:0,zc:null};XODTextOld.Db=function(){};
XODTextOld.Db.prototype={Tb:function(){this.$h=this.kc=-1;this.nb=0},df:function(b,f,e,c,a,d){this.kc=f;this.$h=e;this.fb=b;this.ka=c;this.Ea=a;this.nb=d},ua:function(b){return this.kc===b.kc},hc:function(){return parseInt(this.fb[this.kc])},rg:function(){return parseInt(this.fb[this.kc+2])},$a:function(){return parseInt(this.fb[this.kc+1])},Ri:function(){return 0<this.fb[this.$h]},LS:function(){return Math.abs(this.fb[this.$h])},le:function(){var b=this.Ri(),f=b?5:11;this.kc>=this.$h+(b?6:10)+(this.LS()-
1)*f?(b=new XODTextOld.Db,b.df(this.fb,-1,-1,this.ka,this.Ea,0)):(b=new XODTextOld.Db,b.df(this.fb,this.kc+f,this.$h,this.ka,this.Ea,this.nb+1));return b},gS:function(b){var f=this.hc();return 0>b||b>=f?-1:parseInt(this.fb[this.kc+1])+b},Bd:function(b,f){var e=this.gS(b);if(!(0>e)){var c=new XODTextOld.Vb;c.df(this.fb,this.$h,this.ka,this.Ea,0);if(c.Ri()){var a=new XODText.Na;c.qb(a);c=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2;e*=8;f[0]=this.Ea[e];f[1]=c;f[2]=this.Ea[e+2];f[3]=f[1];f[4]=this.Ea[e+
4];f[5]=a;f[6]=this.Ea[e+6];f[7]=f[5]}else for(e*=8,c=0;8>c;++c)f[c]=this.Ea[e+c]}},Uc:function(b){var f=new XODTextOld.Vb;f.df(this.fb,this.$h,this.ka,this.Ea,0);if(f.Ri()){var e=this.fb[this.kc+3],c=this.fb[this.kc+4];if(e>c){var a;a=e;e=c;c=a}a=new XODText.Na;f.qb(a);f=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2;b[0]=e;b[1]=f;b[2]=c;b[3]=f;b[4]=c;b[5]=a;b[6]=e;b[7]=a}else for(e=this.kc+3,c=0;8>c;++c)b[c]=this.fb[e+c]},qb:function(b){var f=new XODTextOld.Vb;f.df(this.fb,this.$h,this.ka,this.Ea,0);
if(f.Ri()){var e=this.fb[this.kc+3],c=this.fb[this.kc+4];if(e>c){var a;a=e;e=c;c=a}a=new XODText.Na;f.qb(a);f=a.y1<a.y2?a.y1:a.y2;a=a.y1>a.y2?a.y1:a.y2}else{e=1.79769E308;c=XODText.gd.wj;f=1.79769E308;a=XODText.gd.wj;for(var d=this.kc+3,g=0;4>g;++g){var m=this.fb[d+2*g],h=this.fb[d+2*g+1],e=Math.min(e,m),c=Math.max(c,m),f=Math.min(f,h);a=Math.max(a,h)}}b[0]=e;b[1]=f;b[2]=c;b[3]=a},kc:0,$h:0,fb:null,ka:null,Ea:null,nb:0};XODText.Na=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Na.prototype={Ba:function(b,f,e,c){this.x1=b;this.y1=f;this.x2=e;this.y2=c},Ah:function(b){this.x1=b.x1;this.y1=b.y1;this.x2=b.x2;this.y2=b.y2},normalize:function(){if(this.x1>this.x2){var b;b=this.x1;this.x1=this.x2;this.x2=b}this.y1>this.y2&&(b=this.y1,this.y1=this.y2,this.y2=b)},set:function(b,f,e,c){this.x1=b;this.y1=f;this.x2=e;this.y2=c},Vr:function(b){return this.x2<b.x1||this.x1>b.x2||this.y2<b.y1||this.y1>b.y2},width:function(){var b=this.x2-this.x1;return 0>b?-b:b},height:function(){var b=
this.y2-this.y1;return 0>b?-b:b},Hm:function(b){for(var f=1.79769E308,e=XODText.gd.wj,c=1.79769E308,a=XODText.gd.wj,d=0;4>d;++d)var g=b[2*d],m=b[2*d+1],f=Math.min(f,g),e=Math.max(e,g),c=Math.min(c,m),a=Math.max(a,m);this.x1=f;this.y1=c;this.x2=e;this.y2=a},Ov:function(b,f){var e,c,a,d,g,m,h,k;b.x1<b.x2?(e=b.x1,c=b.x2):(e=b.x2,c=b.x1);b.y1<b.y2?(a=b.y1,d=b.y2):(a=b.y2,d=b.y1);f.x1<f.x2?(g=f.x1,m=f.x2):(g=f.x2,m=f.x1);f.y1<f.y2?(h=f.y1,k=f.y2):(h=f.y2,k=f.y1);if(c<g||m<e||d<h||k<a)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=e<g?g:e;this.x2=c<m?c:m;this.y1=a<h?h:a;this.y2=d<k?d:k;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},TT:function(b){this.BO(b,b)},BO:function(b,f){this.normalize();this.x1-=b;this.x2+=b;this.y1-=f;this.y2+=f},union:function(b){b.x1<this.x1&&(this.x1=b.x1);b.y1<this.y1&&(this.y1=b.y1);b.x2>this.x2&&(this.x2=b.x2);b.y2>this.y2&&(this.y2=b.y2)},contains:function(b,f){if(this.x1<this.x2){if(b<this.x1||b>this.x2)return!1}else if(b<
this.x2||b>this.x1)return!1;if(this.y1<this.y2){if(f<this.y1||f>this.y2)return!1}else if(f<this.y2||f>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.fa=function(b,f){this.x=b;this.y=f};XODText.fa.ua=function(b,f){return b.x===f.x&&b.y===f.y};XODText.fa.H0=function(b,f){return b!==f};XODText.fa.QG=function(b){var f=new XODText.fa;f.x=b.x/2;f.y=b.y/2;return f};XODText.fa.multiply=function(b,f){var e=new XODText.fa;e.init(b.x*f,b.y*f);return e};
XODText.fa.zg=function(b,f){var e=new XODText.fa;e.init(b.x-f.x,b.y-f.y);return e};XODText.fa.Uo=function(b,f){var e=new XODText.fa;e.init(b.x+f.x,b.y+f.y);return e};XODText.fa.distance=function(b,f){var e=b.x-f.x,c=b.y-f.y;return Math.sqrt(e*e+c*c)};
XODText.fa.prototype={x:0,y:0,init:function(b,f){this.x=b;this.y=f},Nv:function(b){this.x=b.x;this.y=b.y},add:function(b){this.x+=b.x;this.y+=b.y},sub:function(b){this.x-=b.x;this.y-=b.y},normalize:function(){var b=Math.sqrt(this.x*this.x+this.y*this.y);return b?(this.x/=b,this.y/=b,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},ec:function(b){return this.x*b.x+this.y*b.y}};XODText.gd.Pa("XODText.doubleData");XODText.Ux.Pa("XODText.Letter");XODText.JB.Pa("XODText.nsIDOMTextMetrics");
XODText.lw.Pa("XODText.nsIDOMCanvasGradient");XODText.kn.Pa("XODText.SelectionContext");XODText.ye.Pa("XODText.SelectionInfo");XODText.Vb.Pa("XODText.Line");XODText.Db.Pa("XODText.Word");XODText.Na.Pa("XODText.SelectionRect");XODText.fa.Pa("XODText.SelectionPoint");XODText.gd.Zk=1.79769E308;XODText.gd.wj=-1.79769E308;
(function(){self.yc.Lw("XODText");XODText.Rt=function(){};XODText.Hd=function(b,e){this.x=b;this.y=e};XODText.Hd.prototype={x:0,y:0};XODText.ab=function(){this.Tm=this.Rm=this.Sm=this.Qm=this.y2=this.x2=this.y1=this.x1=0};var b=RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g");XODText.ay=function(f,e){this.iJ=e&&("r"===e||"w"===e);this.text=e&&"w"===e?f.replace(/(\*+|.)/g,function(c){return"*"===c.charAt(0)?1==c.length?".*?":"*".repeat(c.length/2|0).replace(b,"\\$&"):c.replace(b,"\\$&")}):f};XODText.ab.eu=
function(b,e,c,a){var d=new XODText.fa;d.init(0,0);var g=new XODText.fa;g.init(0,0);var m=new XODText.fa;m.init(0,0);var h=new XODText.fa;h.init(0,0);for(var k=0;4>k;++k){XODText.ab.uI(d,b,k);if(!d.normalize()&&c)return!1;k?2===k?m=XODText.fa.zg(m,d):1===k?h=XODText.fa.Uo(h,d):3===k&&(h=XODText.fa.zg(h,d)):m=XODText.fa.Uo(m,d);for(var n=Array(8),l=0;1>l;++l){for(var q=0;8>q;++q)n[q]=e[8*l+q];XODText.ab.uI(g,n,k);if(!g.normalize()&&c)return!1;k?2===k?m=XODText.fa.zg(m,g):1===k?h=XODText.fa.Uo(h,g):
3===k&&(h=XODText.fa.zg(h,g)):m=XODText.fa.Uo(m,g)}if(c&&Math.abs(d.ec(g))<XODText.ab.jQ)return!1}m=XODText.fa.QG(m);h=XODText.fa.QG(h);if(!m.normalize()&&c||!h.normalize()&&c||c&&!XODText.ab.XU(b,e,m,h,a,a/10))return!1;XODText.ab.inflate(b,e,1,m,h);return!0};XODText.ab.uI=function(b,e,c){var a=(c+1)%4;b.x=e[2*a]-e[2*c];b.y=e[2*a+1]-e[2*c+1]};XODText.ab.XU=function(b,e,c,a,d,g){var m=new XODText.fa;m.init(b[0],b[1]);var h=new XODText.fa;h.init(b[2],b[3]);var k=new XODText.fa;k.init(e[0],e[1]);var n=
new XODText.fa;n.init(e[2],e[3]);var l=m.ec(c),q=h.ec(c),p=k.ec(c);c=n.ec(c);if(l>q)var u=l,l=q,q=u;p>c&&(u=p,p=c,c=u);if(p-q>d||l-c>d)return!1;m.x=b[2];m.y=b[3];h.x=b[4];h.y=b[5];k.x=e[2];k.y=e[3];n.x=e[4];n.y=e[5];l=m.ec(a);q=h.ec(a);p=k.ec(a);c=n.ec(a);l>q&&(u=l,l=q,q=u);p>c&&(u=p,p=c,c=u);return Math.abs(l-p)>g||Math.abs(q-c)>g?!1:!0};XODText.ab.inflate=function(b,e,c,a,d){var g=!1;avx_=new XODText.fa;avx_.init(1,0);avy_=new XODText.fa;avy_.init(0,1);if(1E-4<=Math.abs(a.x-1)||1E-4<=Math.abs(a.y-
0)&&1E-4<=Math.abs(d.x-0)||1E-4<=Math.abs(d.y-1)){var g=!0,m=new XODText.Matrix2D;m.Ba(a.x,d.x,a.y,d.y,0,0);m=m.inverse();avx_.x=m.m_a;avx_.y=m.m_b;avy_.x=m.m_c;avy_.y=m.m_d}for(var m=XODText.gd.Zk,h=XODText.gd.wj,k=XODText.gd.Zk,n=XODText.gd.wj,l,q,p=0,u=0,r=0;4>r;++r){var v=new XODText.fa;v.init(b[2*r],b[2*r+1]);g?(l=v.ec(avx_),q=v.ec(avy_)):(l=v.x,q=v.y);r?(m>l&&(m=l,p=v.x),h<l&&(h=l),k>q&&(k=q,u=v.y),n<q&&(n=q)):(m=h=l,k=n=q,p=v.x,u=v.y);for(v=0;v<c;++v){var w=new XODText.fa;w.init(e[8*v+2*r],
e[8*v+2*r+1]);g?(l=w.ec(avx_),q=w.ec(avy_)):(l=w.x,q=w.y);m>l&&(m=l,p=w.x);h<l&&(h=l);k>q&&(k=q,u=w.y);n<q&&(n=q)}}e=new XODText.fa;e.init(p,u);p=e.ec(d);c=XODText.fa.multiply(a,m-e.ec(a));p=XODText.fa.multiply(d,k-p);e.x+=c.x+p.x;e.y+=c.y+p.y;g?(g=a.x,e=d.x,a=a.y,d=d.y,b[0]=g*m+e*k,b[1]=a*m+d*k,b[2]=g*h+e*k,b[3]=a*h+d*k,b[4]=g*h+e*n,b[5]=a*h+d*n,b[6]=g*m+e*n,b[7]=a*m+d*n):(b[0]=m,b[1]=k,b[2]=h,b[3]=k,b[4]=h,b[5]=n,b[6]=m,b[7]=n)};XODText.ab.prototype={_init:function(b,e,c,a,d,g,m,h){this.x1=b;this.y1=
e;this.x2=c;this.y2=a;this.Qm=d;this.Sm=g;this.Rm=m;this.Tm=h},vF:function(b,e,c,a,d,g,m,h){this.x1=b;this.y1=e;this.x2=c;this.y2=a;this.Qm=d;this.Sm=g;this.Rm=m;this.Tm=h},zh:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.Qm,y3:this.Sm,x4:this.Rm,y4:this.Tm}},wS:function(){var b=this.zh(),e=Math.min(b.x1,b.x2,b.x3,b.x4),c=Math.max(b.x1,b.x2,b.x3,b.x4),a=Math.min(b.y1,b.y2,b.y3,b.y4),d=Math.max(b.y1,b.y2,b.y3,b.y4);b.x1=e;b.x2=c;b.x3=c;b.x4=e;b.y1=a;b.y2=a;b.y3=d;b.y4=d;return b},
x1:0,y1:0,x2:0,y2:0,Qm:0,Sm:0,Rm:0,Tm:0};XODText.Matrix2D=function(b,e,c,a,d,g){"undefined"!==typeof b&&(this.m_a=b,"undefined"!==typeof e&&(this.m_b=e,"undefined"!==typeof c&&(this.m_c=c,"undefined"!==typeof a&&(this.m_d=a,"undefined"!==typeof d&&(this.m_h=d,"undefined"!==typeof g&&(this.m_v=g))))))};XODText.Matrix2D.rotationMatrix=function(b){var e=Math.cos(b);b=Math.sin(b);1E-7>Math.abs(b)&&(b=0);1E-7>Math.abs(e)&&(e=0);var c=new XODText.Matrix2D;c.Ba(e,-b,b,e,0,0);return c};XODText.Matrix2D.prototype=
{m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,initMatrix:function(b){this.m_a=b.m_a;this.m_b=b.m_b;this.m_c=b.m_c;this.m_d=b.m_d;this.m_h=b.m_h;this.m_v=b.m_v},Ba:function(b,e,c,a,d,g){this.m_a=b;this.m_b=e;this.m_c=c;this.m_d=a;this.m_h=d;this.m_v=g},set:function(b,e,c,a,d,g){this.m_a=b;this.m_b=e;this.m_c=c;this.m_d=a;this.m_h=d;this.m_v=g},inverse:function(){var b=new XODText.Matrix2D,e=this.m_a*this.m_d-this.m_b*this.m_c;if(!e)return b;b.m_a=this.m_d/e;b.m_c=-this.m_c/e;b.m_h=(this.m_c*this.m_v-this.m_h*
this.m_d)/e;b.m_b=-this.m_b/e;b.m_d=this.m_a/e;b.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/e;return b},W:function(b){var e=b.x;b.x=b.x*this.m_a+b.y*this.m_c+this.m_h;b.y=e*this.m_b+b.y*this.m_d+this.m_v;return b},concat:function(b){var e=this.m_a,c=this.m_b,a=this.m_c,d=this.m_d;this.m_a=b.m_a*e+b.m_b*a;this.m_b=b.m_a*c+b.m_b*d;this.m_c=b.m_c*e+b.m_d*a;this.m_d=b.m_c*c+b.m_d*d;this.m_h=b.m_h*e+b.m_v*a+this.m_h;this.m_v=b.m_h*c+b.m_v*d+this.m_v;return this},iH:function(b){return this.m_a==b.m_a&&
this.m_b==b.m_b&&this.m_c==b.m_c&&this.m_d==b.m_d&&this.m_h==b.m_h&&this.m_v==b.m_v},TL:function(b){var e=new XODText.Hd(b[0],b[1]),c=new XODText.Hd(b[2],b[3]),a=new XODText.Hd(b[4],b[5]),d=new XODText.Hd(b[6],b[7]),e=this.W(e),c=this.W(c),a=this.W(a),d=this.W(d);b[0]=e.x;b[1]=e.y;b[2]=c.x;b[3]=c.y;b[4]=a.x;b[5]=a.y;b[6]=d.x;b[7]=d.y},bD:function(b){var e=Array(8);e[0]=b.x1;e[1]=b.y1;e[2]=b.x2;e[3]=b.y1;e[4]=b.x2;e[5]=b.y2;e[6]=b.x1;e[7]=b.y2;this.TL(e);b.Hm(e)}};XODText.jq=function(){};XODText.jq.lO=
function(b,e){return b.cd<e.cd||b.cd===e.cd&&b._position<e._position||b.cd===e.cd&&b._position===e._position&&b.xl<e.xl?-1:b.cd===e.cd&&b._position===e._position&&b.xl===e.xl?0:1};XODText.jq.prototype={_init:function(){this.Zt=[]},_add:function(b){this.Zt.add(b)},_clear:function(){this.Zt.clear()},mO:function(b,e){e.clear();for(var c=[],a=S.Ue.getEnumerator(this.Zt);a.Fh();){var d=a.current;c.add(d)}c.sort(XODText.jq.lO);for(var a="",g,m=[],h=[],k=XODText.Rt.VD,n=0;n<c.length;++n)if(d=c[n],!(0>d.cd||
d.cd>=b.length||0>d._position||0>=d.xl)){if(-1!==d.cd){m=b[d.cd].text;if(!m.ready())return!1;a=m.Ya;g=m.Xc;m=m.me();if(!a.length||a.length!==g.length||8*a.length!==m.length)continue;for(var k=XODText.Rt.VD,l=S.Ue.getEnumerator(g);l.Fh();){var q=l.current;q>k&&(k=q)}h.clear();for(var p=0;p<k+1;++p)h.add(-1);for(p=0;p<g.length;++p)l=g[p],0<=l&&(h[l]=p)}g=Array(8);for(l=d._position;l<d._position+d.xl&&!(l>k);++l)if(q=h[l],!(0>q)){for(p=0;8>p;++p)g[p]=m[8*q+p];var u=!1;if(1<=e.length&&(p=e[e.length-1],
p.cd===d.cd)){var r=g[0]-g[2],v=g[1]-g[3];XODText.ab.eu(p.kg,g,!0,Math.sqrt(r*r+v*v))&&(u=a.charAt(q),p.Sy.insert(p.Sy.length,u),u=!0)}u||(u=a.charAt(q),q=new XODText.Ay,q.lq(d.cd,u,g),e.add(q))}}return 0<e.length},Zt:null};XODText.iq=function(){};XODText.iq.prototype={lq:function(b,e,c){this.cd=b;this._position=e;this.xl=c},cd:0,_position:0,xl:0};XODText.Ay=function(){};XODText.Ay.prototype={lq:function(b,e,c){this.cd=b;this.Sy=e;this.kg=Array(8);for(b=0;8>b;++b)this.kg[b]=c[b]},cd:0,Sy:null,kg:null};
XODText.mu=function(){this.wf=new XODText.Na;this.Jy=new XODText.Na};XODText.mu.prototype={wf:null,Jy:null,ai:null,bi:null};XODText.gb=function(){};XODText.nc=function(){};XODText.ze=function(){this.Hn={};this.hg=0;this.bb=this.Cn=this.Yt=this.Kd=-1;this.Iy=this.Qj=this.au=this.yl=!1;this.uf=[];this.Oc=[];this.ig=[];this.jb=this.Qa="";this.Ld=[];this.dh=[];this.Dn=[];this.Gy=[];this.Oa={};this.Oa[" "]=null;this.Oa["\t"]=null;this.Oa["\n"]=null;this.Oa["."]=null;this.Oa[","]=null;this.Oa["?"]=null;
this.Oa[":"]=null;this.Oa[";"]=null;this.Oa['"']=null;this.Oa["'"]=null;this.Oa["<"]=null;this.Oa[">"]=null;this.Oa["`"]=null;this.Oa["~"]=null;this.Oa["!"]=null;this.Oa["@"]=null;this.Oa["#"]=null;this.Oa.$=null;this.Oa["%"]=null;this.Oa["^"]=null;this.Oa["&"]=null;this.Oa["("]=null;this.Oa[")"]=null;this.Oa["["]=null;this.Oa["]"]=null;this.Oa["{"]=null;this.Oa["}"]=null;this.Oa["|"]=null;this.Oa._=null;this.Oa["\\"]=null;this.Oa["-"]=null;this.Oa["="]=null;this.Oa["+"]=null;this.Oa["/"]=null;this.Oa["*"]=
null};XODText.ze.lh=function(b,e){for(var c=0,a=b.length-1,d=Math.floor((c+a)/2);b[d]!==e&&c<a;)e<b[d]?a=d-1:e>b[d]&&(c=d+1),d=Math.floor((c+a)/2);return b[d]!==e?!1:!0};XODText.ze.prototype={CP:function(b,e,c,a,d){this.au=!1;this.Ce=b.Sb();if(0>this.Ce.length||0>e.length||0<=a&&a>d)return!1;this.hg=c;if(!this.xF(e))return!1;b=a;e=this.Ce.length;if(0>b)if(0>d)b=0,d=e-1;else return!1;else if(d<b)return!1;console.assert(0<=b&&b<=d);if(b>=e||d>=e)return!1;this.Yt=b;this.Cn=d;this.Kd=this.Bh()?this.Cn:
this.Yt;++this.Cn;this.jb=this.Qa="";this.dh.clear();this.Dn.clear();this.uf.clear();this.Oc.clear();this.au=!0;this.bb=-1;this.yl=!1;return!0},run:function(b){var e=-1,c=-1,a=-1,d="",g="",m=new XODText.jq;m._init();m._clear();if(!this.au||0>=this.zl.text.length)return new XODText.Xh(XODText.nc.Sl,a,d,g,e,c);for(var h="",k=-1,n=-1;;){if(this.Kd===this.Cn)return new XODText.Xh(XODText.nc.Sl,a,d,g,e,c);var l=!0;if(!this.Qa.length||this.bb===this.Qa.length){if(!this.Bh()){if(this.bb===this.Qa.length){if(this.hJ()&&
!this.yl)return this.yl=!0,a=this.Kd,new XODText.Xh(XODText.nc.Yu,a,d,g,e,c);++this.Kd}if(this.Kd===this.Cn)return new XODText.Xh(XODText.nc.Sl,a,d,g,e,c)}else if(this.bb===this.Qa.length){if(this.hJ()&&!this.yl)return this.yl=!0,a=this.Kd,new XODText.Xh(XODText.nc.Yu,a,d,g,e,c);if(this.Kd===this.Yt)return new XODText.Xh(XODText.nc.Sl,a,d,g,e,c);--this.Kd}(l=this.sy(this.Kd))?this.Bh()?(this.bb=this.Qa.length,--this.bb):this.bb=0:this.bb=0}this.yl=!1;l&&(console.assert(this.bb!==this.Qa.length),c=
this.sO(m),h=c.xy,k=c.Mt,n=c.Lt,g=c.At,e=c.lu,c=c.ku);if(l&&k!==this.Qa.length){console.assert(0<h.length);d=h;a=this.Kd;this.Bh()?(this.bb=k)?--this.bb:this.bb=this.Qa.length:this.bb=n;if(this.Hr())for(b.clear(),h=[],m.mO(this.Ce,h),m=0;m<h.length;++m)k=new XODText.ab,n=h[m],k.x1=n.kg[0],k.y1=n.kg[1],k.x2=n.kg[2],k.y2=n.kg[3],k.Qm=n.kg[4],k.Sm=n.kg[5],k.Rm=n.kg[6],k.Tm=n.kg[7],b.add(k);return new XODText.Xh(XODText.nc.Yq,a,d,g,e,c)}this.bb=this.Qa.length}},xF:function(b){if(0>=b.length)return!1;
for(var e="",c=b.length,a=!1,d=0;d<c;++d){var g=this.hu(b.charAt(d));" "===g?a||(e+=g,a=!0):(a=!1,e+=g)}this.$E=e;this.ig.clear();b="";for(d=0;d<e.length;++d)g=e.charAt(d),this.vl(g)?this.ig.add(b.length-1):b+=g;this.Rv()||(b=b.toLowerCase());this.zl=this.mU()?new XODText.ay(b,"r"):this.xU()?new XODText.ay(b,"w"):new XODText.ay(b,"");d=this.Qj;this.zl.text.length?this.Qj=!1:(this.zl.text=e,this.ig.clear(),this.Qj=!0);this.Qj!==d&&0<this.Qa.length&&!this.sy(this.Kd)&&(this.bb=this.Qa.length);return!0},
setMode:function(b){var e=this.Hr(),c=this.Rv(),a=this.Bh();this.hg=b;var d=this.Hr();b=this.Rv();var g=this.Bh(),m=!1;c!==b&&this.xF(this.$E);if(!(0>=this.Qa.length)){e!==d&&d&&!m&&(console.assert(0<=this.bb&&this.bb<=this.Qa.length),this.sy(this.Kd),m=!0);if(c!==b&&!m){console.assert(this.Ld.length===this.Qa.length);console.assert(this.Ld.length<=this.jb.length);e=this.Qa.length;c="";for(d=0;d<e;++d)console.assert(0<=this.Ld[d]&&this.Ld[d]<this.jb.length),c+=this.hu(this.jb.charAt(this.Ld[d]));
this.Qa=c;b||(this.Qa=this.Qa.toLowerCase())}if(a!==g)if(console.assert(0<=this.bb&&this.bb<=this.Qa.length),this.bb!==this.Qa.length)if(g)for(d=0;2>d;++d)this.bb&&--this.bb;else for(d=0;2>d;++d)this.bb!==this.Qa.length&&++this.bb;else g?(this.bb=this.Qa.length,--this.bb):this.bb=0}},Hr:function(){return 0<(this.hg&XODText.gb.aH)},cU:function(){return 0<(this.hg&XODText.gb.ZG)},Rv:function(){return 0<(this.hg&XODText.gb.$G)},xU:function(){return 0<(this.hg&XODText.gb.eH)},mU:function(){return 0<(this.hg&
XODText.gb.cH)},wU:function(){return 0<(this.hg&XODText.gb.dH)},Bh:function(){return 0<(this.hg&XODText.gb.Uz)},hJ:function(){return 0<(this.hg&XODText.gb.bH)},sO:function(b){var e,c,a,d=this.dO();c=d.Mt;a=d.Lt;ambient=d.At;var g=d.lu,m=d.ku;if(c===this.Qa.length)return d;var h,k;e=this.qO(0,0,c,a,a-c);h=e.tF;k=e.CE;for(var n="",l=h;l<k;++l)n+=this.jb.charAt(l);e=n;n="";if(this.cU()){var q=h,p=k,g=this.jb.length,u=m=0,r=l=!1,v=!1;if(q)for(--q;q;){var w=this.jb.charAt(q);l&&this.Zh(w)&&u++;l||!v||
this.Zh(w)||(l=r=!0);if(30<=m||0<u){q++;break}if(this.dh.length>q&&-2===this.dh[q]){var A=this.jb.charAt(q+1);if("A"<=A&&"Z">=A){++q;r=!0;break}}--q;m++;v=v||this.Zh(w)||"\n"===w}r||(q=h);l=p;for(u=0;p!==g;){this.Zh(this.jb.charAt(p))&&(l=p-1,u++);if(10<=u||70<=m){p===g-1||this.Zh(this.jb.charAt(p+1))||(p=l);break}p++}p===g&&--p;for(l=q;l<=p;++l)g=this.jb.charAt(l),n="\n"===g?n+" ":n+g;g=h-q;m=k-q}d.At=n;if(this.Hr()){console.assert(this.jb.length===this.dh.length);console.assert(k>=h);n=k-h;u=[];
for(l=h;l<k;++l)u.insert(u.length,this.dh[l]);for(h=0;h<n&&0>u[h];)++h;for(l=k=h;h<n;)if(q=u[h],h===n-1)r=this.Kd,q=u[l],p=u[h],0>p&&(p=u[k]),console.assert(0<=r&&0<=q&&p>=q),v=new XODText.iq,v.lq(r,q,p-q+1),b._add(v),++h;else if(-1===q)console.assert(0<=u[k]),++h;else if(-2===q){console.assert(0<=u[k]);r=this.Kd;q=u[l];p=u[k];console.assert(0<=r&&0<=q&&p>=q);v=new XODText.iq;v.lq(r,q,p-q+1);b._add(v);for(++h;h<n&&0>u[h];)++h;l=k=h}else 0<=q&&(console.assert(0<=u[k]),k===h||this.oO(u,k,h)?(k=h,++h):
(r=this.Kd,q=u[l],p=u[k],console.assert(0<=r&&0<=q&&p>=q),v=new XODText.iq,v.lq(r,q,p-q+1),b._add(v),l=k=h))}d.xy=e;d.Mt=c;d.Lt=a;d.lu=g;d.ku=m;return d},Bn:null,Pb:null,GE:function(f){return f.replace(b,"\\$&")},PO:function(b,e,c){Object.Lr(this.Hn,b.text)?this.Pb=this.Hn[b.text]:(this.Pb=b.iJ?{re:new RegExp(b.text,"g"),matches:null}:{re:new RegExp(this.GE(b.text),"g"),matches:null},this.Hn[b.text]=this.Pb);this.Pb.re.lastIndex=c;this.Bn=this.Pb.re.exec(e);return null!=this.Bn?{start:this.Pb.re.lastIndex-
this.Bn[0].length,length:this.Bn[0].length}:{start:-1,length:0}},QO:function(b,e,c){this.Pb=null;Object.Lr(this.Hn,b.text)&&(this.Pb=this.Hn[b.text]);if(null===this.Pb||null==this.Pb.matches)this.Pb=b.iJ?{re:new RegExp(b.text,"g"),matches:[],uC:null}:{re:new RegExp(this.GE(b.text),"g"),matches:[],uC:null},this.Hn[b.text]=this.Pb;if(this.Pb.uC!==e){for(this.Pb.matches=[];null!==(this.Bn=this.Pb.re.exec(e));)this.Pb.matches.push({start:this.Bn.index,end:this.Pb.re.lastIndex});this.Pb.uC=e}if(0<this.Pb.matches.length)for(b=
this.Pb.matches.length-1;0<=b;b--)if(this.Pb.matches[b].end<c)return{start:this.Pb.matches[b].start,length:this.Pb.matches[b].end-this.Pb.matches[b].start};return{start:-1,length:0}},dO:function(){var b,e,c,a;c=this.bb;for(a=this.Qa.length;;){var d=!1;console.assert(0<this.zl.text.length);if(this.Bh()){if(c===a){b=e=a;break}e=this.QO(this.zl,this.Qa,c)}else e=this.PO(this.zl,this.Qa,c);b=e.start;if(0>b){b=e=a;break}e=e.start+e.length;this.Bh()?(c=b,0!==c?--c:c=a):c=e;if(!this.Qj)if(0<this.ig.length)if(this.uf.length||
this.Oc.length){for(var g=this.Oc.length,m=this.uf.length,h=b-0,k=S.Ue.getEnumerator(this.ig);k.Fh();){var n=k.current,n=h+n;if(!XODText.ze.lh(this.uf,n)&&!XODText.ze.lh(this.Oc,n)){d=!0;break}}if(d)continue;for(var k=b-0,l=e-0-1,q=n=this.Fy(this.Oc,k);q!==g;++q){var p=this.Oc[q];if(p>=k&&p<l&&(n=p-h,!XODText.ze.lh(this.ig,n))){d=!0;break}if(p>=l)break}if(d)continue;for(q=n=this.Fy(this.uf,k);q!==m;++q){p=this.uf[q];if(p>=k&&p<l&&(n=p-h,!XODText.ze.lh(this.ig,n))){d=!0;break}if(p>=l)break}if(d)continue}else continue;
else if(this.Oc.length)for(k=b-0,l=e-0-1,g=this.Oc.length,q=n=this.Fy(this.Oc,k);q!==g&&(p=this.Oc[q],p>=k&&p<l||!(p>=l));++q);if(this.wU()){if(0!==b&&(p=b-0-1,!(XODText.ze.lh(this.uf,p)||XODText.ze.lh(this.Oc,p)||this.Zh(this.Qa.charAt(b))||this.Zh(this.Qa.charAt(b-1)))))continue;if(e!==a&&(p=e-0-1,!(XODText.ze.lh(this.uf,p)||XODText.ze.lh(this.Oc,p)||this.Zh(this.Qa.charAt(e-1))||this.Zh(this.Qa.charAt(e)))))continue}break}return new XODText.$x("",b,e,"",-1,-1)},Zh:function(b){return Object.Lr(this.Oa,
b)?!0:this.Wt(b)||this.FO(b)},Fy:function(b,e){var c=b.indexOf(e);0>c&&(c=~c);return c},hu:function(b){b=b.charCodeAt(0);if(39===b||8217===b)b=39;else if(34===b||8220===b||8221===b)b=34;return String.fromCharCode(b)},vl:function(b){var e=b;b=b.charCodeAt(0);return"-"===e||8208===b||8209===b||65293===b||173===b},EO:function(b){var e=b;b=b.charCodeAt(0);return","===e||65292===b||65294===b},FO:function(b){var e=b;b=b.charCodeAt(0);return 32<b&&48>b||57<b&&65>b||90<b&&97>b||122<b&&127>b||this.EO(e)||
this.vl(e)||173===b||1642<=b&&(1645>=b||8210<=b&&8231>=b||8240<=b&&8269>=b||8592<=b&&9215>=b||12441<=b&&12444>=b||65281<=b&&65291>=b||65295===b||65306<=b&&65312>=b||65344===b||65371<=b&&65374>=b)?!0:!1},Wt:function(b){b=b.charCodeAt(0);return 32===b||1<=b&&31>=b||160===b||8192<=b&&(8207>=b||8232<=b&&8239>=b||8298<=b&&8303>=b)?!0:!1},sy:function(b){function e(a,d){return a-d}if(0>b||b>=this.Ce.length)return!1;this.jb=this.Qa="";this.Ld.clear();this.uf.clear();this.Oc.clear();var c=this.Hr(),a=[],d=
[];if(c){var g=this.Ce[b].text;if(!g.ready())return!1;b=g.Ya;a=g.Xc;d=g.me();this.dh.clear();this.Iy&&this.Gy.clear()}else{g=this.Ce[b].text;if(!g.ready())return!1;b=g.Ya}if(0>=b.length)return!1;for(var g="",m=b.length,h=-1,k=0;k<m;++k){var n=b.charAt(k),l=-1;c&&(l=a[k]);if("\n"===n){for(n=k-1;0<=n&&" "===b.charAt(n);)--n;if(!(0>n||this.vl(b.charAt(n)))){for(n=k+1;n<m&&" "===b.charAt(n);)++n;n>=m||this.vl(b.charAt(n))||(g+=" ",this.Ld.add(this.jb.length),this.jb+=" ",c&&(h=h<l?l:h,this.ly(l,d,8*k)))}}else if(" "===
n)k<m-1&&("\n"===b.charAt(k+1)||" "===b.charAt(k+1))||(g+=n,this.Ld.add(this.jb.length),this.jb+=n,c&&(h=h<l?l:h,this.ly(l,d,8*k)));else{if(this.vl(n))if(this.Qj)g+=this.hu(n),this.Ld.add(this.jb.length);else{var q=g.length-1;k<m-1&&"\n"===b.charAt(k+1)?this.uf.add(q):this.Oc.length&&q===this.Oc[this.Oc.length-1]||this.Oc.add(q)}else g+=this.hu(n),this.Ld.add(this.jb.length);this.jb+=n;c&&(h=h<l?l:h,this.ly(l,d,8*k))}}console.assert(g.length===this.Ld.length);this.Qa=g;if(c){m=this.dh.length;this.Dn.clear();
for(k=0;k<h+1;++k)this.Dn.add(!0);for(k=0;k<m;++k)l=this.dh[k],0<=l&&(this.Dn[l]=!1)}this.Rv()||(this.Qa=this.Qa.toLowerCase());this.uf.sort(e);this.Oc.sort(e);this.ig.sort(e);return!0},ly:function(b,e,c){this.dh.add(b);if(this.Iy)for(b=c;b<c+8;++b)this.Gy.add(e[b])},qO:function(b,e,c,a,d){c?(b=this.Ld[c-1],++b):b=0;a<this.Ld.length?e=this.Ld[a]:(e=this.Ld[a-1],e===this.jb.length-1&&++e);console.assert(b>=c&&e>=a&&e>=b);if(!this.Qj){if(!XODText.ze.lh(this.ig,d-1))for(;0<e&&this.vl(this.jb.charAt(e-
1));)--e;c=this.jb.length;if(!XODText.ze.lh(this.ig,-1))for(;b<c-1&&this.vl(this.jb.charAt(b));)++b;e<b&&(console.assert(!1),e=b)}return new XODText.Zx(b,e)},oO:function(b,e,c){console.assert(0<=e&&e<=c&&e<b.length&&c<b.length);e=b[e];b=b[c];if(e===b||e+1===b)return!0;for(c=!0;0<=e&&e<b-1;)if(!this.Dn[++e]){c=!1;break}return c},au:!1,Ce:null,hg:0,Oa:null,Kd:0,Yt:0,Cn:0,bb:0,yl:!1,jb:null,Qa:null,Ld:null,dh:null,Dn:null,zl:null,Qj:!1,$E:null,uf:null,Oc:null,ig:null,Gy:null,Iy:!1};XODText.Cj=function(b){this.ka=
"";this.$t=-1;this.Ea=[];this.Ra="";this.Ce=b.Sb();this.Fb=new XODText.ye;this.Fb.Tb();this.mb=[];this.cu=[];this.bu=[]};XODText.Cj.prototype={me:function(){for(var b=this.Ea.length/8,e=[],c=0;c<b;++c){var a=new XODText.ab,d=8*c;a.vF(this.Ea[d],this.Ea[d+1],this.Ea[d+2],this.Ea[d+3],this.Ea[d+4],this.Ea[d+5],this.Ea[d+6],this.Ea[d+7]);e.add(a)}return e},Wt:function(b){b=b.charCodeAt(0);return 32===b||1<=b&&31>=b||160===b||8192<=b&&(8207>=b||8232<=b&&8239>=b||8298<=b&&8303>=b)?!0:!1},uF:function(b,
e){this.Ea.clear();this.Ra="";e.normalize();var c=[],a="",d;for(d=b-1;d<b+2;d++)this.Sj(d)&&(c.push({idx:d,Vf:this.ka}),a+=this.ka);if(0===c.length||0===a.length||!this.Sj(b))return!1;var g=new XODText.Na,m=Array(8),h,k,n=new XODText.Vb;n.Tb();var l,q=new XODText.Db;q.Tb();var p=[],u=!1;for(k=this.Fb.mr();!k.ua(n);k=k.Ge())if(k.qb(g),g.normalize(),!e.Vr(g)){var r=[null,null],v=[null,null],w=-1;h=-1;for(l=k.Rb();!l.ua(q);l=l.le())if(l.Uc(m),g.Hm(m),!e.Vr(g)){h=l.rg();var A=l.$a();-1===w&&(w=A);d=p.length;
if(0<h&&0<d){u&&("\n"!==p[0]&&(this.Wt(p[d-1])?p[d-1]="\n":p.add("\n")),u=!1);for(d=0;d<p.length;++d)this.Ra+=p[d];p.clear()}for(d=0;d<=h;++d)A+d<this.ka.length&&(d<h?this.Ra+=this.ka.charAt(A+d):p.add(this.ka.charAt(A+d)));if(0<h){d=g.x2-g.x1;var B=g.y2-g.y1;this.fh(m,Math.sqrt(d*d+B*B)/h*3)}h=A+h}u=!0;r[0]=w;for(d=l=0;d<c.length;d++)if(c[d].idx===b){l+=r[0];break}else c[d].idx<b&&(l+=c[d].Vf.length);v[0]=a.substring(Math.max(0,l-100),l);if(-1!==h){r[1]=h;for(d=l=0;d<c.length;d++)if(c[d].idx===b){l+=
h;break}else c[d].idx<b&&(l+=c[d].Vf.length);v[1]=a.substr(l+1,100)}null!==r[0]&&null!==r[1]&&this.bu.push(r);null!==v[0]&&null!==v[1]&&this.cu.push(v)}return 0<this.Ea.length},kO:function(){var b,e=new XODText.Vb;e.Tb();var c=Array(8),a=Array(8),d=.1,g=-100;for(b=this.Fb.mr();!b.ua(e);b=b.Ge()){var m=new XODText.fa,h=new XODText.fa,k=new XODText.Db;k.Tb();var n=b.Rb(),l=new XODText.Db;l.Tb();for(var q=b.Rb();!q.ua(k);q=q.le())l=q;n.Bd(0,c);m.x=(c[0]+c[2]+c[4]+c[6])/4;m.y=(c[1]+c[3]+c[5]+c[7])/4;
l.Bd(l.hc()-1,a);h.x=(a[0]+a[2]+a[4]+a[6])/4;h.y=(a[1]+a[3]+a[5]+a[7])/4;k=XODText.fa.distance(m,h);k>d&&(g=Math.atan2(h.y-m.y,h.x-m.x),g*=180/3.1415926,g=Math.round(g),0>g&&(g+=360),d=k)}this.zc=g;this.Hy=2>Math.abs(this.zc)||2>Math.abs(this.zc-180)},QK:function(b,e){this.Ea.clear();this.Ra="";e.normalize();var c=[],a="",d;for(d=b-1;d<b+2;d++)this.Sj(d)&&(c.push({idx:d,Vf:this.ka}),a+=this.ka);if(0===c.length||0===a.length||!this.Sj(b))return!1;var g=new XODText.Na,m=Array(8),h,k,n,l=new XODText.Vb;
l.Tb();var q,p=new XODText.Db;p.Tb();var u=[],r=!1;for(n=this.Fb.mr();!n.ua(l);n=n.Ge())if(n.qb(g),g.normalize(),!e.Vr(g)){var v=[null,null],w=[null,null],A=-1,B=!0;for(q=n.Rb();!q.ua(p);q=q.le())if(q.Uc(m),g.Hm(m),!e.Vr(g)){h=q.rg();var z=q.$a(),x=u.length;if(0<h&&0<x){r&&("\n"!==u[0]&&(this.Wt(u[x-1])?u[x-1]="\n":u.add("\n")),r=!1);for(d=0;d<u.length;++d)this.Ra+=u[d];u.clear()}var x=0,y=Array(8),F=Array(8),K=!1,E=!1;for(k=0;k<h;++k){var G=z+k;if(G<this.ka.length){d=Array(8);var H=new XODText.Na;
q.Bd(k,d);H.Hm(d);if(e.Vr(H))0===x?K=!0:E=!0;else{A=G;x++;if(1===x){if(B){v[0]=G;for(d=B=0;d<c.length;d++)if(c[d].idx===b){B+=G;break}else c[d].idx<b&&(B+=c[d].Vf.length);w[0]=a.substring(Math.max(0,B-100),B);B=!1}K&&q.Bd(k,y)}q.Bd(k,F);k<h?this.Ra+=this.ka.charAt(G):u.add(this.ka.charAt(G))}}}"\n"!=u[h]&&u.push(" ");0<x&&(K&&this.ol(m,y,!0),E&&this.ol(m,F,!1),g.Hm(m),h=g.x2-g.x1,z=g.y2-g.y1,this.fh(m,Math.sqrt(h*h+z*z)/x*3))}r=!0;if(-1!==A){v[1]=A;for(d=q=0;d<c.length;d++)if(c[d].idx===b){q+=A;break}else c[d].idx<
b&&(q+=c[d].Vf.length);w[1]=a.substr(q+1,100)}null!==v[0]&&null!==v[1]&&this.bu.push(v);null!==w[0]&&null!==w[1]&&this.cu.push(w)}return 0<this.Ea.length},QS:function(b,e,c){for(var a=[],d=-1,g="",m=0;m<e.length;m++){var h=this.bT(b,e[m][0],e[m][1]);if(h.status)-1!==d||void 0===h.zm||null===h.zm||isNaN(h.zm)||(d=h.zm),h.zm===d&&Array.prototype.push.apply(a,h.value),g+=this.Ra;else break}-1===d&&(d=0);return 0===a.length?{status:!1}:g.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,
value:a,zm:d}},bT:function(b,e,c,a){if(20>=e.length||20>=c.length)return{status:!1};var d=[],g="",m=[],h=!0,k=0,n,l;for(n=b-1;n<b+2;n++)if(this.Sj(n))if(d.push({idx:n,Vf:this.ka}),g+=this.ka,null!==this.Ce[n].text.En){for(l=0;l<this.Ce[n].text.En.length;l++)m.push(this.Ce[n].text.En[l]+k);k+=this.ka.length}else h=!1;if(0===d.length||0===g.length)return{status:!1};k=[];n=0;h?(l=g.replace(/( |\n)/gm,""),e=e.replace(/( |\n)/gm,"")):l=g;for(;!(0===l.length||l.length<e.length||(b=l.indexOf(e),0>b));)k.push(n+
b+e.length),l=l.substr(b+1),n+=b+1;if(0===k.length)return{status:!1};e=[];n=k[0]+1;h?(l=g.replace(/( |\n)/gm,"").substring(k[0]+1),c=c.replace(/( |\n)/gm,"")):l=g.substring(k[0]+1);for(;!(0===l.length||l.length<c.length||(b=l.indexOf(c),0>b));)e.push(n+b),l=l.substr(b+1),n+=b+1;if(0===e.length)return{status:!1};c=[];for(n=0;n<k.length;n++)for(l=0;l<e.length;l++)if(k[n]+1<=e[l]&&(b=[],b.push(k[n]),b.push(e[l]),c.push(b)),1<c.length)return{status:!1};if(1!==c.length)return{status:!1};if(h){for(n=0;n<
m.length&&!(c[0][0]<m[n]);n++)c[0][0]++;for(n=0;n<m.length&&!(c[0][1]<m[n]);n++)c[0][1]++}h=[0,0];m=-1;for(n=k=0;n<d.length;n++){e=d[n].Vf;if(c[0][0]>=k&&c[0][0]<k+e.length){m=d[n].idx;h[0]=c[0][0]-k;break}k+=e.length}if(-1===m)return{status:!1};l=-1;for(n=k=0;n<d.length;n++){e=d[n].Vf;if(c[0][1]>=k&&c[0][1]<k+e.length){l=d[n].idx;h[1]=c[0][1]-k;break}k+=e.length}if(-1===l)return{status:!1};if(m===l)d=this.VA(m,h[0],h[1]-1);else{for(n=0;n<d.length&&d[n].idx!==m;n++);d=this.VA(m,h[0],d[n].Vf.length-
1);this.Ra=g.substring(c[0][0],c[0][1])}if(d.status){if(a&&this.Ra.replace(/( |\n)/gm,"")!==a.replace(/( |\n)/gm,""))return{status:!1};d.zm=m;return d}return{status:!1}},RS:function(b,e,c){for(var a=[],d="",g=0;g<e.length;g++){var m=Number(e[g][0]),h=Number(e[g][1]);if(isNaN(m)||isNaN(h))return exports.utils.warn("getRectangularSelectionFromTextIndices: could not parse index-based selectors as numbers."),{status:!1};m=this.VA(b,m,h);if(m.status)Array.prototype.push.apply(a,m.value),d+=this.Ra;else return{status:!1}}return 0===
a.length?{status:!1}:d.replace(/( |\n)/gm,"")!==c.replace(/( |\n)/gm,"")?{status:!1}:{status:!0,value:a}},VA:function(b,e,c,a){if(!this.Sj(b))return{status:!1};var d=new XODText.Db;d.Tb();b=new XODText.Vb;b.Tb();this.Ra=this.ka.substring(e,Math.min(c+1,this.ka.length));if(a&&this.Ra.replace(/( |\n)/gm,"")!==a.replace(/( |\n)/gm,""))return{status:!1};a=0;for(var g,m;;){if(a>=this.mb.length)return{status:!1};g=this.mb[a].ai;m=this.mb[a].bi;if(m.jd().$a()+m.jd().hc()>=e&&g.Rb().$a()<=e)break;a++}for(var h=
this.mb[a],k=h.ai;;){if(k.ua(b))return{status:!1};if(this.gi(k.sh())){if(k.jd().$a()+k.jd().hc()>=e&&k.Rb().$a()<=e)break;if(k.ua(h.bi)||k.ua(b))return{status:!1};k=k.Ge()}}for(var n=k.Rb();;){if(n.ua(d))return{status:!1};if(n.$a()+n.hc()>=e&&n.$a()<=e)break;n=n.le()}for(var l=0;;){if(l>=this.mb.length)return{status:!1};g=this.mb[l].ai;m=this.mb[l].bi;if(m.jd().$a()+m.jd().hc()>=c&&g.Rb().$a()<=c)break;l++}for(var q=this.mb[l].ai;;){if(q.ua(b))return{status:!1};if(this.gi(q.sh())){if(q.jd().$a()+
q.jd().hc()>=c&&q.Rb().$a()<=c)break;if(q.ua(h.bi))return{status:!1};q=q.Ge()}}for(h=q.Rb();;){if(h.ua(d))return{status:!1};if(h.$a()+h.hc()>=c&&h.$a()<=c)break;h=h.le()}for(var d=[],p=Array(4),u=a;u<=l;u++)if(g=this.mb[u].ai,m=this.mb[u].bi,u===a&&u!==l)for(g=k;!g.ua(b);g=g.Ge()){if(this.gi(g.sh())){var r=Array(8);g.ua(k)?n.qo(Math.min(e-n.$a(),n.hc()-1),r):(g.Rb().qb(p),r[0]=p[0],r[1]=p[3],r[6]=p[0],r[7]=p[1]);g.jd().qb(p);r[2]=p[2];r[3]=p[3];r[4]=p[2];r[5]=p[1];d.push(r);if(g.ua(m))break}}else if(u!==
a&&u===l)for(;;g=g.Ge()){if(g.ua(b))return{status:!1};if(this.gi(g.sh())&&(r=Array(8),g.ua(q)?h.qo(Math.min(c-h.$a(),h.hc()-1),r):(g.jd().qb(p),r[2]=p[2],r[3]=p[3],r[4]=p[2],r[5]=p[1]),g.Rb().qb(p),r[0]=p[0],r[1]=p[3],r[6]=p[0],r[7]=p[1],d.push(r),g.ua(q)))break}else if(u===a&&u===l)for(g=k;;g=g.Ge()){if(g.ua(b))return{status:!1};if(this.gi(g.sh())&&(r=Array(8),g.ua(k)&&!g.ua(q)?(n.qo(Math.min(e-n.$a(),n.hc()-1),r),g.jd().qb(p),r[2]=p[2],r[3]=p[3],r[4]=p[2],r[5]=p[1]):!g.ua(k)&&g.ua(q)?(h.qo(Math.min(c-
h.$a(),h.hc()-1),r),g.Rb().qb(p),r[0]=p[0],r[1]=p[3],r[6]=p[0],r[7]=p[1]):g.ua(k)&&g.ua(q)?(n.qo(Math.min(e-n.$a(),n.hc()-1),r),p[0]=r[6],p[1]=r[7],p[2]=r[2],p[3]=r[3],h.qo(Math.min(c-h.$a(),h.hc()-1),r),r[0]=p[0],r[1]=p[3],r[6]=p[0],r[7]=p[1]):(g.Rb().qb(p),r[0]=p[0],r[1]=p[3],r[6]=p[0],r[7]=p[1],g.jd().qb(p),r[2]=p[2],r[3]=p[3],r[4]=p[2],r[5]=p[1]),d.push(r),g.ua(q)))break}else for(;!(g.ua(b)||this.gi(g.sh())&&(r=Array(8),g.Rb().qb(p),r[0]=p[0],r[1]=p[3],r[6]=p[0],r[7]=p[1],g.jd().qb(p),r[2]=p[2],
r[3]=p[3],r[4]=p[2],r[5]=p[1],d.push(r),g.ua(m)));g=g.Ge());return{status:!0,value:d}},OK:function(b,e){this.Ea.clear();this.Ra="";var c=[],a="",d;for(d=b-1;d<b+2;d++)this.Sj(d)&&(c.push({idx:d,Vf:this.ka}),a+=this.ka);if(0===c.length||0===a.length||!this.Sj(b))return!1;var g,m,h,k,n=Array(8),l=Array(8),q=new XODText.Na,p=new XODText.Vb,u=new XODText.Vb;p.Tb();u.Tb();var r=this.Hy,v=this.Hy,w,A=new XODText.Vb;A.Tb();var B=new XODText.Db;B.Tb();var z=new XODText.fa;z.init(e.x1,e.y1);var x=new XODText.fa;
x.init(e.x2,e.y2);u=this.rO(z,x,p,u);p=u.KE;u=u.XE;if(p.ua(A)||u.ua(A))return!1;x=new XODText.Db;z=new XODText.Db;x.Tb();z.Tb();m=g=XODText.gd.Zk;for(var y=p.Rb();!y.ua(B);y=y.le())y.qb(n),r?(d=e.x1,w=e.y1):(w=n[0],n[0]=n[1],n[1]=w,w=n[2],n[2]=n[3],n[3]=w,d=e.y1,w=e.x1),h=(n[3]+n[1])/2,n[2]<=d?(k=n[2]-d,h-=w,h=k*k+h*h):n[0]>=d?(k=n[0]-d,h-=w,h=k*k+h*h):(h-=w,h*=h),h<g&&(g=h,x=y);for(y=u.Rb();!y.ua(B);y=y.le())y.qb(n),v?(d=e.x2,w=e.y2):(w=n[0],n[0]=n[1],n[1]=w,w=n[2],n[2]=n[3],n[3]=w,d=e.y2,w=e.x2),
h=(n[3]+n[1])/2,n[2]<=d?(k=n[2]-d,h-=w,h=k*k+h*h):n[0]>=d?(k=n[0]-d,h-=w,h=k*k+h*h):(h-=w,h*=h),h<m&&(m=h,z=y);if(x.ua(B)||z.ua(B))return!1;w=y=0;m=g=XODText.gd.Zk;var F=x.hc();for(d=0;d<F;++d)x.Bd(d,n),k=(n[0]+n[2]+n[4]+n[6])/4,h=(n[1]+n[3]+n[5]+n[7])/4,k-=e.x1,h-=e.y1,h=k*k+h*h,h<g&&(g=h,y=d);F=z.hc();for(d=0;d<F;++d)z.Bd(d,n),k=(n[0]+n[2]+n[4]+n[6])/4,h=(n[1]+n[3]+n[5]+n[7])/4,k-=e.x2,h-=e.y2,h=k*k+h*h,h<m&&(m=h,w=d);g=y+x.$a();m=w+z.$a();m<g&&(d=g,g=m,m=d);this.bu.push([g,m]);h=[null,null];for(d=
k=0;d<c.length;d++)if(c[d].idx===b){k+=g;break}else c[d].idx<b&&(k+=c[d].Vf.length);h[0]=a.substring(Math.max(0,k-100),k);for(d=g=0;d<c.length;d++)if(c[d].idx===b){g+=m;break}else c[d].idx<b&&(g+=c[d].Vf.length);h[1]=a.substr(g+1,100);null!==h[0]&&null!==h[1]&&this.cu.push(h);m=p.nb;d=u.nb;c=x.nb;a=z.nb;if(m===d){c>a&&(m=x,x=z,z=m,m=y,y=w,w=m);p.qb(q);if(c===a&&y===w&&(m=new XODText.Na,!m.Ov(q,e)))return!1;c===a?(w<y&&(m=y,y=w,w=m),m=w):m=x.rg();x.Bd(y,n);console.assert(r===v);r=x.$a();console.assert(y<=
m);for(v=y;v<=m;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<=m&&(x.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/(m+1)*3,this.ol(l,n,!0),c===a&&(q=Array(8),z.Bd(w,q),this.ol(l,q,!1)),this.fh(l,r));for(y=x=x.le();!y.ua(B)&&y.nb<z.nb;y=y.le()){m=y.rg();r=y.$a();for(v=0;v<=m;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(y.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.fh(l,r))}z.Bd(w,n);m=z.rg();if(c!==a){r=z.$a();console.assert(w<=m);for(v=0;v<=
w;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(z.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.ol(l,n,!1),this.fh(l,r))}}else{m>d&&(r=p,p=u,u=r,m=x,x=z,z=m,m=y,y=w,w=m);p.qb(q);m=new XODText.Na;m.Ov(q,e)||(x=p.Rb(),y=0);x.Bd(y,n);m=x.rg();r=x.$a();console.assert(y<=m);for(v=y;v<=m;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(x.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.ol(l,n,!0),this.fh(l,r));for(y=x=x.le();!y.ua(B);y=y.le()){m=
y.rg();r=y.$a();for(v=0;v<=m;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(y.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.fh(l,r))}for(p=p.Ge();!p.ua(u)&&!p.ua(A);p=p.Ge())if(this.gi(p.sh()))for(p.qb(q),y=p.Rb();!y.ua(B);y=y.le()){m=y.rg();r=y.$a();for(v=0;v<=m;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(y.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.fh(l,r))}u.qb(q);m=new XODText.Na;m.Ov(q,e)||(z=u.DI(u.xh()-1),w=z.hc()-1);for(y=
u.Rb();!y.ua(B)&&!y.ua(z);y=y.le()){m=y.rg();r=y.$a();for(v=0;v<=m;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(y.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.fh(l,r))}z.Bd(w,n);m=z.rg();r=z.$a();console.assert(w<=m);for(v=0;v<=w;++v)r+v<this.ka.length&&(this.Ra+=this.ka.charAt(r+v));0<m&&(z.Uc(l),r=l[0]-l[2],v=l[1]-l[3],r=Math.sqrt(r*r+v*v),r=r/m*3,this.ol(l,n,!1),this.fh(l,r))}return 0<this.Ea.length},Sj:function(b){if(0>b||b>=this.Ce.length)return!1;if(0>=this.$t||
this.$t!==b){var e=this.Ce[b].text;if(null==e||!e.ready())return!1;this.Fb=e;this.ka=this.Fb.Ya;this.kO();this.jO();this.$t=b}return!0},fh:function(b,e){var c=this.Ea.length/8;if(c){for(var a=Array(8),c=8*(c-1),d=0;8>d;++d)a[d]=this.Ea[c+d];if(XODText.ab.eu(a,b,!0,e))for(d=0;8>d;++d)this.Ea[c+d]=a[d];else for(d=0;8>d;++d)this.Ea.add(b[d])}else for(var d=0;8>d;++d)this.Ea.add(b[d])},ol:function(b,e,c){var a=new XODText.fa;a.init(b[0],b[1]);var d=new XODText.fa;d.init(b[2],b[3]);var g=XODText.fa.zg(d,
a);g.normalize()&&(c?(d=new XODText.fa,d.init(e[0],e[1]),e=XODText.fa.zg(d,a).ec(g),g=XODText.fa.multiply(g,e),b[0]+=g.x,b[1]+=g.y,b[6]+=g.x,b[7]+=g.y):(a=new XODText.fa,a.init(e[2],e[3]),e=XODText.fa.zg(a,d).ec(g),g=XODText.fa.multiply(g,e),b[2]+=g.x,b[3]+=g.y,b[4]+=g.x,b[5]+=g.y))},RE:function(b){var e=XODText.Matrix2D.rotationMatrix(0),c=XODText.Matrix2D.rotationMatrix(1.570796325),a=XODText.Matrix2D.rotationMatrix(3.14159265),d=XODText.Matrix2D.rotationMatrix(3.14159265*1.5);switch(parseInt(b/
90+.1)){case 0:return e;case 1:return c;case 2:return a;case 3:return d;case 4:return e;default:return e}},gi:function(){return!0},CF:function(b,e){var c=this.RE(e),a=new XODText.Hd(b.x1,b.y1),a=c.W(a);b.x1=a.x;b.y1=a.y;a=new XODText.Hd(b.x2,b.y2);a=c.W(a);b.x2=a.x;b.y2=a.y;b.normalize()},jO:function(){this.mb.clear();var b,e=new XODText.Vb;e.Tb();var c=new XODText.Na,a=new XODText.mu,d=!1;for(b=this.Fb.mr();!b.ua(e);b=b.Ge())if(this.gi(b.sh())){b.qb(c);c.normalize();var g=new XODText.Na;g.Ah(c);
this.CF(c,this.zc);d?(this.mb.add(a),a=new XODText.mu,a.Jy.Ah(g),a.wf.Ah(c),a.ai=b,a.bi=b):(a.Jy.Ah(g),a.wf.Ah(c),a.ai=b,a.bi=b,d=!0)}d&&this.mb.add(a)},HE:function(b,e){for(var c=XODText.gd.Zk,a=new XODText.Na,d=b.ai,g=b.ai;;g=g.Ge()){if(!this.gi(g.sh()))if(g.ua(b.bi))break;else continue;g.qb(a);this.CF(a,this.zc);var m=(a.y1+a.y2)/2;Math.abs(m-e.y)<c&&(d=g,c=Math.abs(m-e.y));if(g.ua(b.bi))break}return d},Us:function(b,e,c){var a=XODText.fa.zg(e,b),d=XODText.fa.zg(c,b),g=d.ec(a);if(0>=g)return d.ec(d);
d=a.ec(a);if(d<=g)return c=XODText.fa.zg(c,e),c.ec(c);b=XODText.fa.Uo(b,XODText.fa.multiply(a,g/d));c=XODText.fa.zg(c,b);return c.ec(c)},Kx:function(b,e){var c=this.Us(new XODText.fa(e.x1,e.y1),new XODText.fa(e.x2,e.y1),b),a=this.Us(new XODText.fa(e.x2,e.y1),new XODText.fa(e.x2,e.y2),b),d=this.Us(new XODText.fa(e.x2,e.y2),new XODText.fa(e.x1,e.y2),b),g=this.Us(new XODText.fa(e.x1,e.y2),new XODText.fa(e.x1,e.y1),b);return Math.min(c,a,d,g)},rO:function(b,e,c,a){var d=-1,g=-1,m=!1,h=!1,k=this.RE(this.zc),
n=new XODText.fa,l=new XODText.fa;n.Nv(b);l.Nv(e);b=new XODText.Hd(n.x,n.y);b=k.W(b);n.x=b.x;n.y=b.y;b=new XODText.Hd(l.x,l.y);b=k.W(b);l.x=b.x;l.y=b.y;e=0;for(var q=this.mb.length;e<q;++e)k=this.mb[e],0>d&&k.wf.contains(n.x,n.y)&&(d=e,h=!0),0>g&&k.wf.contains(l.x,l.y)&&(g=e,m=!0);if(!h||!m){b=[];for(k=0;k<this.mb.length;++k)b.add(0);var k=Math.max(d,g),p=new XODText.Na;p.Ba(n.x,n.y,l.x,l.y);p.TT(.1);0<=k&&p.union(this.mb[k].wf);var u=new XODText.Na;e=0;for(q=this.mb.length;e<q;++e){var r=new XODText.Na;
r.Ah(this.mb[e].wf);u.Ov(r,p)&&(b[e]=1)}e=b.indexOf(1);for(p=q=b.indexOf(1);-1!==q;){p=q;q++;if(q>=b.length)break;q=b.indexOf(1,q)}q=p;if(0>e)return new XODText.mt(c,a);0>k?(d=e,g=q,h=new XODText.Na,h.Ah(this.mb[d].wf),m=(n.x-h.x1)*(n.x-h.x2),m=0<m?Math.min(Math.abs(n.x-h.x1),Math.abs(n.x-h.x2)):0,k=(n.y-h.y1)*(n.y-h.y2),k=0<k?Math.min(Math.abs(n.y-h.y1),Math.abs(n.y-h.y2)):0,b=(l.x-h.x1)*(l.x-h.x2),b=0<b?Math.min(Math.abs(l.x-h.x1),Math.abs(l.x-h.x2)):0,e=(l.y-h.y1)*(l.y-h.y2),e=0<e?Math.min(Math.abs(l.y-
h.y1),Math.abs(l.y-h.y2)):0,m*m+k*k>b*b+e*e&&(h=d,d=g,g=h)):(p=new XODText.Na,p.Ah(this.mb[k].wf),b=new XODText.fa,h?b.Nv(l):b.Nv(n),console.assert(!(h&&m)&&!(!h&&!m)),console.assert(!p.contains(b.x,b.y)),k-e>Math.max(q-k,0)?(m=Math.min(k,e),p=q):(m=Math.max(k,q),p=e),m!=k&&(e=Array(3),q=Array(3),e[0]=this.Kx(b,this.mb[p].wf),e[1]=this.Kx(b,this.mb[m].wf),e[2]=this.Kx(b,this.mb[k].wf),q[0]=p,q[1]=m,q[2]=k,m=1,e[0]<e[1]&&(m=0),e[2]<e[m]&&(m=2),m=q[m]),h?g=m:d=m)}0<=d&&0<=g&&(c=this.HE(this.mb[d],n,
c),a=this.HE(this.mb[g],l,a));return new XODText.mt(c,a)},Ea:null,Ra:null,Ce:null,Fb:null,$t:0,zc:0,Hy:!1,mb:null};XODText.Xh=function(b,e,c,a,d,g){this.Tw=b;this.XB=e;this.qC=c;this.QF=a;this.GK=d;this.FK=g};XODText.Xh.prototype={Tw:0,XB:0,qC:null,QF:null,GK:0,FK:0};XODText.mt=function(b,e){this.KE=b;this.XE=e};XODText.mt.prototype={KE:null,XE:null};XODText.Zx=function(b,e){this.tF=b;this.CE=e};XODText.Zx.prototype={tF:0,CE:0};XODText.$x=function(b,e,c,a,d,g){this.xy=b;this.Mt=e;this.Lt=c;this.At=
a;this.lu=d;this.ku=g};XODText.$x.prototype={xy:null,Mt:0,Lt:0,At:null,lu:0,ku:0};XODText.Rt.Pa("XODText._intData");XODText.Hd.Pa("XODText.Point2D");XODText.ab.Pa("XODText.Quad");XODText.Matrix2D.Pa("XODText.Matrix2D");XODText.jq.Pa("XODText._highlights");XODText.iq.Pa("XODText._highlight");XODText.Ay.Pa("XODText._highlightDocInfo");XODText.mu.Pa("XODText._selectionTextBlock");XODText.gb.Pa("XODText.SearchMode");XODText.nc.Pa("XODText.ResultCode");XODText.ze.Pa("XODText.TextSearchLowlevel");XODText.Cj.Pa("XODText.TextLocator");
XODText.Xh.Pa("XODText.ResultRun");XODText.mt.Pa("XODText.ResultFindStructuralBounds");XODText.Zx.Pa("XODText.ResultDetermineOriRange");XODText.$x.Pa("XODText.ResultFindTexts");XODText.Rt.VD=-2147483648;XODText.ab.jQ=Math.cos(3.14159265/180*2);XODText.gb.$G=1;XODText.gb.dH=2;XODText.gb.Uz=4;XODText.gb.bH=8;XODText.gb.aH=16;XODText.gb.ZG=32;XODText.gb.cH=64;XODText.gb.eH=128;XODText.nc.Sl=0;XODText.nc.Yu=1;XODText.nc.Yq=2})();self.yc.Lw("XODText");
XODText.Ug=function(){this.vE={};this.Ky=1E3;this.bF=200};XODText.Ug.prototype={cF:0,dF:0,Ky:0,bF:0,nA:function(b){var f=new XODText.Na,e=this.vE[b];"undefined"!=typeof e?f.Ah(e):window.utils.warn("Character "+b+" does not have bounding box.");return f},uu:function(b,f,e){var c=new XODText.Na;c.set(f,this.cF,e,this.dF);this.vE[b]=c},jp:function(b,f){this.cF=b;this.dF=f},oL:function(b){this.Ky=b}};XODText.Tx=function(b){this.fA={};this.nd=!1;this.la=b};
$.extend(XODText.Tx.prototype,{nd:!1,isReady:function(){return this.nd},W_:function(){return this.fA},iC:function(b){try{var f=new window.Ve(b);console.assert("FontInfo"===f.va(),"Root element is incorrect.");"FontInfo"===f.va()&&(f.oa(),this._parse(f))}catch(e){console.warn("Font Parser has encountered an error: "+e.message);return}this.nd=!0},Nt:function(b){var f="",e=0,c,a,d;for(2<=b.length&&"{"===b.charAt(0)&&"}"===b.charAt(1)&&(b=b.substr(2));e<b.length;)c=b.charCodeAt(e),128>c?(f+=String.fromCharCode(c),
e++):191<c&&224>c?(a=b.charCodeAt(e+1),f+=String.fromCharCode((c&31)<<6|a&63),e+=2):(a=b.charCodeAt(e+1),d=b.charCodeAt(e+2),f+=String.fromCharCode((c&15)<<12|(a&63)<<6|d&63),e+=3);return f},MO:function(b){b=b.K("name");console.assert(42===b.length,"Font file name is incorrect.");console.assert(null!=b,"Font file name is incorrect.");return window.kf.yA(this.la,parseInt("0x"+b.substr(28,8)))},LO:function(b,f){console.assert(null!=f,"Font bbox file is corrupted.");var e=b.K("height");console.assert(null!=
e,"Height attribute is missing.");e=e.split(":");f.jp(parseFloat(e[0]),parseFloat(e[1]))},NO:function(b,f){var e=b.K("units_per_em");null!=e&&f.oL(parseInt(e))},KO:function(b,f){console.assert(null!=f,"Font bbox file is corrupted.");var e=b.K("bbox");console.assert(null!=e,"Character width is missing.");var c=e.split(":"),e=parseFloat(c[0]),c=parseFloat(c[1]),a=this.Nt(b.current.textContent);console.assert(0<a.length,"Char value is empty.");f.uu(a,e,c)},_parse:function(b){do{for(var f=null;b.advance();){var e=
b.va();"Font"===e?(f=new XODText.Ug,e=this.MO(b),this.LO(b,f),this.NO(b,f),this.fA[e]=f,b.oa()):"c"===e?this.KO(b,f):console.warn("Font XML parser has encountered a tag it can't process.")}b.Ca()}while(b.depth)}});XODText.Ug.Pa("XODText.Font");XODText.Tx.Pa("XODText.FontParser");
(function(b){function f(a){this.done=!1;this.worker=new Worker(b.o.EA()+"CoreWorker.js");var c=null,e=null,h=this;this.index=a;this.worker.addEventListener("message",function(a){switch(a.data.command){case "done":h.done=!0;e=null;break;case "nextChunk":c=a.data.resources;e=a.data.dataString;break;default:throw Error("Unknown message command "+a.data.command+" from worker");}h.done?(h.Ku(null,[]),h.finish()):c&&e&&(h.Ku(e,c),e=c=null)},!1);this.TY()}var e=[],c=[],a="../core/";f.prototype={setData:function(a,
b,c){this.Ku=b;this.done=!1;this.worker.postMessage({command:"data",dataString:a,docId:c})},cancel:function(){this.worker.postMessage({command:"cancel"})},TY:function(){this.worker.postMessage({command:"options",imageScaling:b.o.bz,specialBlendSupported:b.utils.specialBlendSupported,continueWithoutPrompt:0<b.$m})},kw:function(){this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(c.length){var a=c[0];c.shift();this.setData(a.data,a.Ku,a.la);a.WT(this)}}};b.rT=function(a,
b,m,h){for(var k=e.length,n,l=0;l<k;++l)e[l].done&&(n=e[l]);n||4>k&&(n=e[k]=new f(k));n?(n.setData(a,h,b),m(n)):c.push({WT:m,data:a,la:b,Ku:h})};b.o=b.o||{};b.o.bz=!1;b.o.Gi=function(){return a};b.o.OX=function(d){d.lastIndexOf("/")!==d.length-1&&(d+="/");a=d}})(window);
(function(b){function f(){q.FB||(q.FB=createPromiseCapability());return q.FB}function e(a,d){var b=Error.apply(this,arguments);b.name=this.name="WorkerError";this.stack=b.stack;this.message=b.message;this.userMessage=d}function c(a){u.push(a);for(var d=0;d<r.length;++d)a(r[d])}function a(a,h,k){if(_.isUndefined(a))return null;var f,v=new Promise(function(d,g){c(function(){g(new e("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var k={};m&&(k.workerHeapSize=
m);n&&(k.pdfResourcePath=n);l&&(k.pdfAsmPath=l);var v=window.location.href,u=v.lastIndexOf("/",v.lastIndexOf("#"));-1!==u&&(k.parentUrl=v.substring(0,u+1));f=new window.WN(a,h,k);f.Gq=w.rA();f.jD.then(function(){d()},function(a){g(a)})}),u=new Promise(function(a,d){if(b.utils.isJSWorker&&b.jsworker&&b.jsworker.utils)"android"!==b.jsworker.platform&&"ios"!==b.jsworker.platform||!b.jsworker.utils.getResourcesDir?b.jsworker.utils.getHTMLContentPath?b.jsworker.utils.getHTMLContentPath(function(b){b?(b.endsWith("/")||
(b+="/"),a(b+"js/html5/pdf/")):d(new e("Couldn't fetch resource file path."))}):d(new e("Some functions required for fetching resources are not defined.")):b.jsworker.utils.getResourcesDir(function(b,c){b?d(b):a(c)});else{var c=new XMLHttpRequest;c.open("GET",window.o.yv()+"pdfnet.res",!0);c.responseType="arraybuffer";c.onload=function(){200===c.status?a(c.response):d(new e("Couldn't fetch resource file.","error.ResourceLoadError"))};c.onerror=function(){d(new e("Network error","error.ResourceLoadError"))};
c.send(null)}});return Promise.all([v,u]).then(function(a){var d=/(ENTERP|ENTCPU|WEBCPU|OEM):/;k&&!d.test(k)&&(k=void 0,console.warn("WebViewer is currently running in demo mode, please provide a commercial license key to remove demo stamps"));return b.utils.isJSWorker&&b.jsworker&&b.jsworker.utils?f.MU(a[1],k):f.LU(a[1],k)}).then(function(){"undefined"!==typeof d&&f.BC(d);"undefined"!==typeof g&&f.ts(g);return f})["catch"](function(a){a.message&&-1!==a.message.indexOf("Bad License Key")&&(a.userMessage=
"error.InvalidLicenseKey");throw a;})}var d,g,m,h;b.jx=b.utils.chromeHasSubzero;var k,n,l,q={},p,u=[],r=[],v=_.throttle(function(a){var d=u.length;r.push(a);for(var b=0;b<d;++b)u[b](a)},100,{trailing:!1});e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,configurable:!0}});b.o=b.o||{};var w=b.o,A;w.pv=function(){return A};w.aL=function(a){A=a};w.KS=function(){return new Promise(function(a){var d;try{d=window.parent&&window.parent.WebViewer?window.parent.WebViewer.l(window.frameElement):
void 0,a(d)}catch(b){window.parent.postMessage("requestl","*"),$(window).on("message.l",function(d){d=d.originalEvent;"object"===typeof d.data&&"responsel"===d.data.type&&(a(d.data.value),$(window).off("message.l"))})}})};w.$H=function(a){return a?Promise.resolve(a):b._trnDebugMode?Promise.resolve():(""+location).split("").reverse().join("").match(/(moc\.nortfdp\.[^.]+\/\/|moc\.nortfdp\/\/)/)||b.jsworker?Promise.resolve(""):w.KS().then(function(a){return a?a:null})};w.aJ=function(a){return!a||50>
a.length||"demo:"!==a.slice(0,5)?!1:0<a.slice(5,a.lastIndexOf(":")).match(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/).length};var B={};w.hx=function(a){a.pdf&&(B.Zi=a.pdf);a.office&&(B.Yr=a.office)};w.Jf=function(){return B};w.BC=function(a){d=a;w.Jf().Zi&&w.Jf().Zi.then(function(d){d.BC(a)})};w.ts=function(a){g=a;w.Jf().Zi&&w.Jf().Zi.then(function(a){a.ts(g)})};w.jR=function(a){b.utils.chromeHasSubzero&&(b.jx=a)};w.kJ=function(){return b.jx};var z=b.PDFNet&&b.PDFNet.hasFullAPI;
w.hR=function(a){z=a};w.Pi=function(){return z};w.nX=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");k=a};w.AS=function(){return l||w.Gi()+"pdf/"+(w.Pi()?"full/":"lean/")};w.lX=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");l=a};w.IA=function(){return k||w.Gi()+"pdf/"+(w.Pi()?"full/":"lean/")};w.mX=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");n=a};w.yv=function(){return n||w.Gi()+"pdf/"};w.AR=function(a){p=a};var x;w.QW=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");x=
a};w.vA=function(){return x};var y;w.cX=function(a,d){d||a.lastIndexOf("/")===a.length-1||(a+="/");y=a};w.EA=function(){return y||w.Gi()};w.MW=function(a){m=a};var F,K,E;w.PS=function(){return K};w.sA=function(){E||(E=new Promise(function(a){if(p)a(p);else if(b.utils.isJSWorker&&b.jsworker)a("jsworker");else if(b.utils.isPdfjs)a(void 0);else if(b.utils.isChrome){var d=!0,c=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+window.o.yv()+'SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),
g=c[0];g.addEventListener("error",function(){d&&(console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten."),d=!1);a("ems")},!0);$(document.body).prepend(c);var e=!1,m=function(d){e||(a(d),clearTimeout(h),c.remove(),e=!0)};if("undefined"===typeof g.postMessage)d&&(console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),d=!1),m("ems");else{var h,k=function(){d&&(console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten."),d=!1);m("ems")};g.addEventListener("progress",
function(){clearTimeout(h);h=setTimeout(k,5E3)});g.addEventListener("message",function(a){clearTimeout(h);"T"===a.data?m("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),m("ems"))});g.postMessage("T");h=setTimeout(k,5E3)}}else a("ems")}));return E};w.rA=function(){return q.Gq};w.sS=function(){return f().promise};w.eK=function(a,d,c){w.Jf().Zi&&a===w.rA()||(f().resolve(a),_.isUndefined(c)&&(c={}),c.workerId="pdf_pnacl_module",c.pnaclWorkerPath=window.o.IA()+
(b.jx?"PDFWorkerSubzero.nmf":"PDFWorker.nmf"),c.emsWorkerPath=window.o.yv()+(m||n||l?"ResizableWorker.js":"PDFworker.js"),c.externalPath=window.o.vA(),c.kD=q,k&&(c.pdfWorkerPath=k),F=w.fK(a,d,c))};w.fK=function(a,d,g){g=g||{};var m;return new Promise(function(h,k){function f(a){function d(b){"object"===typeof b.data&&"action"in b.data&&"workerLoaded"===b.data.action&&(a.workerLoadingProgress&&a.workerLoadingProgress(1),m.removeEventListener("message",d))}var m;c(function(){k(new e("The worker has encountered an error",
b.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var h=g.externalPath?"&externalPath="+encodeURIComponent(g.externalPath):"";m=g.emsWorkerPath.toLowerCase().startsWith("http")?new Worker(window.o.EA()+"CORSWorker.js#isfull="+w.Pi()+"&file="+encodeURIComponent(g.emsWorkerPath)+"&path="+encodeURIComponent(window.o.IA().slice(0,-9))):g.pdfWorkerPath?new Worker(g.emsWorkerPath+"?isfull="+w.Pi()+"&pdfWorkerPath="+encodeURIComponent(g.pdfWorkerPath)+h):new Worker(g.emsWorkerPath+"?isfull="+
w.Pi()+h);m.onerror=v;K=!0;m.addEventListener("message",d,!1);h=w.JM();w.iL(h?18E3/h:0);return m}function l(a,d){h(a);g.kD.Gq=d}if("jsworker"===a)console.log("Attempting to load JSWorker"),b.utils.isJSWorker&&(m=b.jsworker.loadWorker(),console.log("JSWorker loaded!"),m&&m.getProcessId(function(a){console.log("Loaded worker in process: "+a)})),K=!1,l(m,"jsworker");else if("pnacl"===a){_.isUndefined(g.useEmscriptenWhileLoading)&&(g.useEmscriptenWhileLoading=!w.kJ());K=!1;var n=$('<embed name="'+g.workerId+
'" id="'+g.workerId+'" width=0 height=0 src="'+g.pnaclWorkerPath+'" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(n);var u=function(a){a.lengthComputable&&(g.useEmscriptenWhileLoading?(m.removeEventListener("progress",u,!0),m.removeEventListener("loadend",q,!0),m.removeEventListener("crash",r,!0),m.removeEventListener("error",p,!0),l(f(d),"ems"),m.addEventListener("loadend",function(){K=!1;g.kD.Gq="pnacl";d.pnaclComplete&&d.pnaclComplete(m)})):d.workerLoadingProgress&&
d.workerLoadingProgress(a.loaded/a.total))},q=function(){d.workerLoadingProgress&&d.workerLoadingProgress(1);w.iL(1E3);l(m,"pnacl")},r=function(){k(new e("The Worker has Crashed.","error.PNaClCrashError"))},p=function(){console.log("PNaClError: Main worker encountered an error. Falling back to Emscripten.");l(f(d),"ems")};m=n[0];m.addEventListener("progress",u,!0);m.addEventListener("loadend",q,!0);m.addEventListener("crash",r,!0);m.addEventListener("error",p,!0)}else"ems"===a&&l(f(d),"ems")})};w.iW=
function(){F=null;B.Zi=null;B.Yr=null;q.FB=null};w.bJ=function(){return h};w.Mv=function(d,b,c){F||w.Jf().Zi||w.eK(d,b);w.pv()||w.aL(c);c=c||w.pv();if(w.Jf().Zi){if(h&&c&&!w.aJ(c))throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");}else h=!c,d=Promise.all([w.$H(c),F]).then(function(d){h=
!d[0]||w.aJ(d[0]);return a(d[1],K,d[0])}),w.hx({pdf:d});return w.Jf().Zi};b.ml=e;w.zP=c})(window);(function(b){b.d0=function(){return 28}})("undefined"===typeof window?this:window);
(function(b){var f=b._trnDebugMode||b.h_,e=b.HO?b.HO:{};b.utils=b.utils?b.utils:{};b.utils.warn=function(b,a){a||(a=b,b="default");f&&e[b]&&console.warn(b+": "+a)};b.utils.log=function(b,a){a||(a=b,b="default");f&&e[b]&&console.log(b+": "+a)};b.utils.error=function(b){f&&console.error(b);throw Error(b);};b.info=function(){};b.warn=function(c,a){b.utils.warn(c,a)};b.error=function(c){b.utils.error(c)}})("undefined"===typeof window?this:window);
(function(b){function f(a,d,b,g,m,h){this.Uk=16;this.aN=288;this.status=0;this.root=null;this.m=0;var k=Array(this.Uk+1),f,A,B,z,x,y,F,K=Array(this.Uk+1),E,G,H,L=new e,O=Array(this.Uk);z=Array(this.aN);var M,N=Array(this.Uk+1),I,D,C;C=this.root=null;for(x=0;x<k.length;x++)k[x]=0;for(x=0;x<K.length;x++)K[x]=0;for(x=0;x<O.length;x++)O[x]=null;for(x=0;x<z.length;x++)z[x]=0;for(x=0;x<N.length;x++)N[x]=0;f=256<d?a[256]:this.Uk;E=a;G=0;x=d;do k[E[G]]++,G++;while(0<--x);if(k[0]==d)this.root=null,this.status=
this.m=0;else{for(y=1;y<=this.Uk&&0==k[y];y++);F=y;h<y&&(h=y);for(x=this.Uk;0!=x&&0==k[x];x--);B=x;h>x&&(h=x);for(I=1<<y;y<x;y++,I<<=1)if(0>(I-=k[y])){this.status=2;this.m=h;return}if(0>(I-=k[x]))this.status=2,this.m=h;else{k[x]+=I;N[1]=y=0;E=k;G=1;for(H=2;0<--x;)N[H++]=y+=E[G++];E=a;x=G=0;do 0!=(y=E[G++])&&(z[N[y]++]=x);while(++x<d);d=N[B];N[0]=x=0;E=z;G=0;z=-1;M=K[0]=0;H=null;for(D=0;F<=B;F++)for(a=k[F];0<a--;){for(;F>M+K[1+z];){M+=K[1+z];z++;D=(D=B-M)>h?h:D;if((A=1<<(y=F-M))>a+1)for(A-=a+1,H=F;++y<
D&&!((A<<=1)<=k[++H]);)A-=k[H];M+y>f&&M<f&&(y=f-M);D=1<<y;K[1+z]=y;H=Array(D);for(A=0;A<D;A++)H[A]=new e;C=null==C?this.root=new c:C.next=new c;C.next=null;C.list=H;O[z]=H;0<z&&(N[z]=x,L.b=K[z],L.e=16+y,L.t=H,y=(x&(1<<M)-1)>>M-K[z],O[z-1][y].e=L.e,O[z-1][y].b=L.b,O[z-1][y].n=L.n,O[z-1][y].t=L.t)}L.b=F-M;G>=d?L.e=99:E[G]<b?(L.e=256>E[G]?16:15,L.n=E[G++]):(L.e=m[E[G]-b],L.n=g[E[G++]-b]);A=1<<F-M;for(y=x>>M;y<D;y+=A)H[y].e=L.e,H[y].b=L.b,H[y].n=L.n,H[y].t=L.t;for(y=1<<F-1;0!=(x&y);y>>=1)x^=y;for(x^=
y;(x&(1<<M)-1)!=N[z];)M-=K[z],z--}this.m=K[1];this.status=0!=I&&1!=B?1:0}}}function e(){this.n=this.b=this.e=0;this.t=null}function c(){this.list=this.next=null}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];b.hn||(b.hn={});b.hn.OD=function(a){this.cZ();this.yx=a;this.zx=0};b.hn.OD.prototype={getBytes:function(a){for(var d,b=Array(1024),c=[],g=0;g<a&&0<(d=this.bZ(b,0,b.length));)c[c.length]=String.fromCharCode.apply(null,b.slice(0,d)),g+=d;return g?(this.yx=this.yx.slice(this.zx),this.zx=0,c.join("")):""},YY:function(){return this.yx.length==this.zx?-1:this.yx.charCodeAt(this.zx++)&
255},Jc:function(a){for(;this.Um<a;)this.Ap|=this.YY()<<this.Um,this.Um+=8},bd:function(d){return this.Ap&a[d]},uc:function(a){this.Ap>>=a;this.Um-=a},xx:function(a,d,b){var c,g,e;if(0==b)return 0;for(e=0;;){this.Jc(this.Ng);g=this.Rk.list[this.bd(this.Ng)];for(c=g.e;16<c;){if(99==c)return-1;this.uc(g.b);c-=16;this.Jc(c);g=g.t[this.bd(c)];c=g.e}this.uc(g.b);if(16==c)this.ce&=32767,a[d+e++]=this.Qk[this.ce++]=g.n;else{if(15==c)break;this.Jc(c);this.Se=g.n+this.bd(c);this.uc(c);this.Jc(this.zp);g=this.qM.list[this.bd(this.zp)];
for(c=g.e;16<c;){if(99==c)return-1;this.uc(g.b);c-=16;this.Jc(c);g=g.t[this.bd(c)];c=g.e}this.uc(g.b);this.Jc(c);this.Vm=this.ce-g.n-this.bd(c);for(this.uc(c);0<this.Se&&e<b;)this.Se--,this.Vm&=32767,this.ce&=32767,a[d+e++]=this.Qk[this.ce++]=this.Qk[this.Vm++]}if(e==b)return b}this.Pk=-1;return e},dZ:function(a,d,b){var c;c=this.Um&7;this.uc(c);this.Jc(16);c=this.bd(16);this.uc(16);this.Jc(16);if(c!=(~this.Ap&65535))return-1;this.uc(16);this.Se=c;for(c=0;0<this.Se&&c<b;)this.Se--,this.ce&=32767,
this.Jc(8),a[d+c++]=this.Qk[this.ce++]=this.bd(8),this.uc(8);0==this.Se&&(this.Pk=-1);return c},aZ:function(a,b,c){if(null==this.wx){var e,k=Array(288);for(e=0;144>e;e++)k[e]=8;for(;256>e;e++)k[e]=9;for(;280>e;e++)k[e]=7;for(;288>e;e++)k[e]=8;this.oD=7;e=new f(k,288,257,d,g,this.oD);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.wx=e.root;this.oD=e.m;for(e=0;30>e;e++)k[e]=5;this.nD=5;e=new f(k,30,0,m,h,this.nD);if(1<e.status)return this.wx=null,alert("HufBuild error: "+e.status),
-1;this.ZY=e.root;this.nD=e.m}this.Rk=this.wx;this.qM=this.ZY;this.Ng=this.oD;this.zp=this.nD;return this.xx(a,b,c)},$Y:function(a,b,c){var e,u,r,v,w,A,B,z=Array(316);for(e=0;e<z.length;e++)z[e]=0;this.Jc(5);A=257+this.bd(5);this.uc(5);this.Jc(5);B=1+this.bd(5);this.uc(5);this.Jc(4);e=4+this.bd(4);this.uc(4);if(286<A||30<B)return-1;for(u=0;u<e;u++)this.Jc(3),z[k[u]]=this.bd(3),this.uc(3);for(;19>u;u++)z[k[u]]=0;this.Ng=7;u=new f(z,19,19,null,null,this.Ng);if(0!=u.status)return-1;this.Rk=u.root;this.Ng=
u.m;v=A+B;for(e=r=0;e<v;)if(this.Jc(this.Ng),w=this.Rk.list[this.bd(this.Ng)],u=w.b,this.uc(u),u=w.n,16>u)z[e++]=r=u;else if(16==u){this.Jc(2);u=3+this.bd(2);this.uc(2);if(e+u>v)return-1;for(;0<u--;)z[e++]=r}else{17==u?(this.Jc(3),u=3+this.bd(3),this.uc(3)):(this.Jc(7),u=11+this.bd(7),this.uc(7));if(e+u>v)return-1;for(;0<u--;)z[e++]=0;r=0}this.Ng=9;u=new f(z,A,257,d,g,this.Ng);0==this.Ng&&(u.status=1);if(0!=u.status)return-1;this.Rk=u.root;this.Ng=u.m;for(e=0;e<B;e++)z[e]=z[e+A];this.zp=6;u=new f(z,
B,0,m,h,this.zp);this.qM=u.root;this.zp=u.m;return 0==this.zp&&257<A||0!=u.status?-1:this.xx(a,b,c)},cZ:function(){null==this.Qk&&(this.Qk=Array(65536));this.Um=this.Ap=this.ce=0;this.Pk=-1;this.vx=!1;this.Se=this.Vm=0;this.wx=this.Rk=null},bZ:function(a,d,b){var c,g;for(c=0;c<b&&(!this.vx||-1!=this.Pk);){if(0<this.Se){if(0!=this.Pk)for(;0<this.Se&&c<b;)this.Se--,this.Vm&=32767,this.ce&=32767,a[d+c++]=this.Qk[this.ce++]=this.Qk[this.Vm++];else{for(;0<this.Se&&c<b;)this.Se--,this.ce&=32767,this.Jc(8),
a[d+c++]=this.Qk[this.ce++]=this.bd(8),this.uc(8);0==this.Se&&(this.Pk=-1)}if(c==b)break}if(-1==this.Pk){if(this.vx)break;this.Jc(1);0!=this.bd(1)&&(this.vx=!0);this.uc(1);this.Jc(2);this.Pk=this.bd(2);this.uc(2);this.Rk=null;this.Se=0}switch(this.Pk){case 0:g=this.dZ(a,d+c,b-c);break;case 1:g=null!=this.Rk?this.xx(a,d+c,b-c):this.aZ(a,d+c,b-c);break;case 2:g=null!=this.Rk?this.xx(a,d+c,b-c):this.$Y(a,d+c,b-c);break;default:g=-1}if(-1==g)return this.vx?0:-1;c+=g}return c}};b.hn.inflate=function(a){return(new b.hn.OD(a)).getBytes(4E9)}})(self);
!function(b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).uV=b()}(function(){return function f(e,c,a){function d(m,k){if(!c[m]){if(!e[m]){var n="function"==typeof require&&require;if(!k&&n)return n(m,!0);if(g)return g(m,!0);n=Error("Cannot find module '"+m+"'");throw n.code="MODULE_NOT_FOUND",n;}n=c[m]={exports:{}};e[m][0].call(n.exports,
function(a){var c=e[m][1][a];return d(c?c:a)},n,n.exports,f,e,c,a)}return c[m].exports}for(var g="function"==typeof require&&require,m=0;m<a.length;m++)d(a[m]);return d}({1:[function(f,e,c){f="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var c=d.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}}return a};
c.DL=function(a,d){return a.length===d?a:a.subarray?a.subarray(0,d):(a.length=d,a)};var a={Hl:function(a,d,c,e,f){if(d.subarray&&a.subarray)return void a.set(d.subarray(c,c+e),f);for(var l=0;l<e;l++)a[f+l]=d[c+l]},sH:function(a){var d,c,e,f,l;d=e=0;for(c=a.length;d<c;d++)e+=a[d].length;l=new Uint8Array(e);d=e=0;for(c=a.length;d<c;d++)f=a[d],l.set(f,e),e+=f.length;return l}},d={Hl:function(a,d,c,e,f){for(var l=0;l<e;l++)a[f+l]=d[c+l]},sH:function(a){return[].concat.apply([],a)}};c.NX=function(g){g?
(c.Wk=Uint8Array,c.Dp=Uint16Array,c.Ep=Int32Array,c.assign(c,a)):(c.Wk=Array,c.Dp=Array,c.Ep=Array,c.assign(c,d))};c.NX(f)},{}],2:[function(f,e,c){function a(a,c){if(65537>c&&(a.subarray&&m||!a.subarray&&g))return String.fromCharCode.apply(null,d.DL(a,c));for(var e="",h=0;h<c;h++)e+=String.fromCharCode(a[h]);return e}var d=f("./common"),g=!0,m=!0,h=new d.Wk(256);for(f=0;256>f;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;c.gY=function(a){var c,g,e,m,h,f=a.length,v=0;for(m=
0;m<f;m++)g=a.charCodeAt(m),55296===(64512&g)&&m+1<f&&(e=a.charCodeAt(m+1),56320===(64512&e)&&(g=65536+(g-55296<<10)+(e-56320),m++)),v+=128>g?1:2048>g?2:65536>g?3:4;c=new d.Wk(v);for(m=h=0;h<v;m++)g=a.charCodeAt(m),55296===(64512&g)&&m+1<f&&(e=a.charCodeAt(m+1),56320===(64512&e)&&(g=65536+(g-55296<<10)+(e-56320),m++)),128>g?c[h++]=g:2048>g?(c[h++]=192|g>>>6,c[h++]=128|63&g):65536>g?(c[h++]=224|g>>>12,c[h++]=128|g>>>6&63,c[h++]=128|63&g):(c[h++]=240|g>>>18,c[h++]=128|g>>>12&63,c[h++]=128|g>>>6&63,
c[h++]=128|63&g);return c};c.l_=function(d){return a(d,d.length)};c.EP=function(a){for(var c=new d.Wk(a.length),g=0,e=c.length;g<e;g++)c[g]=a.charCodeAt(g);return c};c.GP=function(d,c){var g,e,m,f,r=c||d.length,v=Array(2*r);for(g=e=0;g<r;)if(m=d[g++],128>m)v[e++]=m;else if(f=h[m],4<f)v[e++]=65533,g+=f-1;else{for(m&=2===f?31:3===f?15:7;1<f&&g<r;)m=m<<6|63&d[g++],f--;1<f?v[e++]=65533:65536>m?v[e++]=m:(m-=65536,v[e++]=55296|m>>10&1023,v[e++]=56320|1023&m)}return a(v,e)};c.LY=function(a,d){var c;d=d||
a.length;d>a.length&&(d=a.length);for(c=d-1;0<=c&&128===(192&a[c]);)c--;return 0>c?d:0===c?d:c+h[a[c]]>d?c:d}},{"./common":1}],3:[function(f,e){e.exports=function(c,a,d,g){var e=65535&c|0;c=c>>>16&65535|0;for(var h;0!==d;){h=2E3<d?2E3:d;d-=h;do e=e+a[g++]|0,c=c+e|0;while(--h);e%=65521;c%=65521}return e|c<<16|0}},{}],4:[function(f,e){e.exports={TD:0,YZ:1,UD:2,VZ:3,ut:4,NZ:5,b_:6,qn:0,vt:1,cO:2,SZ:-1,$Z:-2,OZ:-3,aO:-5,XZ:0,LZ:1,KZ:9,PZ:-1,TZ:1,WZ:2,ZZ:3,UZ:4,QZ:0,MZ:0,a_:1,c_:2,RZ:8}},{}],5:[function(f,
e){var c=function(){for(var a,d=[],c=0;256>c;c++){a=c;for(var e=0;8>e;e++)a=1&a?3988292384^a>>>1:a>>>1;d[c]=a}return d}();e.exports=function(a,d,g,e){g=e+g;for(a^=-1;e<g;e++)a=a>>>8^c[255&(a^d[e])];return a^-1}},{}],6:[function(f,e){e.exports=function(){this.rV=this.WY=this.time=this.text=0;this.Sc=null;this.Xz=0;this.vz=this.name="";this.FT=0;this.done=!1}},{}],7:[function(f,e){e.exports=function(c,a){var d,g,e,h,k,f,l,q,p,u,r,v,w,A,B,z,x,y,F,K,E,G,H,L;d=c.state;g=c.wk;H=c.input;e=g+(c.Ye-5);h=c.$d;
L=c.output;k=h-(a-c.Qc);f=h+(c.Qc-257);l=d.Uu;q=d.Re;p=d.qj;u=d.Qe;r=d.window;v=d.nk;w=d.Bc;A=d.Si;B=d.Ql;z=(1<<d.Ch)-1;x=(1<<d.eo)-1;a:do b:for(15>w&&(v+=H[g++]<<w,w+=8,v+=H[g++]<<w,w+=8),y=A[v&z];;){if(F=y>>>24,v>>>=F,w-=F,F=y>>>16&255,0===F)L[h++]=65535&y;else{if(!(16&F)){if(0===(64&F)){y=A[(65535&y)+(v&(1<<F)-1)];continue b}if(32&F){d.mode=12;break a}c.cb="invalid literal/length code";d.mode=30;break a}K=65535&y;(F&=15)&&(w<F&&(v+=H[g++]<<w,w+=8),K+=v&(1<<F)-1,v>>>=F,w-=F);15>w&&(v+=H[g++]<<w,
w+=8,v+=H[g++]<<w,w+=8);y=B[v&x];c:for(;;){if(F=y>>>24,v>>>=F,w-=F,F=y>>>16&255,!(16&F)){if(0===(64&F)){y=B[(65535&y)+(v&(1<<F)-1)];continue c}c.cb="invalid distance code";d.mode=30;break a}if(E=65535&y,F&=15,w<F&&(v+=H[g++]<<w,w+=8,w<F&&(v+=H[g++]<<w,w+=8)),E+=v&(1<<F)-1,E>l){c.cb="invalid distance too far back";d.mode=30;break a}if(v>>>=F,w-=F,F=h-k,E>F){if(F=E-F,F>p&&d.rC){c.cb="invalid distance too far back";d.mode=30;break a}if(y=0,G=r,0===u){if(y+=q-F,F<K){K-=F;do L[h++]=r[y++];while(--F);y=
h-E;G=L}}else if(u<F){if(y+=q+u-F,F-=u,F<K){K-=F;do L[h++]=r[y++];while(--F);if(y=0,u<K){F=u;K-=F;do L[h++]=r[y++];while(--F);y=h-E;G=L}}}else if(y+=u-F,F<K){K-=F;do L[h++]=r[y++];while(--F);y=h-E;G=L}for(;2<K;)L[h++]=G[y++],L[h++]=G[y++],L[h++]=G[y++],K-=3;K&&(L[h++]=G[y++],1<K&&(L[h++]=G[y++]))}else{y=h-E;do L[h++]=L[y++],L[h++]=L[y++],L[h++]=L[y++],K-=3;while(2<K);K&&(L[h++]=L[y++],1<K&&(L[h++]=L[y++]))}break}}break}while(g<e&&h<f);K=w>>3;g-=K;w-=K<<3;c.wk=g;c.$d=h;c.Ye=g<e?5+(e-g):5-(g-e);c.Qc=
h<f?257+(f-h):257-(h-f);d.nk=v&(1<<w)-1;d.Bc=w}},{}],8:[function(f,e,c){function a(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function d(){this.mode=0;this.last=!1;this.wrap=0;this.gB=!1;this.total=this.check=this.Uu=this.fc=0;this.head=null;this.Qe=this.qj=this.Re=this.xp=0;this.window=null;this.Sc=this.offset=this.length=this.Bc=this.nk=0;this.Ql=this.Si=null;this.Kf=this.Ur=this.Mo=this.CJ=this.eo=this.Ch=0;this.next=null;this.Yd=new p.Dp(320);this.Ks=new p.Dp(288);this.PG=
this.sJ=null;this.PY=this.back=this.rC=0}function g(a){var d;return a&&a.state?(d=a.state,a.aD=a.Cs=d.total=0,a.cb="",d.wrap&&(a.Gl=1&d.wrap),d.mode=z,d.last=0,d.gB=0,d.Uu=32768,d.head=null,d.nk=0,d.Bc=0,d.Si=d.sJ=new p.Ep(x),d.Ql=d.PG=new p.Ep(y),d.rC=1,d.back=-1,A):B}function m(a){var d;return a&&a.state?(d=a.state,d.Re=0,d.qj=0,d.Qe=0,g(a)):B}function h(a,d){var c,g;return a&&a.state?(g=a.state,0>d?(c=0,d=-d):(c=(d>>4)+1,48>d&&(d&=15)),d&&(8>d||15<d)?B:(null!==g.window&&g.xp!==d&&(g.window=null),
g.wrap=c,g.xp=d,m(a))):B}function k(a,c){var g,e;return a?(e=new d,a.state=e,e.window=null,g=h(a,c),g!==A&&(a.state=null),g):B}function n(a,d,c,g){var e;a=a.state;return null===a.window&&(a.Re=1<<a.xp,a.Qe=0,a.qj=0,a.window=new p.Wk(a.Re)),g>=a.Re?(p.Hl(a.window,d,c-a.Re,a.Re,0),a.Qe=0,a.qj=a.Re):(e=a.Re-a.Qe,e>g&&(e=g),p.Hl(a.window,d,c-g,e,a.Qe),g-=e,g?(p.Hl(a.window,d,c-g,g,0),a.Qe=g,a.qj=a.Re):(a.Qe+=e,a.Qe===a.Re&&(a.Qe=0),a.qj<a.Re&&(a.qj+=e))),0}var l,q,p=f("../utils/common"),u=f("./adler32"),
r=f("./crc32"),v=f("./inffast"),w=f("./inftrees"),A=0,B=-2,z=1,x=852,y=592,F=!0;c.l0=m;c.m0=h;c.n0=g;c.j0=function(a){return k(a,15)};c.RT=k;c.inflate=function(d,c){var g,e,m,h,k,f,y,x,C,Q,T,P,ia,R,U,V,Z,ha,ja,W,aa,da,X=0,Y=new p.Wk(4),ma=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!d||!d.state||!d.output||!d.input&&0!==d.Ye)return B;g=d.state;12===g.mode&&(g.mode=13);k=d.$d;m=d.output;y=d.Qc;h=d.wk;e=d.input;f=d.Ye;x=g.nk;C=g.Bc;Q=f;T=y;aa=A;a:for(;;)switch(g.mode){case z:if(0===g.wrap){g.mode=
13;break}for(;16>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(2&g.wrap&&35615===x){g.check=0;Y[0]=255&x;Y[1]=x>>>8&255;g.check=r(g.check,Y,2,0);C=x=0;g.mode=2;break}if(g.fc=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&x)<<8)+(x>>8))%31){d.cb="incorrect header check";g.mode=30;break}if(8!==(15&x)){d.cb="unknown compression method";g.mode=30;break}if(x>>>=4,C-=4,W=(15&x)+8,0===g.xp)g.xp=W;else if(W>g.xp){d.cb="invalid window size";g.mode=30;break}g.Uu=1<<W;d.Gl=g.check=1;g.mode=512&x?10:12;C=x=0;
break;case 2:for(;16>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(g.fc=x,8!==(255&g.fc)){d.cb="unknown compression method";g.mode=30;break}if(57344&g.fc){d.cb="unknown header flags set";g.mode=30;break}g.head&&(g.head.text=x>>8&1);512&g.fc&&(Y[0]=255&x,Y[1]=x>>>8&255,g.check=r(g.check,Y,2,0));C=x=0;g.mode=3;case 3:for(;32>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}g.head&&(g.head.time=x);512&g.fc&&(Y[0]=255&x,Y[1]=x>>>8&255,Y[2]=x>>>16&255,Y[3]=x>>>24&255,g.check=r(g.check,Y,4,0));C=x=0;g.mode=4;
case 4:for(;16>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}g.head&&(g.head.WY=255&x,g.head.rV=x>>8);512&g.fc&&(Y[0]=255&x,Y[1]=x>>>8&255,g.check=r(g.check,Y,2,0));C=x=0;g.mode=5;case 5:if(1024&g.fc){for(;16>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}g.length=x;g.head&&(g.head.Xz=x);512&g.fc&&(Y[0]=255&x,Y[1]=x>>>8&255,g.check=r(g.check,Y,2,0));C=x=0}else g.head&&(g.head.Sc=null);g.mode=6;case 6:if(1024&g.fc&&(P=g.length,P>f&&(P=f),P&&(g.head&&(W=g.head.Xz-g.length,g.head.Sc||(g.head.Sc=Array(g.head.Xz)),
p.Hl(g.head.Sc,e,h,P,W)),512&g.fc&&(g.check=r(g.check,e,P,h)),f-=P,h+=P,g.length-=P),g.length))break a;g.length=0;g.mode=7;case 7:if(2048&g.fc){if(0===f)break a;P=0;do W=e[h+P++],g.head&&W&&65536>g.length&&(g.head.name+=String.fromCharCode(W));while(W&&P<f);if(512&g.fc&&(g.check=r(g.check,e,P,h)),f-=P,h+=P,W)break a}else g.head&&(g.head.name=null);g.length=0;g.mode=8;case 8:if(4096&g.fc){if(0===f)break a;P=0;do W=e[h+P++],g.head&&W&&65536>g.length&&(g.head.vz+=String.fromCharCode(W));while(W&&P<f);
if(512&g.fc&&(g.check=r(g.check,e,P,h)),f-=P,h+=P,W)break a}else g.head&&(g.head.vz=null);g.mode=9;case 9:if(512&g.fc){for(;16>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(x!==(65535&g.check)){d.cb="header crc mismatch";g.mode=30;break}C=x=0}g.head&&(g.head.FT=g.fc>>9&1,g.head.done=!0);d.Gl=g.check=0;g.mode=12;break;case 10:for(;32>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}d.Gl=g.check=a(x);C=x=0;g.mode=11;case 11:if(0===g.gB)return d.$d=k,d.Qc=y,d.wk=h,d.Ye=f,g.nk=x,g.Bc=C,2;d.Gl=g.check=1;g.mode=
12;case 12:if(5===c||6===c)break a;case 13:if(g.last){x>>>=7&C;C-=7&C;g.mode=27;break}for(;3>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}switch(g.last=1&x,x>>>=1,--C,3&x){case 0:g.mode=14;break;case 1:R=g;if(F){l=new p.Ep(512);q=new p.Ep(32);for(V=0;144>V;)R.Yd[V++]=8;for(;256>V;)R.Yd[V++]=9;for(;280>V;)R.Yd[V++]=7;for(;288>V;)R.Yd[V++]=8;w(1,R.Yd,0,288,l,0,R.Ks,{Bc:9});for(V=0;32>V;)R.Yd[V++]=5;w(2,R.Yd,0,32,q,0,R.Ks,{Bc:5});F=!1}R.Si=l;R.Ch=9;R.Ql=q;R.eo=5;if(g.mode=20,6===c){x>>>=2;C-=2;break a}break;
case 2:g.mode=17;break;case 3:d.cb="invalid block type",g.mode=30}x>>>=2;C-=2;break;case 14:x>>>=7&C;for(C-=7&C;32>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if((65535&x)!==(x>>>16^65535)){d.cb="invalid stored block lengths";g.mode=30;break}if(g.length=65535&x,x=0,C=0,g.mode=15,6===c)break a;case 15:g.mode=16;case 16:if(P=g.length){if(P>f&&(P=f),P>y&&(P=y),0===P)break a;p.Hl(m,e,h,P,k);f-=P;h+=P;y-=P;k+=P;g.length-=P;break}g.mode=12;break;case 17:for(;14>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(g.Mo=
(31&x)+257,x>>>=5,C-=5,g.Ur=(31&x)+1,x>>>=5,C-=5,g.CJ=(15&x)+4,x>>>=4,C-=4,286<g.Mo||30<g.Ur){d.cb="too many length or distance symbols";g.mode=30;break}g.Kf=0;g.mode=18;case 18:for(;g.Kf<g.CJ;){for(;3>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}g.Yd[ma[g.Kf++]]=7&x;x>>>=3;C-=3}for(;19>g.Kf;)g.Yd[ma[g.Kf++]]=0;if(g.Si=g.sJ,g.Ch=7,da={Bc:g.Ch},aa=w(0,g.Yd,0,19,g.Si,0,g.Ks,da),g.Ch=da.Bc,aa){d.cb="invalid code lengths set";g.mode=30;break}g.Kf=0;g.mode=19;case 19:for(;g.Kf<g.Mo+g.Ur;){for(;X=g.Si[x&
(1<<g.Ch)-1],U=X>>>24,V=65535&X,!(U<=C);){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(16>V)x>>>=U,C-=U,g.Yd[g.Kf++]=V;else{if(16===V){for(R=U+2;C<R;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(x>>>=U,C-=U,0===g.Kf){d.cb="invalid bit length repeat";g.mode=30;break}W=g.Yd[g.Kf-1];P=3+(3&x);x>>>=2;C-=2}else if(17===V){for(R=U+3;C<R;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}x>>>=U;C-=U;W=0;P=3+(7&x);x>>>=3;C-=3}else{for(R=U+7;C<R;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}x>>>=U;C-=U;W=0;P=11+(127&x);x>>>=
7;C-=7}if(g.Kf+P>g.Mo+g.Ur){d.cb="invalid bit length repeat";g.mode=30;break}for(;P--;)g.Yd[g.Kf++]=W}}if(30===g.mode)break;if(0===g.Yd[256]){d.cb="invalid code -- missing end-of-block";g.mode=30;break}if(g.Ch=9,da={Bc:g.Ch},aa=w(1,g.Yd,0,g.Mo,g.Si,0,g.Ks,da),g.Ch=da.Bc,aa){d.cb="invalid literal/lengths set";g.mode=30;break}if(g.eo=6,g.Ql=g.PG,da={Bc:g.eo},aa=w(2,g.Yd,g.Mo,g.Ur,g.Ql,0,g.Ks,da),g.eo=da.Bc,aa){d.cb="invalid distances set";g.mode=30;break}if(g.mode=20,6===c)break a;case 20:g.mode=21;
case 21:if(6<=f&&258<=y){d.$d=k;d.Qc=y;d.wk=h;d.Ye=f;g.nk=x;g.Bc=C;v(d,T);k=d.$d;m=d.output;y=d.Qc;h=d.wk;e=d.input;f=d.Ye;x=g.nk;C=g.Bc;12===g.mode&&(g.back=-1);break}for(g.back=0;X=g.Si[x&(1<<g.Ch)-1],U=X>>>24,R=X>>>16&255,V=65535&X,!(U<=C);){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(R&&0===(240&R)){Z=U;ha=R;for(ja=V;X=g.Si[ja+((x&(1<<Z+ha)-1)>>Z)],U=X>>>24,R=X>>>16&255,V=65535&X,!(Z+U<=C);){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}x>>>=Z;C-=Z;g.back+=Z}if(x>>>=U,C-=U,g.back+=U,g.length=V,0===R){g.mode=
26;break}if(32&R){g.back=-1;g.mode=12;break}if(64&R){d.cb="invalid literal/length code";g.mode=30;break}g.Sc=15&R;g.mode=22;case 22:if(g.Sc){for(R=g.Sc;C<R;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}g.length+=x&(1<<g.Sc)-1;x>>>=g.Sc;C-=g.Sc;g.back+=g.Sc}g.PY=g.length;g.mode=23;case 23:for(;X=g.Ql[x&(1<<g.eo)-1],U=X>>>24,R=X>>>16&255,V=65535&X,!(U<=C);){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(0===(240&R)){Z=U;ha=R;for(ja=V;X=g.Ql[ja+((x&(1<<Z+ha)-1)>>Z)],U=X>>>24,R=X>>>16&255,V=65535&X,!(Z+U<=C);){if(0===
f)break a;f--;x+=e[h++]<<C;C+=8}x>>>=Z;C-=Z;g.back+=Z}if(x>>>=U,C-=U,g.back+=U,64&R){d.cb="invalid distance code";g.mode=30;break}g.offset=V;g.Sc=15&R;g.mode=24;case 24:if(g.Sc){for(R=g.Sc;C<R;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}g.offset+=x&(1<<g.Sc)-1;x>>>=g.Sc;C-=g.Sc;g.back+=g.Sc}if(g.offset>g.Uu){d.cb="invalid distance too far back";g.mode=30;break}g.mode=25;case 25:if(0===y)break a;if(P=T-y,g.offset>P){if(P=g.offset-P,P>g.qj&&g.rC){d.cb="invalid distance too far back";g.mode=30;break}P>
g.Qe?(P-=g.Qe,ia=g.Re-P):ia=g.Qe-P;P>g.length&&(P=g.length);R=g.window}else R=m,ia=k-g.offset,P=g.length;P>y&&(P=y);y-=P;g.length-=P;do m[k++]=R[ia++];while(--P);0===g.length&&(g.mode=21);break;case 26:if(0===y)break a;m[k++]=g.length;y--;g.mode=21;break;case 27:if(g.wrap){for(;32>C;){if(0===f)break a;f--;x|=e[h++]<<C;C+=8}if(T-=y,d.Cs+=T,g.total+=T,T&&(d.Gl=g.check=g.fc?r(g.check,m,T,k-T):u(g.check,m,T,k-T)),T=y,(g.fc?x:a(x))!==g.check){d.cb="incorrect data check";g.mode=30;break}C=x=0}g.mode=28;
case 28:if(g.wrap&&g.fc){for(;32>C;){if(0===f)break a;f--;x+=e[h++]<<C;C+=8}if(x!==(4294967295&g.total)){d.cb="incorrect length check";g.mode=30;break}C=x=0}g.mode=29;case 29:aa=1;break a;case 30:aa=-3;break a;case 31:return-4;default:return B}return d.$d=k,d.Qc=y,d.wk=h,d.Ye=f,g.nk=x,g.Bc=C,(g.Re||T!==d.Qc&&30>g.mode&&(27>g.mode||4!==c))&&n(d,d.output,d.$d,T-d.Qc)?(g.mode=31,-4):(Q-=d.Ye,T-=d.Qc,d.aD+=Q,d.Cs+=T,g.total+=T,g.wrap&&T&&(d.Gl=g.check=g.fc?r(g.check,m,T,d.$d-T):u(g.check,m,T,d.$d-T)),
d.yQ=g.Bc+(g.last?64:0)+(12===g.mode?128:0)+(20===g.mode||15===g.mode?256:0),(0===Q&&0===T||4===c)&&aa===A&&(aa=-5),aa)};c.PT=function(a){if(!a||!a.state)return B;var d=a.state;return d.window&&(d.window=null),a.state=null,A};c.QT=function(a,d){var c;a&&a.state&&(c=a.state,0===(2&c.wrap)||(c.head=d,d.done=!1))};c.ST=function(a,d){var c,g,e=d.length;return a&&a.state?(c=a.state,0!==c.wrap&&11!==c.mode?B:11===c.mode&&(g=1,g=u(g,d,e,0),g!==c.check)?-3:n(a,d,e,e)?(c.mode=31,-4):(c.gB=1,A)):B};c.i0="pako inflate (from Nodeca project)"},
{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(f,e){var c=f("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,
26,26,27,27,28,28,29,29,64,64];e.exports=function(e,f,n,l,q,p,u,r){var v,w,A,B,z,x,y,F,K=r.Bc,E,G,H,L,O,M,N=0,I,D=null,C=0,Q=new c.Dp(16);B=new c.Dp(16);var T=null,P=0;for(E=0;15>=E;E++)Q[E]=0;for(G=0;G<l;G++)Q[f[n+G]]++;L=K;for(H=15;1<=H&&0===Q[H];H--);if(L>H&&(L=H),0===H)return q[p++]=20971520,q[p++]=20971520,r.Bc=1,0;for(K=1;K<H&&0===Q[K];K++);L<K&&(L=K);for(E=v=1;15>=E;E++)if(v<<=1,v-=Q[E],0>v)return-1;if(0<v&&(0===e||1!==H))return-1;B[1]=0;for(E=1;15>E;E++)B[E+1]=B[E]+Q[E];for(G=0;G<l;G++)0!==
f[n+G]&&(u[B[f[n+G]]++]=G);if(0===e?(D=T=u,z=19):1===e?(D=a,C-=257,T=d,P-=257,z=256):(D=g,T=m,z=-1),I=0,G=0,E=K,B=p,O=L,M=0,A=-1,N=1<<L,l=N-1,1===e&&852<N||2===e&&592<N)return 1;for(;;){x=E-M;u[G]<z?(y=0,F=u[G]):u[G]>z?(y=T[P+u[G]],F=D[C+u[G]]):(y=96,F=0);v=1<<E-M;K=w=1<<O;do w-=v,q[B+(I>>M)+w]=x<<24|y<<16|F|0;while(0!==w);for(v=1<<E-1;I&v;)v>>=1;if(0!==v?(I&=v-1,I+=v):I=0,G++,0===--Q[E]){if(E===H)break;E=f[n+u[G]]}if(E>L&&(I&l)!==A){0===M&&(M=L);B+=K;O=E-M;for(v=1<<O;O+M<H&&(v-=Q[O+M],!(0>=v));)O++,
v<<=1;if(N+=1<<O,1===e&&852<N||2===e&&592<N)return 1;A=I&l;q[A]=L<<24|O<<16|B-p|0}}return 0!==I&&(q[B+I]=E-M<<24|4194304),r.Bc=L,0}},{"../utils/common":1}],10:[function(f,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(f,e){e.exports=function(){this.input=null;this.aD=this.Ye=this.wk=0;this.output=null;this.Cs=this.Qc=this.$d=0;this.cb="";this.state=
null;this.yQ=2;this.Gl=0}},{}],"/lib/inflate.js":[function(f,e,c){function a(d){if(!(this instanceof a))return new a(d);var c=this.options=m.assign({RP:16384,sd:0,to:""},d||{});c.raw&&0<=c.sd&&16>c.sd&&(c.sd=-c.sd,0===c.sd&&(c.sd=-15));!(0<=c.sd&&16>c.sd)||d&&d.sd||(c.sd+=32);15<c.sd&&48>c.sd&&0===(15&c.sd)&&(c.sd|=15);this.Wz=0;this.cb="";this.ended=!1;this.Lu=[];this.Nm=new l;this.Nm.Qc=0;d=g.RT(this.Nm,c.sd);if(d!==k.qn)throw Error(n[d]);this.header=new q;g.QT(this.Nm,this.header)}function d(d,
c){var g=new a(c);if(g.push(d,!0),g.Wz)throw g.cb||n[g.Wz];return g.result}var g=f("./zlib/inflate"),m=f("./utils/common"),h=f("./utils/strings"),k=f("./zlib/constants"),n=f("./zlib/messages"),l=f("./zlib/zstream"),q=f("./zlib/gzheader"),p=Object.prototype.toString;a.prototype.push=function(a,d){var c,e,f,l,n,q,y=this.Nm,F=this.options.RP,K=this.options.Uq,E=!1;if(this.ended)return!1;e=d===~~d?d:!0===d?k.ut:k.TD;"string"==typeof a?y.input=h.EP(a):"[object ArrayBuffer]"===p.call(a)?y.input=new Uint8Array(a):
y.input=a;y.wk=0;y.Ye=y.input.length;do{if(0===y.Qc&&(y.output=new m.Wk(F),y.$d=0,y.Qc=F),c=g.inflate(y,k.TD),c===k.cO&&K&&(q="string"==typeof K?h.gY(K):"[object ArrayBuffer]"===p.call(K)?new Uint8Array(K):K,c=g.ST(this.Nm,q)),c===k.aO&&!0===E&&(c=k.qn,E=!1),c!==k.vt&&c!==k.qn)return this.NB(c),this.ended=!0,!1;y.$d&&(0!==y.Qc&&c!==k.vt&&(0!==y.Ye||e!==k.ut&&e!==k.UD)||("string"===this.options.to?(f=h.LY(y.output,y.$d),l=y.$d-f,n=h.GP(y.output,f),y.$d=l,y.Qc=F-l,l&&m.Hl(y.output,y.output,f,l,0),this.JJ(n)):
this.JJ(m.DL(y.output,y.$d))));0===y.Ye&&0===y.Qc&&(E=!0)}while((0<y.Ye||0===y.Qc)&&c!==k.vt);return c===k.vt&&(e=k.ut),e===k.ut?(c=g.PT(this.Nm),this.NB(c),this.ended=!0,c===k.qn):e!==k.UD||(this.NB(k.qn),y.Qc=0,!0)};a.prototype.JJ=function(a){this.Lu.push(a)};a.prototype.NB=function(a){a===k.qn&&("string"===this.options.to?this.result=this.Lu.join(""):this.result=m.sH(this.Lu));this.Lu=[];this.Wz=a;this.cb=this.Nm.cb};c.rZ=a;c.inflate=d;c.k0=function(a,c){return c=c||{},c.raw=!0,d(a,c)};c.l1=d},
{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
(function(b){b.Og={Pj:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){for(var e="",c,a,d,g,m,h,k=0;k<f.length;)c=f.charCodeAt(k++),a=f.charCodeAt(k++),d=f.charCodeAt(k++),g=c>>2,c=(c&3)<<4|a>>4,m=(a&15)<<2|d>>6,h=d&63,isNaN(a)?m=h=64:isNaN(d)&&(h=64),e=e+b.Og.Pj.charAt(g)+b.Og.Pj.charAt(c)+b.Og.Pj.charAt(m)+b.Og.Pj.charAt(h);return e},decode:function(f){var e="",c,a,d,g,m,h=0;for(f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<f.length;)c=b.Og.Pj.indexOf(f.charAt(h++)),
a=b.Og.Pj.indexOf(f.charAt(h++)),g=b.Og.Pj.indexOf(f.charAt(h++)),m=b.Og.Pj.indexOf(f.charAt(h++)),c=c<<2|a>>4,a=(a&15)<<4|g>>2,d=(g&3)<<6|m,e+=String.fromCharCode(c),64!==g&&(e+=String.fromCharCode(a)),64!==m&&(e+=String.fromCharCode(d));return e}};"undefined"===typeof window.btoa&&(window.btoa=b.Og.encode);"undefined"===typeof window.atob&&(window.atob=b.Og.decode)})(window);
(function(b){function f(b){var c;"string"!==typeof b?b={documentElement:b}:(c=new DOMParser,b=c.parseFromString(b,"text/xml"));this.current=b.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}f.prototype={mE:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.mE();return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},va:function(){return this.current.tagName},oa:function(){++this.depth;
this.next=this.current.firstChild;this.mE();this.next||++this.diff},Ca:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},K:function(b){return this.current.getAttribute(b)}};b.Ve=f})(window);
(function(b){function f(b){this.depth=this.index=0;this.ve=b;this.location={start:0,Yv:1,Zv:1,end:b.length,empty:!0};this.Rr=[this.location];this.jB=!1;"?"===this.ve.charAt(1)&&this.dI();this.location.empty=!1}b.qt=b.qt?b.qt:{};b.qt.sY=function(b){if(b)return b.replace(/&[^;]*;/g,function(c){switch(c.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===c.charAt(2)?String.fromCharCode(parseInt(c.substring(3,c.length-1),16)):String.fromCharCode(parseInt(c.substring(2,
c.length-1),10))}return c})};f.prototype={advance:function(){this.Zj=null;this.dI();var b=this.location.start;++b;this.location.empty=!1;if("/"!==this.ve.charAt(b))return this.location.empty="/"===this.ve.charAt(this.ve.indexOf(">",b)-1),!0;this.location.end=!0;return!1},uJ:function(){var b=this.location.start+1,c=this.ve.indexOf(">",b);this.location.empty&&--c;b=this.ve.substring(b,c);this.Zj={};c=b.indexOf(" ");if(-1!==c){this.fH=b.substring(0,c);for(var b=b.slice(c),b=b.split('"'),c=b.length-1,
a=0;a<c;++a){var d=b[a],g=b[++a];this.Zj[d.substring(1,d.length-1)]=g}}else this.fH=b},dI:function(){if(this.jB)this.jB=!1,this.location.start=this.ve.indexOf("<",this.location.start+1);else{var b=this.location.Yv;if(!this.location.empty)for(var c=this.location.Zv;0<c;)b=this.ve.indexOf("<",b),"/"===this.ve.charAt(++b)?--c:(b=this.ve.indexOf(">",b),"/"!==this.ve.charAt(b-1)&&++c);this.location.start=this.ve.indexOf("<",b)}this.location.Yv=this.location.start+1;this.location.Zv=1},mark:function(){this.ve.mark&&
this.ve.mark(this.location.start)},va:function(){null!==this.Zj&&"undefined"!==typeof this.Zj||this.uJ();return this.fH},oa:function(){++this.depth;this.location={start:this.location.start};this.Rr[this.Rr.length]=this.location;this.jB=!0},Ca:function(){--this.depth;this.Zj=null;var b=this.location.Yv,c=this.location.Zv,a=this.location.empty,d=this.location.end;this.Rr.pop();this.location=this.Rr[this.Rr.length-1];this.location.Yv=b;this.location.Zv=d?0:a?c:c+1},K:function(e){null!==this.Zj&&"undefined"!==
typeof this.Zj||this.uJ();return b.qt.sY(this.Zj[e])}};b.JZ=f})(self);
(function(b){function f(a){if(a){if(a.length!==this.Zm)throw Error("Data is wrong size for zip header!");this.ar=a=this.OV(a);if(a.Ik!==this.lR)throw Error("Invalid XOD file, signature is wrong!");this.yU=4294967295===a.Tu;this.ng={};this.names=[]}}function e(a,c,e){this.source=a;this.Iu=this.nz=!1;this.Qf={};this.Ul=function(){};this.decrypt=c;this.Nl=e;this.EG=b.o.Wh&&c!==b.o.Wh.decrypt}function c(a){this.ym=a;this.started=!1;this.ej=1}c.prototype={cancel:function(){}};b.kk=function(a){if("string"!==
typeof a){for(var b="",c=0,e=a.length,f;c<e;)f=a.subarray(c,c+1024),c+=1024,b+=String.fromCharCode.apply(null,f);return b}return a};b.xI=function(a){if("string"===typeof a){for(var b=new Uint8Array(a.length),c=a.length,e=0;e<c;e++)b[e]=a.charCodeAt(e);return b}return a};e.prototype={Zf:"Document/FixedDocument.fdoc",Pg:"Document/DocProps/core.xml",Yf:"Document/Structure/DocStruct.struct",OW:function(a){this.Ul=a},Dm:function(a){var c=this;this.Ko(function(e){if(e){b.utils.warn("Error loading document: "+
e);c.Ul(e);if(a){a(e);return}throw e;}return c.request([c.Zf,c.Pg,c.Yf])})},ij:function(){return!1},request:function(a,c){var b=this;if(!b.nz)throw Error("Document must be loaded before requesting parts");_(a).each(function(a){b.rR(a,function(a,d,e,h){return a?(d!==b.Yf&&0!==d.indexOf("Annot/Appearances")&&b.Ul(a),b.trigger("partReady",{sa:d,Bf:!1,ed:!!a.Vy,error:a})):b.trigger("partReady",{sa:d,data:e,Bf:!1,ed:!1,error:null,Gb:h,GJ:c})})})},hp:function(a){this.Cf=a},ws:function(a){this.withCredentials=
a},lz:function(a){var b=this;_(a).each(function(a){var d=b.Qf[a];d&&(d.ej--,0===d.ej&&(delete b.Qf[a],d.cancel()))})},rR:function(a,b){if(this.Qf[a])this.Qf[a].ej++;else return this.Qf[a]=new c(a),this.kK(a,b)}};_(e.prototype).extend(Backbone.Events);f.prototype={PH:function(){return{start:this.ar.Tu,stop:this.ar.Tu+this.ar.OG}},lr:function(a){var b=this.ng[a],c=b.offset+this.Qp+b.Hh+b.Vl;return{start:c,stop:c+b.Eu,ym:a}},rv:function(a){a=this.lr(a);var b=Math.floor(a.start/102400),c=a.stop-a.start;
return Math.min(c,102400*(b+1)-a.start)>c/2?b:b+1},NU:function(a){if(a&&(this.ar=a=this.RV(a),a.Ik!==this.XY))throw Error("Invalid XOD file, signature is wrong!");},aS:function(a){var b=this.rv(a),c=this.names.indexOf(a),e;a=[];var f;for(f=c-1;0<=f&&this.rv(this.names[f])===b;--f);e=f+1;var n=this.lr(this.names[e]).start;for(f=c+1;f<this.names.length&&this.rv(this.names[f])===b;++f);b=f-1;c=this.lr(this.names[b]).stop;for(f=e;f<=b;++f)e=this.lr(this.names[f]),e.start-=n,e.stop-=n,a.push(e);return{start:n,
stop:c,hK:a}},tG:function(a){return!!this.ng[a]},$I:function(a){return 0!==this.ng[a].Mu},iK:function(a){for(var b=10,c=this.EM,e=this.ar.SL,f=0;f<e;f++){var n=this.PV(a,b),b=b+c,l=a.substr(b,n.Hh),b=b+(n.Hh+n.Vl+n.rG+10);this.ng[l]=n;this.names[this.names.length]=l}},ZN:56,$N:20,Zm:22,EM:36,Qp:30,Iw:function(a,b,c){for(var e="",f=0;f<b;f++)var n=a.charCodeAt(f+c).toString(16),e=1===n.length?"0"+n+e:n+e;return parseInt(e,16)},PV:function(a,b){var c={},e=this.Iw;c.Mu=e(a,2,b);c.Eu=e(a,4,b+10);c.rY=
e(a,4,b+14);c.Hh=e(a,2,b+18);c.Vl=e(a,2,b+20);c.rG=e(a,2,b+22);c.offset=e(a,4,b+32);return c},RV:function(a){var b={},c=this.Iw;b.Ik=c(a,4,0);b.f0=c(a,8,4);b.n1=c(a,2,12);b.o1=c(a,2,14);b.LQ=c(a,4,16);b.PP=c(a,4,20);b.iV=c(a,8,24);b.SL=c(a,8,32);b.OG=c(a,8,40);b.Tu=c(a,8,48);return b},OV:function(a){var b={},c=this.Iw;b.Ik=c(a,4,0);b.LQ=c(a,2,4);b.PP=c(a,2,6);b.iV=c(a,2,8);b.SL=c(a,2,10);b.OG=c(a,4,12);b.Tu=c(a,4,16);b.rG=c(a,2,20);return b},jK:function(a){var b={},c=this.Iw;b.Ik=c(a,4,0);b.m1=c(a,
2,4);b.fc=c(a,2,6);b.Mu=c(a,2,8);b.E0=c(a,2,10);b.D0=c(a,2,12);b.t_=c(a,4,14);b.Eu=c(a,4,18);b.rY=c(a,4,22);b.Hh=c(a,2,26);b.Vl=c(a,2,28);return b},lR:101010256,XY:101075792,yJ:67324752,zJ:"PK\u0003\u0004"};f.inflate=function(a){return"string"===typeof a?b.hn.inflate(a):b.uV.inflate(a,{sd:-15})};b.o=b.o||{};b.o.V=b.o.V||{};var a=b.o.V;a.qf=e;a.Gj=f;a.fz=Array(1024);b.RA=function(d,c,e,f){c=c||0;e=e||!1;var k="",n;n=!(_.isNull(d.responseBody)||_.isUndefined(d.responseBody));if(10===b.utils.ie&&n||
!b.Uint8Array&&n){n=d.responseBody;f=_.isArray(n)?n:(new b.VBArray(n)).toArray();c=f.length;d=Array(c);for(e=0;e<c;e++)d[e]=f[e]&255;e=c/1024+1;for(c=0;c<e;c++)k+=String.fromCharCode.apply(null,d.slice(1024*c,1024*c+1024))}else if(!b.Uint8Array||e||_.isUndefined(d.response))for(n=d.responseText,d=a.fz,e=c;e<f;){for(c=0;1024>c&&e<f;++c)d[c]=n.charCodeAt(e)&255,++e;k+=String.fromCharCode.apply(null,d.slice(0,c))}else{n=d.response;f=new b.Uint8Array(n);n=f.length;e=c;if(b.utils.typedArrayApply)return f.subarray(c);
for(d=a.fz;e<n;){c=0;for(var l=Math.min(e+1024,n);e<l;c++,e++)d[c]=f[e];k+=String.fromCharCode.apply(null,1024>c?d.slice(0,c):d)}}return k};b.o.V.Th={bt:0,rD:1,AD:2}})(window);
(function(b){function f(a,d,c){e.apply(this,arguments);if("xod"!==a.name.split(".").pop())throw Error("Not an XOD file");if(!b.FileReader||!b.File||!b.Blob)throw Error("File API is not supported in this browser");this.file=a;this.Ju=[];this.Az=0}var e=b.o.V.qf,c=b.o.V.Gj;f.prototype=new e;f.prototype=_(f.prototype).extend({BB:function(a,d,c){var b=this,e=new FileReader;e.onloadend=function(a,f){if(0<b.Ju.length){var l=b.Ju.shift();l.SV.readAsBinaryString(l.file)}else b.Az--;if(e.error){l=e.error;
if(l.code===l.ABORT_ERR){console.warn("Request for chunk "+d.start+"-"+d.stop+" was aborted");return}return c(l)}if(l=f||e.content||a.target.result)return c(!1,l);console.warn("No data was returned from FileReader.")};d&&(a=(a.slice||a.webkitSlice||a.mozSlice||a.Zz).call(a,d.start,d.stop));0===b.Ju.length&&50>b.Az?(e.readAsBinaryString(a),b.Az++):b.Ju.push({SV:e,file:a});return function(){e.abort()}},Ko:function(a){var d=this;d.Iu=!0;var b=c.prototype.Zm;d.BB(d.file,{start:-b,stop:d.file.size},function(e,
f){if(e)return console.warn("Error loading end header: %s",e),a(e);if(f.length!==b)throw Error("Zip end header data is wrong size!");d.Nb=new c(f);var k=d.Nb.PH();d.BB(d.file,k,function(c,b){if(c)return console.warn("Error loading central directory: %s",c),a(c);if(b.length!==k.stop-k.start)throw Error("Zip central directory data is wrong size!");d.Nb.iK(b);d.nz=!0;d.Iu=!1;return a(!1)})})},kK:function(a,d){var c=this,b=c.Qf[a];if(!c.Nb.tG(a))return d(Error('File not found: "'+a+'"'),a);var e=c.Nb.lr(a),
f=c.BB(c.file,e,function(b,m){delete c.Qf[a];if(b)return console.warn('Error loading part "%s": %s',a,b),d(b);if(m.length!==e.stop-e.start)throw Error("Part data is wrong size!");var f=c.Nb.$I(a);d(!1,a,m,f)});b.started=!0;b.cancel=f}});"FileReader"in window&&!FileReader.prototype.readAsBinaryString&&(FileReader.prototype.readAsBinaryString=function(a){var d="",c=this;c.content="";var b=new FileReader;b.onload=function(){for(var a=new Uint8Array(b.result),e=a.byteLength,f=0;f<e;f++)d+=String.fromCharCode(a[f]);
c.content+=d;$(c).trigger("onload");b.onloadend=function(){$(c).trigger("onloadend")}};b.readAsArrayBuffer(a)});b.o.V.zD=f;b.mf=b.mf||{};b.mf.lZ=function(a){return{name:a.value.split(/[/\\]/).pop(),size:null,data:null,waiting:[],iB:!1,Zz:function(a,c){return{LJ:this,Zz:this.Zz,start:a,stop:c}}}};b.mf.mZ=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(a){var d=a.LJ||a,c=this,b=encodeURI(d.name);if(d.data)return this.cB(a);if(d.iB)return d.waiting.push(function(){c.cB(a)});
d.iB=!0;new JSIO.gZ(b,function(b){d.iB=!1;if(b)return console.error('Failed to load file "%s"',d.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),c.error=Error('Failed to load file "%s"',d.name),c.onloadend(c.error);d.size=this.fileSize;d.data=this.read(this.fileSize);c.cB.call(c,a);for(b=0;b<d.waiting.length;b++)d.waiting[b]();d.waiting=[]})},cB:function(a){var d=a.LJ||a,c=a.start||0;a=a.stop||d.size;null===c&&(c=d.size);null===a&&(a=d.size);0>c&&(c=d.size+
c);0>a&&(a=d.size+a);d=d.data.slice(c,a);c="";for(a=0;a<d.length/1E3;a++)c+=String.fromCharCode.apply(null,d.slice(1E3*a,1E3*a+1E3));this.result=c;this.onloadend({},c)}}}})(window);
(function(b){function f(b){this.file=b}f.prototype=$.extend({getFileData:function(b){var c=this,a=new FileReader;a.onload=function(a){c.trigger("documentLoadingProgress",[a.loaded,a.loaded]);b(new Uint8Array(a.target.result))};a.onprogress=function(a){a.lengthComputable&&c.trigger("documentLoadingProgress",[a.loaded,0<a.total?a.total:0])};a.readAsArrayBuffer(this.file)},getFile:function(){return b.utils.isJSWorker?this.file.path:this.file}},b.utils.eventHandler);b.o.V.YM=f})(window);
(function(b){function f(b){this.buffer=b}f.prototype=$.extend({getFileData:function(b){b(new Uint8Array(this.buffer))},getFile:function(){return null}},b.utils.eventHandler);b.o.V.tM=f})(window);
(function(b){function f(a,d,c){for(var b in a)this[b]=a[b];this.startOffset=d;this.endOffset=c;this.zG=function(d,c,b,g){_.isUndefined(c.stop)?(c.start+=this.endOffset,c.stop=this.endOffset):(c.start+=this.startOffset,c.stop+=this.startOffset);d=this.Rq(this.url,c,this.Sn);return new a.gs(d,c,b,g)}}function e(a,d,c,b){m.apply(this,[a,c,b]);this.hj={};this.Sn=d;this.url=a}function c(){this.ej=1}function a(a){var d=a.request,c=a.range;return function(g,e){if(g){if(g.code===d.Ob.Sk){b.utils.warn("Request for range "+
c.start+"-"+c.stop+" was aborted");return}return a.Fe.forEach(function(a){a("Error retrieving file: "+d.url+". Received return status "+g.status+".")})}return a.Fe.forEach(function(a){a(!1,e,d)})}}function d(a,d,c,g){this.url=a;this.range=d;this.Cf=c;this.withCredentials=g;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");g&&(this.request.withCredentials=g);e.DISABLE_RANGE_HEADER||(_.isUndefined(d.stop)?this.request.setRequestHeader("Range",
"bytes="+d.start):this.request.setRequestHeader("Range",["bytes=",d.start,"-",d.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(c)for(var m in c)this.request.setRequestHeader(m,c[m]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ob.xj}function g(a,d,c){for(var g=-1,e=0;e<c.length;e++)_.isEqual(c[e].range,d)&&_.isEqual(c[e].url,
a)&&(g=e);-1===g&&b.utils.warn(d+" not found in queue");return g}var m=b.o.V.qf,h=b.o.V.Gj,k=[],n=[];d.prototype={constructor:d,start:function(a){var d=this,c=this.request;c.onreadystatechange=function(){if(d.Vy)return d.status=d.Ob.Sk,a({code:d.Ob.Sk});if(this.readyState===d.XN.DONE){d.xv();var g=0===window.document.URL.indexOf("file:///");200===c.status||206===c.status||g&&0===c.status?(g=b.RA(this),d.success(g,a)):(d.status=d.Ob.ERROR,a({code:d.status,status:this.status}))}};this.request.send(null);
this.status=this.Ob.dl},success:function(a,d){this.status=this.Ob.BN;if(d)return d(!1,a)},abort:function(){this.xv();this.Vy=!0;this.request.abort()},xv:function(){var d=g(this.url,this.range,n);-1!==d&&n.splice(d,1);if(0<k.length){var d=k.shift(),c=new this.constructor(d.url,d.range,this.Cf,this.withCredentials);d.request=c;n.push(d);c.start(a(d))}},XN:{HZ:0,DONE:4},Ob:{xj:0,dl:1,BN:2,ERROR:3,Sk:4},extend:function(a){var d=$.extend({},this,a.prototype);d.constructor=a;return d}};b.r1=[];e.DISABLE_RANGE_HEADER=
!1;e.prototype={gs:d,ZM:3,Rq:function(a,d,c){var g=-1===a.indexOf("?")?"?":"&";switch(c){case !1:case b.o.V.Th.bt:a=a+g+"_="+_.uniqueId();break;case !0:case b.o.V.Th.rD:a=a+g+"_="+d.start+","+(_.isUndefined(d.stop)?"":d.stop)}return a},zG:function(a,d,c,b){return new this.gs(a,d,c,b)},nR:function(a,d,c,b,g){for(var e=0;e<k.length;e++)if(_.isEqual(k[e].range,d)&&_.isEqual(k[e].url,a))return k[e].Fe.push(b),k[e].mw++,null;for(e=0;e<n.length;e++)if(_.isEqual(n[e].range,d)&&_.isEqual(n[e].url,a))return n[e].Fe.push(b),
n[e].mw++,null;c={url:a,range:d,Sn:c,Fe:[b],mw:1,request:{}};if(0===k.length&&n.length<this.ZM)return n.push(c),c.request=this.zG(a,d,g,this.withCredentials),c;k.push(c);return null},Ti:function(d,c,b){var e=this.Rq(d,c,this.Sn);(d=this.nR(e,c,this.Sn,b,this.Cf))&&d.request.start(a(d));return function(){var a=g(e,c,n),d;-1!==a?(d=--n[a].mw,0===d&&n[a].request.abort()):(a=g(e,c,k),-1!==a&&(d=--k[a].mw,0===d&&k.splice(a,1)))}},SH:function(){return{start:-h.prototype.Zm}},sT:function(){var a=-(h.prototype.Zm+
h.prototype.$N);return{start:a-h.prototype.ZN,end:a}},Ko:function(a){var d=this;d.Iu=!0;var c=h.prototype.Zm;d.Ti(d.url,d.SH(),function(g,e){function m(){var c=d.Nb.PH();d.Ti(d.url,c,function(g,e){if(g)return b.utils.warn("Error loading central directory: "+g),a(g);e=b.kk(e);if(e.length!==c.stop-c.start)return a("Invalid XOD file: Zip central directory data is wrong size! Should be "+(c.stop-c.start)+" but is "+e.length);d.Nb.iK(e);d.nz=!0;d.Iu=!1;return a(!1)})}if(g)return b.utils.warn("Error loading end header: "+
g),a(g);e=b.kk(e);if(e.length!==c)return a("Invalid XOD file: Zip end header data is wrong size!");try{d.Nb=new h(e)}catch(f){return a(f)}d.Nb.yU?d.Ti(d.url,d.sT(),function(c,g){if(c)return b.utils.warn("Error loading zip64 header: "+c),a(c);g=b.kk(g);d.Nb.NU(g);m()}):m()})},OA:function(a){a(Object.keys(this.Nb.ng))},kK:function(a,d){var g=this;if(!g.Nb.tG(a))return delete g.Qf[a],d(Error('File not found: "'+a+'"'),a);var e=g.Nb.rv(a);if(e in g.hj){var m=g.Qf[a];m.Wn=g.hj[e];m.Wn.ej++;m.cancel=m.Wn.cancel}else{var f=
g.Nb.aS(a),h=g.Ti(g.url,f,function(c,m){c?(b.utils.warn('Error loading part "'+a+'": '+c),g.Ti(g.url,f,function(c,b){if(c)return d(c,a);g.lK(b,f,e,a,d)})):g.lK(m,f,e,a,d)}),k=g.Qf[a];k&&(k.started=!0,k.cancel=function(){k.Wn.ej--;0===k.Wn.ej&&(h(),delete g.hj[e])},g.hj[e]=new c,k.Wn=g.hj[e],k.Wn.cancel=k.cancel)}},lK:function(a,d,c,b,g){if(a.length!==d.stop-d.start)return g(Error("Part data is wrong size!"),b);do{if(!this.hj[c])return;b=this.hj[c].ej;for(var e=d.hK.length,m=0;m<e;++m){var f=d.hK[m];
g(!1,f.ym,a["string"===typeof a?"substring":"subarray"](f.start,f.stop),this.Nb.$I(f.ym));f.ym in this.Qf&&delete this.Qf[f.ym]}}while(b!==this.hj[c].ej);delete this.hj[c]}};e.prototype=$.extend(new m,e.prototype);f.prototype=$.extend(new e,f.prototype);b.o.V.tj=e;b.o.V.Fx=d})(window);
(function(b){function f(c,a){e.apply(this,[c]);this.url=c;-1===a.indexOf("/",a.length-1)&&(a+="/");this.path=a}var e=b.o.V.qf;f.prototype=new e;f.prototype=_(f.prototype).extend({request:function(c){var a=this;_(c).each(function(d){var c=-1!==d.indexOf("Thumbs/"),m=-1!==d.indexOf("Fonts/");if(-1!==d.indexOf("Images/")||c||m)return a.trigger("partReady",{sa:d,data:d,Bf:!0,ed:!1,error:null,Gb:!1});$.ajax({url:a.path+d,mimeType:"text/plain; charset=x-user-defined",xhrFields:{withCredentials:e.withCredentials},
xhr:function(){var a=$.ajaxSettings.xhr();a&&(this.YS=function(){return a.responseBody});return a},success:function(c){var g=b.utils.ie?this.YS():c;c="";var e,m,f;if(b.utils.ie){g=(new b.VBArray(g)).toArray();f=g.length;e=Array(f);for(m=0;m<f;m++)e[m]=g[m]&255;g=f/1024+1;for(m=0;m<g;m++)c+=String.fromCharCode.apply(null,e.slice(1024*m,1024*m+1024))}else for(e=b.o.V.fz,m=0;m<g.length;){for(f=0;1024>f&&m<g.length;++f)e[f]=g.charCodeAt(m)&255,++m;c+=String.fromCharCode.apply(null,e.slice(0,f))}return a.trigger("partReady",
{sa:d,data:c,Bf:!1,ed:!1,error:null,Gb:!0})},error:function(c,b,g){c=Error(b+" "+g);return a.trigger("partReady",{sa:d,Bf:!1,ed:!!c.Vy,error:c})}})})},Ko:function(c){c()}});b.o.V.Px=f})(window);
(function(b){function f(b,c){c=c||{};this.url=b;this.filename=c.filename||b;this.Cf=null;this.JY=!!c.useDownloader;this.withCredentials=!!c.withCredentials}f.prototype=$.extend({hp:function(b){this.Cf=b},getFileData:function(b){var c=new XMLHttpRequest,a=0===this.url.indexOf("blob:")?"blob":"arraybuffer";c.open("GET",this.url,!0);c.withCredentials=this.withCredentials;c.responseType=a;var d=this;if(this.Cf)for(var g in this.Cf)c.setRequestHeader(g,this.Cf[g]);var m=/^https?:/i.test(this.url);c.addEventListener("load",
function(a){if(200===this.status||!m&&0===this.status)if(d.trigger("documentLoadingProgress",[a.loaded,a.loaded]),"blob"===this.responseType){a=this.response;var c=new FileReader;c.onload=function(a){b(new Uint8Array(a.target.result))};c.readAsArrayBuffer(a)}else try{c=new Uint8Array(this.response),b(c)}catch(g){d.trigger("error",["pdfLoad","Out of memory"])}else d.trigger("error",["pdfLoad",this.status+" "+a.currentTarget.statusText])},!1);c.onprogress=function(a){d.trigger("documentLoadingProgress",
[a.loaded,0<a.total?a.total:0])};c.addEventListener("error",function(){d.trigger("error",["pdfLoad","Network failure"])},!1);c.send();this.xhr=c},getFile:function(){if(b.utils.isJSWorker)return this.url;if(this.JY){var e={url:this.url};this.Cf&&(e.customHeaders=this.Cf);return e}return null},abort:function(){this.xhr&&this.xhr.abort()}},b.utils.eventHandler);b.o.V.Xs=f})(window);
(function(b){function f(d,b,f,k){a.apply(this,[d,f,k]);this.url=d;this.stream=new c(d,b);this.Nb=new e;this.ds=createPromiseCapability();this.nK={}}function e(){this.buffer="";this.state=0;this.Mm=4;this.Wc=null;this.ef=d.prototype.Qp;this.ng={}}function c(a,d){var c=-1===a.indexOf("?")?"?":"&";switch(d){case !1:case b.o.V.Th.bt:this.url=a+c+"_="+_.uniqueId();break;default:this.url=a}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ob.xj}var a=b.o.V.qf,d=b.o.V.Gj;c.prototype={start:function(a,d){var c=this,b=this.request,e;c.yg=0;if(a)for(var f in a)this.request.setRequestHeader(f,a[f]);d&&(this.request.withCredentials=d);this.bj=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===b.status||a&&0===b.status;
if(4!==b.readyState||a){try{b.responseText}catch(d){return}c.yg<b.responseText.length&&(e=c.fC())&&c.trigger("data",e);0===b.readyState&&(clearInterval(c.bj),c.trigger("done"))}else clearInterval(c.bj),c.trigger("done","Error received return status "+b.status)},1E3);this.request.send(null);this.status=this.Ob.dl},fC:function(){var a=this.request,d=a.responseText;if(0!==d.length)if(this.yg===d.length)clearInterval(this.bj),this.trigger("done");else return d=Math.min(this.yg+3E6,d.length),a=b.RA(a,
this.yg,!0,d),this.yg=d,a},abort:function(){clearInterval(this.bj);var a=this;this.request.onreadystatechange=function(){b.utils.warn("StreamingRequest aborted");a.status=a.Ob.Sk;return a.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=function(){a.status=a.Ob.Qx;return a.trigger("done")};this.request.abort()},Ob:{xj:0,dl:1,Qx:2,ERROR:3,Sk:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new d;e.prototype=_(e.prototype).extend({processData:function(a){var c;
for(a=this.buffer+a;a.length>=this.ef;)switch(this.state){case 0:this.Wc=c=this.jK(a.slice(0,this.ef));if(c.Ik!==this.yJ)throw Error("Wrong signature in local header: "+c.Ik);a=a.slice(this.ef);this.state=1;this.ef=c.Eu+c.Hh+c.Vl+this.Mm;this.trigger("header",c);break;case 1:if(this.Wc.name=a.slice(0,this.Wc.Hh),this.ng[this.Wc.name]=this.Wc,c=this.ef-this.Mm,this.trigger("file",this.Wc.name,a.slice(this.Wc.Hh+this.Wc.Vl,c),this.Wc.Mu),a=a.slice(c),a.slice(0,this.Mm)===this.zJ)this.state=0,this.ef=
d.prototype.Qp;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);f.prototype=new a;f.prototype=_(f.prototype).extend({Dm:function(a){var d=this;this.request([this.Zf,this.Pg,this.Yf]);this.stream.bind("data",function(c){try{if(d.Nb.processData(c))return d.stream.finish()}catch(b){throw d.stream.abort(),d.Ul(b),a(b),b;}});this.stream.bind("done",function(c){d.BV=!0;d.ds.resolve();c&&(d.Ul(c),a(c))});this.Nb.bind("header",_(this.Jw).bind(this));this.Nb.bind("file",
_(this.hC).bind(this));return this.stream.start(this.Cf,this.withCredentials)},OA:function(a){var d=this;this.ds.promise.then(function(){a(Object.keys(d.Nb.ng))})},ij:function(){return!0},request:function(a){var d=this;this.BV&&a.forEach(function(a){d.nK[a]||d.qY(a)})},Jw:function(){},abort:function(){this.stream&&this.stream.abort()},qY:function(a){this.trigger("partReady",{sa:a,error:"Requested part not found",Bf:!1,ed:!1})},hC:function(a,d,c){this.nK[a]=!0;this.trigger("partReady",{sa:a,data:d,
Bf:!1,ed:!1,error:null,Gb:c})}});b.o.V.PD=f;b.o.V.DZ=c})(window);
(function(b){function f(d,b,f,k){a.apply(this,[d,f,k]);this.url=d;this.stream=new c(d,b);this.Nb=new e(b,f,k,d.slice(0,d.lastIndexOf("/")+1));this.ds=createPromiseCapability();this.IQ={};this.BK=null;this.timeStamp=0}function e(a,c,b,e){this.Sn=a;this.decrypt=c;this.Nl=b;this.buffer="";this.state=0;this.Mm=4;this.Wc=null;this.ef=d.prototype.Qp;this.To=[];this.Rw=[];this.Xr=this.KB=0;this.ng={};this.mW=e;this.fw="";this.Hw=null;this.yB="";this.oC=0;this.VU=5}function c(a,d){var c=-1===a.indexOf("?")?
"?":"&";switch(d){case !1:case b.o.V.Th.bt:this.url=a+c+"_="+_.uniqueId();break;default:this.url=a}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ob.xj}var a=b.o.V.qf,d=b.o.V.Gj;c.prototype={start:function(a,d){var c=this,b=this.request,
e;c.yg=0;if(a)for(var f in a)this.request.setRequestHeader(f,a[f]);d&&(this.request.withCredentials=d);this.bj=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===b.status||a&&0===b.status;if(4!==b.readyState||a){try{b.responseText}catch(d){return}c.yg<b.responseText.length&&(e=c.fC())&&c.trigger("data",e);0===b.readyState&&(clearInterval(c.bj),c.trigger("done"))}else clearInterval(c.bj),c.trigger("done","Error received return status "+b.status)},300);this.request.send(null);
this.status=this.Ob.dl},fC:function(){var a=this.request,d=a.responseText;if(0!==d.length)if(this.yg===d.length)clearInterval(this.bj),this.trigger("done");else return d=Math.min(this.yg+3E6,d.length),a=b.RA(a,this.yg,!0,d),this.yg=d,a},abort:function(){clearInterval(this.bj);var a=this;this.request.onreadystatechange=function(){b.utils.warn("RangeStreamingRequest aborted");a.status=a.Ob.Sk;return a.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=
function(){a.status=a.Ob.Qx;return a.trigger("done")};this.request.abort()},Ob:{xj:0,dl:1,Qx:2,ERROR:3,Sk:4}};_(c.prototype).extend(Backbone.Events);e.prototype=new d;e.prototype=_(e.prototype).extend({xQ:function(a){a=b.utils.utf8_decode(a).split("\n");this.yB&&(a[0]=this.yB+a[0]);var d=a[a.length-1];d&&(this.yB=d,a.pop());0<a.length&&3>a[a.length-1].length&&a.pop();0<a.length&&3>a[0].length&&a.shift();return a},NV:function(a){if(!a)return!1;a=this.xQ(a);for(var d=0,c=0,b,e=this.fw,f=!1,q=0;q<a.length;++q)if(b=
a[q].trim().replace(/(^[[,]*|[\],]*$)/g,""),!(4>b.length)){b=JSON.parse(b)||{};b.url&&(this.fw=this.mW+b.url,e!==this.fw&&(d=0,f=!0),e=this.fw);b.size&&(0===d&&(c=b.pos),d+=b.size,f||1048576<d||0===this.KB||a.length===q+1)&&(this.CB({start:c,stop:c+d,url:e}),d=0);if(b.end||0===b.size)return 0<d&&this.CB({start:c,stop:c+d,url:e}),!0;f=!1}return!1},CB:function(a){var d=this;if(0<this.KB&&0===this.Xr)this.Rw.push(a);else{var c=this.KB++;this.Hw&&this.Hw.url===a.url||(this.Hw=new b.o.V.tj(a.url,this.Sn,
this.decrypt,this.Nl));var e=this.Hw;++d.oC;e.Ti(a.url,a,function(b,e){--d.oC;d.mV(e,c,a)})}},wR:function(){if(0<this.Xr)for(;0<this.Rw.length&&this.oC<this.VU;)this.CB(this.Rw.shift())},mV:function(a,d,c){this.To[d-this.Xr]={data:a,range:c};for(a=d;this.Xr===a;a++)0<this.To.length&&this.To[0]&&(this.processData(b.kk(this.To[0].data),this.To[0].range),this.To.shift(),++this.Xr,this.wR())},processData:function(a){var c;if(2===this.state)return!1;for(a=this.buffer+a;a.length>=this.ef;)switch(this.state){case 0:this.Wc=
c=this.jK(a.slice(0,this.ef));if(c.Ik!==this.yJ)throw Error("Wrong signature in local header: "+c.Ik);a=a.slice(this.ef);this.state=1;this.ef=c.Eu+c.Hh+c.Vl+this.Mm;this.trigger("header",c);break;case 1:if(this.Wc.name=a.slice(0,this.Wc.Hh),this.ng[this.Wc.name]=this.Wc,c=this.ef-this.Mm,this.trigger("file",this.Wc.name,a.slice(this.Wc.Hh+this.Wc.Vl,c),this.Wc.Mu),a=a.slice(c),a.slice(0,this.Mm)===this.zJ)this.state=0,this.ef=d.prototype.Qp;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);
f.prototype=new a;f.prototype=_(f.prototype).extend({Dm:function(a){var d=this;this.request([this.Zf,this.Pg,this.Yf]);this.stream.bind("data",function(c){try{if(d.Nb.NV(c))return d.stream.finish()}catch(b){throw d.stream.abort(),d.Ul(b),a(b),b;}});this.stream.bind("done",function(c){d.ds.resolve();d.BK={};c&&(d.Ul(c),a(c))});this.Nb.bind("header",_(this.Jw).bind(this));this.Nb.bind("file",_(this.hC).bind(this));this.timeStamp=Date.now();return this.stream.start(this.Cf,this.withCredentials)},OA:function(a){var d=
this;this.ds.promise.then(function(){a(Object.keys(d.Nb.ng))})},ij:function(){return!0},request:function(){},Jw:function(){},abort:function(){this.stream&&this.stream.abort()},hC:function(a,d,c){this.trigger("partReady",{sa:a,data:d,Bf:!1,ed:!1,error:null,Gb:c});this.IQ[a]={sa:a,data:null,Gb:c}}});b.o.V.wN=f;b.o.V.BZ=c})(window);
(function(b){function f(c){e.apply(this,arguments);this.db=c}var e=b.o.V.qf;f.prototype=new e;f.prototype=_(f.prototype).extend({request:function(c){var a=this;_(c).each(function(d){a.db.get(d,function(c,b,e){return c?a.trigger("partReady",{sa:d,error:c}):a.trigger("partReady",{sa:d,data:b,Bf:!1,ed:!1,error:null,Gb:e})})})},Ko:function(c){c()}});b.o.V.Zp=f})(window);
(function(b){function f(a,d,b,e){c.apply(this,arguments)}function e(a,d){this.url=a;this.range=d;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Ob.xj}var c=b.o.V.tj;e.prototype=b.o.V.Fx.prototype.extend(e);f.prototype={gs:e,Rq:function(a,d){return a+"/bytes="+d.start+","+(d.stop?d.stop:"")}};f.prototype=$.extend(new c,f.prototype);b.o.V.sM=
f;b.o.V.fZ=e})(window);
(function(b){b.o.qD=function(b,e,c){function a(a,c){function b(a){f().then(function(d){v&&!w?setTimeout(function(){b(a)},1):d.send(JSON.stringify(a))})}function e(a,d,c){var g=createPromiseCapability(),f=!1,h=g;p=a;u=d;r=c;l=null;try{var k=new WebSocket(A?q+"/"+A:q+"/ws");k.onopen=function(){g.resolve();f=!0;g=null;v=!1;n.resolve(k);u&&u()};k.onerror=function(a){v=w=!0;g&&g.reject(a);l&&l.reject()};k.onclose=function(){n=createPromiseCapability();v=!0;l||(l=createPromiseCapability());l.resolve();
r&&r();p&&f&&p({t:"health",data:{unhealthy:!0}})};k.onmessage=function(a){a&&a.data&&(a=JSON.parse(a.data),a.hb?b({hb:!0}):a.end?close():p(a))}}catch(G){g.reject(G),g=null}return h.promise}function f(){v&&p&&e(p);return n.promise}var n=createPromiseCapability(),l=null,q=function(a){var d=a.indexOf("://"),c="ws://";0>d?d=0:(5===d&&(c="wss://"),d+=3);var b=a.lastIndexOf("/");0>b&&(b=a.length);return c+a.slice(d,b)}(a),p=null,u=null,r=null,v=!1,w=!1,A=c;return{send:b,RC:e,Vz:function(){return l?l.promise:
f().then(function(a){l=createPromiseCapability();p=null;a.close();return l.promise})}}}return window.WebSocket&&!c?a(b,e):function(a,c){function b(a){(u?u.promise:Promise.resolve(p)).then(function(d){var c=new XMLHttpRequest;d=q?l+"/"+q+"pf?id="+d:l+"/pf?id="+d;var b=new FormData;b.append("data",JSON.stringify(a));c.open("POST",d);c.withCredentials=!0;c.send(b)})}function e(){p=0;u||(u=createPromiseCapability())}function f(){n=new XMLHttpRequest;var a=l+"/pf",a=0!==p?a+("?id="+p+"&uc="+A):a+("?uc="+
A);A++;n.open("GET",a,!0);n.withCredentials=!0;n.setRequestHeader("Cache-Control","no-cache");n.setRequestHeader("X-Requested-With","XMLHttpRequest");var d=n,c=!1;n.onreadystatechange=function(){a:{var a;if(3<=d.readyState&&!c){try{a=d.responseText.length}catch(g){console.log("caught exception");break a}if(0<a)try{var n=d.responseText.split("\n");for(n[n.length-1]&&n.pop();0<n.length&&3>n[n.length-1].length;)"]"===n.pop()&&e();0<n.length&&3>n[0].length&&n.shift();for(a=0;a<n.length;++a)n[a].endsWith(",")&&
(n[a]=n[a].substr(0,n[a].length-1));0===p&&0<n.length&&(p=JSON.parse(n.shift()).id,a=u,u=null,a.resolve(p));var l;for(a=0;a<n.length;++a)(l=JSON.parse(n[a]))&&l.end?close():l&&l.hb&&l.id===p?b({hb:!0}):w(l)}catch(g){}r||(c=!0,f())}}};n.send()}var n,l=function(a){var d=a.lastIndexOf("/");0>d&&(d=a.length);return a.slice(0,d)}(a),q=c,p=0,u=createPromiseCapability(),r=!1,v=null,w=null,A=0;return{send:b,RC:function(a,d,c){w=a;v=c;r=!1;e();f();d&&d();return Promise.resolve()},Vz:function(){e();w=null;
r=!0;v&&v();n.abort();return Promise.resolve()}}}(b,e)}})(window);
(function(b){function f(a,d,f){d.endsWith("/")||(d+="/");f=f||{};var k=f.disableWebsockets||!1;d.endsWith("blackbox/")||(d+="blackbox/");this.Mk=f.uploadData||null;this.Fs=f.uriData||null;this.bG=f.cacheKey||null;this.yz=b.o.qD(d,null,k);this.LL=null;this.Me=d;this.Oz=a;this.qe=null;this.xm=e();this.ck=e();this.xz=!1;this.Xe=this.ad=this.ud=this.ae=null;this.xe=[];this.jv=[];this.cache={};this.BK=null;this.Rw=[];this.timeStamp=0;this.Je=[];this.Pf=[];this.aA=null;this.Bz=!1;this.zC=this.id=null;this.zB=
this.LI=c;this.qs=0;this.dB=!1;this.fV=1;this.bw={};this.ws(!0)}function e(){var a={promise:null,resolve:null,reject:null,state:0,result:null,request:null,Kr:function(){return 1===(a.state&1)},nU:function(){return 2===(a.state&2)},vg:function(){return!a.nU()&&!a.Kr()},gU:function(){return 4===(a.state&4)},YK:function(){a.state|=4}};a.promise=new Promise(function(d,c){a.resolve=function(){if(0===a.state||4===a.state)a.state=1,a.result=arguments[0],d.apply(null,arguments)};a.reject=function(){if(0===
a.state||4===a.state)a.state=2,c.apply(null,arguments)}});return a}function c(){return!1}function a(a,c,b){if(!(c in d))return!0;c=d[c];for(var e=0;e<c.length;e++){var f;var l=a;f=c[e];var q=b;if(f.name in l){var p="",u=!1,l=l[f.name];switch(f.type){case "s":p="String";u=_.isString(l);break;case "a":p="Array";u=_.isArray(l);break;case "n":p="Number";u=_.isNumber(l)&&_.isFinite(l);break;case "o":p="Object",u=_.isObject(l)&&!_.isArray(l)}u||q.reject('Expected response field "'+f.name+'" to have type '+
p);f=u}else q.reject('Response missing field "'+f.name+'"'),f=!1;if(!f)return!1}return!0}var d={pages:[{name:"pages",type:"a"}],pdf:[{name:"url",type:"s"}],docmod:[{name:"url",type:"s"},{name:"rID",type:"s"}],health:[],tiles:[{name:"z",type:"n"},{name:"rID",type:"n"},{name:"tiles",type:"a"},{name:"size",type:"n"}],annots:[{name:"url",type:"s"},{name:"name",type:"s"}],image:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",type:"n"}],text:[{name:"url",type:"s"},{name:"name",type:"s"},{name:"p",
type:"n"}]};f.prototype=_(f.prototype).extend({DQ:function(){var a=this;return new Promise(function(d,c){var b=new XMLHttpRequest;b.open("GET",a.Me+"ck");b.withCredentials=a.Co();b.onreadystatechange=function(){b.readyState===XMLHttpRequest.DONE&&(200===b.status?d():c())};b.send()})},aX:function(a,d){this.LI=a||c;this.zB=d||c},pG:function(){var a=this;a.ck=e();a.xm=e();return this.yz.Vz().then(function(){a.xz=!1;a.id=null;a.Bz=!1;return a.DQ()})},DK:function(){this.LI();this.kB();this.ae&&(this.ae.vg()?
this.Le(this.ae.request):this.ae.Kr()&&this.zB(this.ae.result.url,"pdf")&&(this.ae=null,this.CK()));this.Xe&&this.Xe.vg()&&this.Le(this.Xe.request);this.ud&&this.ud.vg()?this.Le(this.ud.request):this.ad&&this.ad.vg()&&this.EI(this.ad.request);var a;for(a=0;a<this.Je.length;a++)this.Je[a]&&this.Je[a]&&(this.Je[a].vg()?this.Le(this.Je[a].request):this.Je[a].Kr()&&this.zB(this.Je[a].result.url,"image")&&(this.Je[a]=null,this.Qw(a)));for(a=0;a<this.Pf.length;a++)this.Pf[a]&&this.Pf[a]&&this.Pf[a].vg()&&
!this.Pf[a].gU()&&this.Le(this.Pf[a].request);for(a=0;a<this.xe.length;a++)this.xe[a]&&this.xe[a].vg()&&this.Le(this.xe[a].request)},kB:function(){var a=this;this.xz||(a.timeStamp=Date.now(),a.yz.RC(function(d){a.nV(d)}).then(function(){},function(d){console.log("Connection Failed: "+d);a.Bz=!0;a.qs=0;a.zC=0;a.ck.resolve({unhealthy:!0,id:0,serverID:"0",hasPDF:!0,hasXOD:!1});a.xm.resolve()}),a.xz=!0)},HY:function(){var a,d,c,e,f=this,l=createPromiseCapability(),q=!1,p=!1;if(this.Mk)a=new FormData,
a.append("file",this.Mk.fileHandle,this.Mk.fileHandle.name),d=this.Mk.loadCallback,e="upload",c=this.Mk.extension;else if(this.Fs)a={uri:this.Fs.uri,share:this.Fs.shareId},q=!0,p=void 0,d=this.Fs.loadCallback,e="url",c=this.Fs.extension;else return Promise.resolve();$.ajax({type:"POST",url:b.joinPaths(f.Me,"AuxUpload?ext="+c+"&type="+e),contentType:p,xhrFields:{withCredentials:this.Co()},data:a,processData:q,dataType:"json",success:function(a){f.Oz=a.uri;d(a);l.resolve(a)},error:function(a){console.log(a);
l.reject(a)},xhr:function(){var a=$.ajaxSettings.xhr();f.Mk&&null!=f.Mk.onProgress&&(a.upload.onprogress=function(a){f.Mk.onProgress(a)});return a}});return l.promise},Dm:function(a){this.aA=a||null;this.xm.Kr()||(this.kB(),this.Le({t:"pages"}));return this.xm.promise},sG:function(a){a=$.extend(a,{uri:encodeURIComponent(this.Oz)});this.aA&&(a.ext=this.aA);this.qe&&(a.c=this.qe);this.bG&&(a.cacheKey=this.bG);return a},Le:function(a){a=this.sG(a);this.yz.send(a)},si:function(a){return a},nV:function(d){var c=
this,b,f=d.data,n=d.err,l=d.t;switch(l){case "upload":n?c.IY.reject(n):c.IY.resolve("Success");break;case "pages":n?c.xm.reject(n):a(f,l,c.xm)&&c.xm.resolve(f);break;case "config":n?c.ck.reject(n):a(f,l,c.ck)&&(f.id&&(c.id=f.id),f.sCookieName&&(c.LL=f.sCookieName),f.serverID?(c.qs=f.serverID===c.zC&&c.dB?c.qs+1:0,c.zC=f.serverID):c.qs=0,c.dB=!1,c.ck.resolve(f));break;case "health":n?c.ck.reject(n):a(f,l,c.ck)&&!c.N_&&f.unhealthy&&c.LL&&1>=c.qs&&(c.dB=!0,c.pG().then(function(){c.DK()},function(){c.DK()}));
break;case "pdf":f.url=c.Me+"../"+encodeURI(f.url);n?c.ae.reject(n):a(f,l,c.ae)&&c.ae.resolve(f);break;case "docmod":f.url=c.Me+"../"+encodeURI(f.url);n?c.bw[f.rID].reject(n):a(f,l,c.ae)&&c.bw[f.rID].resolve(f);break;case "xod":if(n)this.ud&&this.ud.vg()&&this.ud.reject(n),this.ad&&this.ad.vg()&&this.ad.reject(n);else if(f.notFound)f.noCreate||this.ud&&this.ud.vg()&&this.ud.resolve(f),this.ad&&this.ad.vg()&&this.ad.resolve(f);else{f.url&&(f.url=c.Me+"../"+encodeURI(f.url));if(!this.ad||this.ad.Kr())this.ad=
e(),this.ad.request={t:"xod",noCreate:!0};this.ud||(this.ud=e(),this.ud.request={t:"xod"});this.ad.resolve(f);this.ud.resolve(f)}break;case "annots":n?c.Xe.reject(n):a(f,l,c.Xe)&&(c.Xe.YK(),$.ajax({dataType:"text",url:c.Me+"../"+encodeURI(f.url),xhrFields:{withCredentials:this.Co()},success:function(a){c.Xe.resolve(a)},error:function(a,d,b){c.Xe.reject(d+(b?": "+JSON.stringify(b):""))}}));break;case "image":b=this.Je[f.p];n?b.promise.reject(n):a(f,l,b)&&(b.result=f,b.result.url=c.Me+"../"+encodeURI(b.result.url),
b.resolve(b.result));break;case "tiles":b=f.rID;d=this.xe[b];this.xe[b]=null;this.jv.push(b);if(n)d.reject(n);else if(a(f,l,d)){for(n=0;n<f.tiles.length;n++)f.tiles[n]=c.Me+"../"+encodeURI(f.tiles[n]);d.resolve(f)}break;case "text":b=this.Pf[f.p];n?b.reject(n):a(f,l,b)&&(b.YK(),$.ajax({dataType:"json",xhrFields:{withCredentials:this.Co()},url:c.Me+"../"+encodeURI(f.url),success:function(a){b.result=a;b.resolve(b.result)},error:function(a,d,c){b.reject(d+(c?": "+JSON.stringify(c):""))}}));break;case "progress":"loading"===
f.t&&c.trigger("documentLoadingProgress",[f.bytes,f.total])}},MH:function(){this.kB();return this.ck.promise},KR:function(){this.Xe||(this.Xe=e(),this.Xe.request={t:"annots"},this.Le(this.Xe.request));return this.Xe.promise},Qw:function(a){this.Je[a]||(this.Je[a]=e(),this.Je[a].request={t:"image",p:a},this.Le(this.Je[a].request));return this.Je[a].promise},dW:function(a){this.Pf[a]||(this.Pf[a]=e(),this.Pf[a].request={t:"text",p:a},this.Le(this.Pf[a].request));return this.Pf[a].promise},eW:function(a,
d,c,b){var f=this.xe.length;this.jv.length&&(f=this.jv.pop());this.xe[f]=e();this.xe[f].request={t:"tiles",p:a,z:d,r:c,size:b,rID:f};this.Le(this.xe[f].request);return this.xe[f].promise},CK:function(){this.ae||(this.ae=e(),this.ae.request={t:"pdf"},this.Bz?this.ae.resolve({url:this.Oz}):this.Le(this.ae.request));return this.ae.promise},bI:function(a){var d=new XMLHttpRequest,c=this.Me+"aul?id="+this.id,b=new FormData,f={};a.annots&&(f.annots="xfdf");a.watermark&&(f.watermark="png");a.redactions&&
(f.redactions="redact");f={t:"docmod",reqID:this.fV++,parts:f};a.print&&(f.print=!0);f=this.sG(f);b.append("msg",JSON.stringify(f));a.annots&&b.append("annots",a.annots);a.watermark&&b.append("watermark",a.watermark);a.redactions&&b.append("redactions",a.redactions);this.bw[f.reqID]=e();d.open("POST",c);d.withCredentials=this.Co;d.send(b);return this.bw[f.reqID].promise},EI:function(){this.ad||(this.ad=e(),this.ad.request={t:"xod",noCreate:!0},this.Le(this.ad.request));return this.ad.promise},fW:function(){this.ud||
(this.ud=e(),this.ud.request={t:"xod"},this.Le(this.ud.request));return this.ud.promise},ij:function(){return!0},request:function(){},Jw:function(){},abort:function(){for(var a=0;a<this.xe.length;a++)this.xe[a]&&(this.xe[a].resolve(null),this.xe[a]=null,this.jv.push(a));this.close()},hp:function(a){this.qe=this.qe||{};this.qe.headers=a},WR:function(){return this.qe?_.omit(this.qe.headers,["Cookie","cookie"]):null},ws:function(a){this.qe=this.qe||{};this.qe.internal=this.qe.internal||{};this.qe.internal.withCredentials=
a},Co:function(){return this.qe&&this.qe.internal?this.qe.internal.withCredentials:null},getFileData:function(){return Promise.reject()}},b.utils.eventHandler);b.o.V.Ps=f})(window);
(function(b){function f(a,d,b,e){c.apply(this,arguments)}function e(a,d){this.url=a;this.range=d;this.status=this.Ob.xj}var c=b.o.V.tj,a=b.o.V.Fx,d={};e.prototype={start:function(a){var c=this;d[this.range.start]={success:function(d){var e=atob(d),f,h=e.length;d=new Uint8Array(h);for(f=0;f<h;++f)d[f]=e.charCodeAt(f);e=d.length;f="";var p=0;if(b.utils.typedArrayApply)for(;p<e;)h=d.subarray(p,p+1024),p+=1024,f+=String.fromCharCode.apply(null,h);else for(h=Array(1024);p<e;){for(var u=0,r=Math.min(p+
1024,e);p<r;u++,p++)h[u]=d[p];f+=String.fromCharCode.apply(null,1024>u?h.slice(0,u):h)}c.success(f,a)},fail:function(){c.status=c.Ob.ERROR;a({code:c.status})}};var e=document.createElement("IFRAME");e.setAttribute("src",this.url);document.documentElement.appendChild(e);e.parentNode.removeChild(e);e=null;this.status=this.Ob.dl;c.xv()}};e.prototype=a.prototype.extend(e);f.prototype={gs:e,Rq:function(a,d){return a+"#"+d.start+"&"+(d.stop?d.stop:"")}};f.prototype=$.extend(new c,f.prototype);b.o.V.Np=
f;b.o.V.pZ=e;b.o.V.Np.aC=function(a,c){var b=d[c];delete d[c];b.success(a)};b.o.V.Np.$B=function(a,c){var b=d[c];delete d[c];b.fail()}})(window);
(function(b){function f(a,d,b,e){c.apply(this,arguments)}function e(a,d){this.url=a;this.range=d;this.status=this.Ob.xj}var c=b.o.V.tj,a=b.o.V.Fx,d={};e.prototype={start:function(a){function c(){e.status=e.Ob.ERROR;a({code:e.status})}function b(d){var c=atob(d),m,f=c.length;d=new Uint8Array(f);for(m=0;m<f;++m)d[m]=c.charCodeAt(m);c=d.length;m="";for(var h=0;h<c;)f=d.subarray(h,h+1024),h+=1024,m+=String.fromCharCode.apply(null,f);e.success(m,a)}var e=this;"undefined"===typeof d[this.range.start]&&
(d[this.range.start]={success:b,fail:c},window.external.notify(this.url),this.status=this.Ob.dl);e.xv()}};e.prototype=a.prototype.extend(e);f.prototype={gs:e,Rq:function(a,d){return a+"?"+d.start+"&"+(d.stop?d.stop:"")}};f.prototype=$.extend(new c,f.prototype);b.o.V.$p=f;b.o.V.IZ=e;b.o.V.$p.aC=function(a,c){var b=d[c];delete d[c];b.success(a)};b.o.V.$p.$B=function(a,c){var b=d[c];delete d[c];b.fail()}})(window);
(function(b){function f(){e.apply(this,arguments)}var e=b.o.V.tj;f.prototype=$.extend(new e,{SH:function(){return{start:this.nH-b.o.V.Gj.prototype.Zm,stop:this.nH}},Ko:function(c){var a=this;this.Ti(this.url,{start:0,stop:1},function(d,b,m){if(d)return c(d);d=m.request.getResponseHeader("Content-Range");a.nH=d.split("/")[1];e.prototype.Ko.call(a,c)})}});b.o.V.xM=f})(window);
(function(b){function f(a,d,g,e){this.be=a;this.qw=!1;this.cache=new c(b.Hx,a.ij());a.decrypt&&a.ij()&&(this.Tl=new c(b.Hx,a.ij()));this.J=d;this.la=e;this.Yi={};this.As={};this.Cu={};this.Pu={};this.kv=[];this.Xl={};this.Ke=g;this.uw=_.bind(this.uw,this);a.bind("partReady",this.uw)}function e(a){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;
window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&(window._IDBTransaction.READ_WRITE="readwrite");this.name=a;this.db=null;this.HG="1";this.Wu=this.ed=!1}function c(a,d){this.WU=this.ls=a;this.queue=[];this.BR=d}function a(a,d){this.Of=a;this.YJ=d;this.Fe={};this.Eh={};this.ed=!1;for(var c=0;c<d.length;c++)this.Eh[d[c]]=!0}function d(){this.index=0;this.data={functions:[],Fe:[],done:!1};this.sc=[]}function g(a){this.data=a;this.sc=[];this.Wf=[]}function m(a,d){this.Of=a;this.Ua={};this.pb=
null;this.Ka=d}var h=b.o.V.Px;b.dA=!1;b.o.GA=function(a,d){if(b.utils.hasObjectURL){"string"===typeof d&&(d=b.xI(d));var c;try{c=new Blob([d],{type:a})}catch(g){window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.wZ||window.vZ,window.BlobBuilder&&(c=new window.BlobBuilder,c.append(d),c=c.getBlob(a))}if(c)return URL.createObjectURL(c)}else return"data:"+a+";base64,"+btoa(d)};b.o.DA=function(a,d){return b.o.GA("image/"+("jpg"===a?"jpeg":a),d)};g.prototype={init:function(a){if(this.data){var d=
this;b.rT(this.data,this.la,function(c){d.worker=c;d.Ls();d.Z0=[];d.tx=!1;d.data=null;a()},function(a,c){a?d.Wf.push(a):d.tx=!0;d.G_=c;var b=d.callback;d.callback=null;b&&b()})}else a()},cancel:function(){for(var a=0;a<this.sc.length;a++){for(var d=0;d<this.sc[a].saves;d++)this.sc[a].restore();this.sc[a].saves=0}this.sc=[];this.worker&&this.worker.cancel()},clone:function(){return new g(this.data)},run:function(a,d,c){if(this.Wf.length){-1===this.sc.indexOf(a)&&this.sc.push(a);c=Date.now()+c;do this.Ls(),
runEval(this.Wf.shift(),a,d);while(this.Wf.length&&c>Date.now());return!1}return!0},Po:function(){var a=this;this.worker||this.init(function(){a.Ls()});return new Promise(function(d){a.tx||a.Wf.length?d():a.callback=d})},Ls:function(){if(this.tx)return!1;this.worker.kw()},zz:function(a){return new Function("c","t",a)},gA:function(a){var d=this;this.init(function(){function c(){if(d.Wf.length){d.Ls();var b=d.Wf.map(function(a){return d.zz(a)});d.Wf=[];a(b)}else a()}d.tx||d.Wf.length?c():d.callback=
c})}};d.prototype={clone:function(){var a=new d;a.data=this.data;a.index=0;return a},cancel:function(){for(var a=0;a<this.sc.length;a++){for(var d=0;d<this.sc[a].saves;d++)this.sc[a].restore();this.sc[a].saves=0}this.sc=[];this.lv&&this.lv.cancel()},wG:function(a){return new g(a)},gA:function(a,d){function c(){g.lv.gA(function(a){a?(g.data.functions=g.data.functions.concat(a),b.setImmediate(c,0)):(g.data.done=!0,g.lv=null,d());a=g.data.Fe.length;if(0<a){for(var e=0;e<a;++e)g.data.Fe[e]();g.data.Fe=
[]}})}this.data.done=!1;var g=this;this.lv=this.wG(a);g.data.functions=[];c();this.index=0},Po:function(){var a=this;return new Promise(function(d){a.data.done||a.index<a.data.functions.length?d():a.data.Fe.push(d)})},run:function(a,d,c){-1===this.sc.indexOf(a)&&this.sc.push(a);if(this.index<this.data.functions.length){c=Date.now()+c;var b=this.data.functions[this.index];do++this.index,b(a,d),b=this.data.functions[this.index];while(b&&c>Date.now());return!1}return!0},rW:g.prototype.rW};a.prototype=
{eU:function(){return 0===_(this.Eh).keys().length}};c.prototype={getItem:function(a){return this[a]||null},setItem:function(a,d,c){if(a in this)this.queue.splice(this.queue.indexOf(a),1),this.queue.push(a);else if(this.BR)this[a]={data:d,Gb:c},this.queue.push(a);else if(d.length<this.WU/2){for(;this.ls<d.length;){var b=this.queue[0];this.ls+=this[b].data.length;delete this[b];this.queue.shift()}this.ls-=d.length;this[a]={data:d,Gb:c};this.queue.push(a)}}};e.prototype={open:function(a,d){var c=this,
b=window._indexedDB.open(c.name);if(_.isUndefined(b))d("User declined to increase space");else{b.onsuccess=function(){c.db=b.result;if(c.db.setVersion&&c.db.version!==c.HG){var a=c.db.setVersion(c.HG);a.onsuccess=function(){c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"});a.result.oncomplete=g}}else g()};b.onupgradeneeded=function(a){c.db=a.target.result;c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);
c.db.createObjectStore(c.name,{keyPath:"partName"})};b.onerror=function(){d("Error opening database for offline mode")};var g=function(){c.get("NumParts",function(b,g){if(b)c.Wu=!1,a();else{var e=c.db.transaction([c.name]).objectStore(c.name).count();e.onsuccess=function(){c.Wu=e.result===g;a()};e.onerror=function(){d("Error opening database for offline mode")}}})}}},HL:function(a,d,c,b){var g=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);g.oncomplete=function(){b&&b()};g.onerror=
function(){b&&b();throw Error("Error adding "+a+" to the offline database");};g.objectStore(this.name).put({partName:a,partData:d,compressed:c})},dY:function(a,d,c,b,g,e){function m(e){a.If(e,function(a){var c=d.indexOf(a.sa);-1<c&&delete d[c];f()||h.HL(a.sa,a.data,a.Gb,function(){f()||(A++,g(A/B),A===B&&(h.Wu=!0,b()))})},!0,c)}function f(){h.ed&&!z&&(z=!0,e(d),b());return z}var h=this;h.ed=!1;b=b||function(){};g=g||function(){};e=e||function(){};var A=0,B=d.length,z=!1;h.HL("NumParts",B+1,!1,function(){for(var a=
0;a<B;a++)m(d[a])})},MP:function(){this.ed=!0},get:function(a,d){var c=this.db.transaction([this.name]).objectStore(this.name).get(a);c.onsuccess=function(){c.result?d(!1,c.result.partData,c.result.compressed):d("Part "+a+" not found in the offline database")};c.onerror=function(){d("Error getting "+a+" from offline database")}},qk:function(){return this.Wu}};f.prototype={If:function(a,d,c,g){function e(a){a=$.extend({},a);h.Tl&&g&&(a.data=h.Tl.getItem(a.sa).data);d(a)}var m=this.cache.getItem(a);
if(!g&&null!==m){var f=m.Gb;m.Gb&&!c?(c=b.o.V.Gj.inflate(m.data),f=!1):c=m.data;d({sa:a,data:c,Bf:!0,ed:!1,error:null,Gb:f});return d}if(this.Tl&&g&&(f=this.Tl.getItem(a)))return d({sa:a,data:f.data,Bf:!0,ed:!1,error:null,Gb:f.Gb}),d;var h=this;this.bind(a,e);this.Cu[a]=!0;this.Pu[a]=!c;this.be.request([a],g);return e},uw:function(a){if(a.error)console.error("Error reading part "+a.sa+": "+a.error),this.trigger(a.sa,{sa:a.sa,error:a.error}),this.unbind(a.sa);else{var d=this,c=function(c){var g=a.sa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();
"jpg"!==g&&"png"!==g&&(c=b.kk(c));a.GJ||(d.cache.setItem(a.sa,c,a.Gb),d.Tl&&d.Tl.setItem(a.sa,a.data,a.Gb));d.Cu[a.sa]&&((g=a.Gb)&&d.Pu[a.sa]&&(c=b.o.V.Gj.inflate(c),g=!1),delete d.Cu[a.sa],delete d.Pu[a.sa],d.trigger(a.sa,{sa:a.sa,data:c,Bf:!1,ed:!1,error:null,Gb:g}),d.unbind(a.sa),delete d._callbacks[a.sa])};this.be.decrypt&&!a.GJ?this.be.EG?c(this.be.decrypt(a.data,this.be.Nl,a.sa)):this.be.decrypt(a.data,this.be.Nl,a.sa,c):c(a.data)}},YA:function(a){return this.vB?"Thumbs/"+(a+1)+".jpg":"Thumbs/"+
(a+1)+".png"},XA:function(a,d,c){var b=this,g=!1,e=this.If(this.YA(a),function(a){g=a.Bf;b.xK(d);c(a)});g||(this.As[d]={OP:e,Jb:a})},hI:function(a,d){var c=this,g=this.J[a].ps[0];if(a in c.Xl)d(c.Xl[a].clone());else return c.If(g,function(g){if(g.error)return console.error("Failed to load part for page "+a+": "+g.error);c.CR(g.data,function(g){if(b.$m){if(c.kv.length>=b.$m){var e=c.kv.shift();delete c.Xl[e]}c.kv.push(a);c.Xl[a]=g}d(g.clone())})},!0)},LA:function(d,c,g){function e(a){if(a.error)return console.error("Failed to load part for page "+
d+": "+a.error);delete z.Eh[A];v.Wj&&0!==v.Bq.length||(v.Bq=h.vV(a.sa,a.data).map(function(a){a.PageNumber=d+1;return a}));f()}function f(){if(z.eU()){if(null===F.pb)throw Error("Functions have not been generated yet");z.ed||y||(delete h.Yi[d],h.trigger(d,!1,F),g(!1,F),y=!0,h.unbind(d+""),h._callbacks&&delete h._callbacks[d+""])}}var h=this;this.Yi[d]=this.Yi[d]||{$o:{}};var r=0<Object.keys(this.Yi[d].$o).length;this.Yi[d].$o[c]=null;if(r)return b.utils.warn("Duplicate request for page "+d),r=function(a,
d){var c=$.extend({},d);c.pb=d.pb.clone();c.Ua=$.extend(!0,{},c.Ua);g(a,c)},this.Yi[d].$o[c]=r,this.bind(d,r);var v=h.J[d],w=v.ps[2],A=v.ps[1],B=v.ps[0],z;z=this.qw?new a(d,[B,A,w]):new a(d,[B,w]);this.Yi[d].request=z;var x=z.Fe,y=!1,F=new m(d,h);x[w]=h.If(w,function(a){if(a.error)return console.error("Failed to load part for page "+d+": "+a.error);a=h.zV(a.sa,a.data);delete z.Eh[w];_(a).each(function(a){z.Eh[a.slice(1)]=!0});_(a).each(function(a){a=a.slice(1);var c=-1!==a.indexOf(".odttf")||-1!==
a.indexOf(".otf"),g=-1!==a.indexOf(".png")||-1!==a.indexOf(".jpg");b.dA&&c?(delete z.Eh[a],F.Ua[a]=h.si(a)):c&&!h.Ke.Tv(h.si(a).name)?(z.YJ.push(a),x[a]=h.If(a,function(c){if(c.error)return console.error("Failed to load part for page "+d+": "+c.error);delete z.Eh[a];F.Ua[a]=h.si(c.sa,c.data);f()})):g&&b.dA?(delete z.Eh[a],setTimeout(function(){h.If(a,function(a){a=h.si(a.sa,a.data);var c=new Image;c.src=a.data;$(c).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+
d)})},0)):(delete z.Eh[a],F.Ua[a]=h.si(a),f())});f()});this.qw&&(x[A]=h.If(A,e));x[B]=this.hI(d,function(a){F.pb=a;delete z.Eh[B];f()})},Mb:function(){var a=this;Object.keys(this.Xl).forEach(function(d){a.Xl[d].cancel()})},CR:function(a,d){if(b.$m){var c=new b.o.wM(this.la);c.gA(a,function(){});d(c)}else d(new b.o.vM(this.la,a))},Jq:function(a,d){var c=this.Yi[a];if(c){this.be.lz(c.request.YJ);var b=c.$o[d];b&&this.unbind(a+"",b);delete c.$o[d];if(0===Object.keys(c.$o).length){c.ed=!0;var c=c.Fe,
g;for(g in c)c.hasOwnProperty(g)&&this.unbind(g,c[g]);delete this._callbacks[a+""];delete this.Yi[a]}}},NP:function(a){var d=this.As[a];d&&(this.be.lz([this.YA(d.Jb)]),this.xK(a))},xK:function(a){var d=this.As[a];d&&(this.unbind(this.YA(d.Jb),d.OP),delete this.As[a])},si:function(a,d){var c,g=a,e=a.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(e){case "png":case "jpg":a="i"+this.la+"-"+a.match(/Images\/(\d+)/)[1];if(d){c=h&&this.be instanceof h?this.be.path+d:b.o.DA(e,d);break}break;case "odttf":var m;
d&&(m=this.EQ(a,d));a=b.kf.yA(this.la,parseInt(a.substr(34,8),16));d&&(c=new b.kf.FontFace(a,m,"opentype"),this.Ke.qB(a)||c.insert());e="font";break;case "otf":a=a.substr(0,a.length-4);a=b.kf.yA(this.la,parseInt(a.substr(6),10));if(d){if(h&&this.be instanceof h)e=this.be.path;else throw Error("Use an external part retriever for documents with external fonts");c=new b.kf.FontFace(a,null,"opentype",e+d);this.Ke.qB(a)||c.insert()}e="font";break;default:c=d}return{name:a,type:e,data:c,sa:g}},zV:function(a,
d){var c=[],g=new b.Ve(d);for(g.oa();g.advance();){var e=g.K("Target");null!==e?c.push(e):b.utils.warn("Corrupt rels part: %s",a)}0<c.length&&_(c).last().match(/Thumbs/)&&c.pop();return c},vV:function(a,d){var c=[],g=new b.Ve(d);for(g.oa();g.advance();){for(var e=g.va(),m=g.K("BBox"),m=m.split(","),f=0;4>f;++f)m[f]=parseFloat(m[f]);"Hyperlink"===e?c.push(new b.Annotations.zd({actions:{U:[{name:"URI",uri:g.K("Target")}]},rect:m})):"Link"===e&&c.push(new b.Annotations.zd({actions:{U:[{name:"GoTo",dest:{page:g.K("ID"),
fit:"XYZ",top:g.K("Vpos"),left:g.K("Hpos")}}]},rect:m}))}return c},EQ:function(a,d){a=a.split("/")[1].split(".")[0];for(var c=a.split("-"),b=[],g=16,e=0;e<c.length;++e)for(var m=c[e],f=0;f<m.length;f+=2)b[--g]=parseInt(m.slice(f,f+2),16);for(c=0;16>c;++c)g=b[c],b[c]=String.fromCharCode(d.charCodeAt(c)^g),b[c+16]=String.fromCharCode(d.charCodeAt(c+16)^g);return d=b.join("")+d.slice(32)}};_(f.prototype).extend(Backbone.Events);b.o.V.eN=f;b.o.iN=e;b.o.GM=g;b.o.HM=d})(window);
(function(b){function f(a){this.index=0;this.data={functions:[],Fe:[],done:!1};this.sc=[];this.br=new c(a);this.la=a}function e(a,d){this.data=d;this.sc=[];this.Wf=[];this.br=new c(a);this.la=a}function c(a){this.la=a;this.Ui=0;this.Ua=[];this.Vi=[0,0]}c.prototype={ap:function(a,d,c){this.m_c=d;this.Hc=c;d=a.operators;a=a.data;var e=d.length;this.VC=b.asc(c);this.iY=1/this.VC;for(var f=0;f<e;++f)c=d[f],this[c].apply(this,a[f]);this.aw=null},save:function(){this.m_c.save()},restore:function(){this.m_c.restore()},
transform:function(a,d,c,b,e,f){this.m_c.transform(a,d,c,b,e,f)},translate:function(a,d){this.m_c.translate(a,d)},$W:function(a,d){this.m_c.lineWidth=Math.max(a,d?this.iY/d:a)},YW:function(a){this.m_c.lineCap=a},FH:function(a){var d=a.type;if(d)switch(d){case 1:a=this.createPattern(a);break;case 2:a=this.createLinearGradient(a);break;case 3:a=this.createRadialGradient(a);break;case 4:a=this.lQ(a)}return a},GX:function(a){this.m_c.strokeStyle=this.FH(a)},SW:function(a){this.m_c.fillStyle=this.FH(a)},
lW:function(a){var d=this.XS(a);a=d.RU;for(var d=d.QU,c,b=a.length,e=0;e<b;++e)c=a[e],this[c].apply(this,d[e])},TW:function(a){this.m_c.globalAlpha=a},xG:function(a,d){for(var c=d.length,b=0;b<c;++b){var e=d[b],f=d[++b];a.addColorStop(e,f)}},oQ:function(a){var d=this.m_c,c=this.Hc,b=a.operators,e=this.VC*a.scale,f=a.w*e,n=a.h*e;2>e*a.minwh&&(e=2/a.minwh,f=a.w*e,n=a.h*e);var l=this.m_c.createCanvas();l.width=f;l.height=n;var f=l.getContext("2d"),n=a.x||a.y,q={};n&&(q.x=a.x,q.y=a.y);q.s=1/e;f.scale(e,
e);n&&f.translate(-a.x,-a.y);a.strokeAdjust&&(this.m_c.lineWidth=e*a.strokeAdjust);this.ap(b,f,this.Hc);this.m_c=d;this.Hc=c;return{canvas:l,transform:q}},createPattern:function(a){var d;this.aw&&a===this.aw.style?d=this.aw:(d=this.oQ(a),d.style=a,d.pattern=this.m_c.createPattern(d.canvas,a.tm),this.aw=d);a=d.transform;a.x&&this.m_c.translate(a.x,a.y);this.m_c.scale(a.s,a.s);return d.pattern},createLinearGradient:function(a){var d=this.m_c.createLinearGradient(a.x0,a.y0,a.x1,a.y1);this.xG(d,a.stops);
return d},createRadialGradient:function(a){var d=this.m_c.createRadialGradient(a.x0,a.y0,a.xd||0,a.x1,a.y1,a.r||0);this.xG(d,a.stops);return d},lQ:function(a){return this.m_c.createPattern(b.ci[a.name],a.tm)},gP:function(a){this.Ui+=a},KX:function(a){this.Ui=a},addColorStop:function(a,d){this.C0.addColorStop(a,d)},beginPath:function(){this.m_c.beginPath()},closePath:function(){this.m_c.closePath()},fill:function(a){a?this.m_c.fill(a):this.m_c.fill()},stroke:function(){this.m_c.stroke()},clip:function(a){a?
this.m_c.clip(a):this.m_c.clip()},moveTo:function(a,d){this.m_c.moveTo(a,d)},lineTo:function(a,d){this.m_c.lineTo(a,d)},quadraticCurveTo:function(a,d,c,b){this.m_c.quadraticCurveTo(a,d,c,b)},bezierCurveTo:function(a,d,c,b,e,f){this.m_c.bezierCurveTo(a,d,c,b,e,f)},font:function(a){var d=a;1!==window.utils.canvasFontMultiplier&&(d=parseFloat(a),d/=window.utils.canvasFontMultiplier,d=a.replace(/\d+/,d));this.m_c.font=d},fillText:function(a,d,c){this.m_c.fillText(a,this.Ui+d,c)},measureText:function(a){this.Ui+=
this.m_c.measureText(a).width},drawImage:function(a){window.ci[a]&&this.m_c.drawImage(window.ci[a],0,0)},XQ:function(a,d){for(var c=window.ci[a],e=Math.log(1/(this.VC*d))*b.o.bz,f=1,k=1;k<e;++k){var n=this.m_c.createCanvas();n.width=.5*c.width;n.height=.5*c.height;n.getContext("2d").drawImage(c,0,0,n.width,n.height);c=n;f*=2}this.m_c.scale(f,f);this.m_c.drawImage(c,0,0)},ZW:function(a){this.m_c.lineJoin=a},UW:function(a){this.m_c.globalCompositeOperation=a},fP:function(a,d,c){this.Ua.push({RU:d,QU:c,
name:a})},XS:function(a){var d=this.Ua.length-1;do{var c=this.Ua[d];if(c.name===a)return c}while(0<=--d)},ZV:function(){this.Ua.pop()},aW:function(a,d,c,e){var f=this.Hc.W({x:d.x1,y:d.y1}),k=f.x,f=f.y;d=this.Hc.W({x:d.x2,y:d.y2});var n=d.x,l=d.y;d=[];var q=this.Vi[0],p=this.Vi[1],u=q+this.m_c.canvas.width,r=p+this.m_c.canvas.height;k<n?(k<q&&(k=q),n>u&&(n=u),d[0]=Math.floor(k),d[2]=Math.ceil(n-k)):(n<q&&(n=q),k>u&&(k=u),d[2]=Math.ceil(k-n),d[0]=Math.floor(n));f<l?(f<p&&(f=p),l>r&&(l=r),d[1]=Math.floor(f),
d[3]=Math.ceil(l-f)):(l<p&&(l=p),f>r&&(f=r),d[3]=Math.ceil(f-l),d[1]=Math.floor(l));0<d[2]&&0<d[3]&&(k=this.m_c,f=this.m_c.createCanvas(),f.width=d[2],f.height=d[3],n=this.Vi,this.Vi=d,l=f.getContext("2d"),l.globalAlpha=k.globalAlpha,l.translate(-d[0],-d[1]),l.transform(this.Hc.m_a,this.Hc.m_b,this.Hc.m_c,this.Hc.m_d,this.Hc.m_h,this.Hc.m_v),l.transform.apply(l,a.mtx),this.ap(a,l,this.Hc),e&&(a=this.m_c.createCanvas(),a.width=d[2],a.height=d[3],l=a.getContext("2d"),l.beginPath(),l.moveTo(0,0),l.lineTo(d[2],
0),l.lineTo(d[2],d[3]),l.lineTo(0,d[3]),l.closePath(),l.translate(-d[0],-d[1]),l.transform(this.Hc.m_a,this.Hc.m_b,this.Hc.m_c,this.Hc.m_d,this.Hc.m_h,this.Hc.m_v),l.transform.apply(l,e.mtx),this.ap(e,l,this.Hc),l.globalCompositeOperation="source-in",l.setTransform(1,0,0,1,0,0),l.drawImage(f,0,0),f=a),this.Vi=n,"source-over"===c||b.utils.specialBlendSupported?(k.save(),k.globalCompositeOperation=c,k.setTransform(1,0,0,1,d[0]-this.Vi[0],d[1]-this.Vi[1]),k.drawImage(f,0,0),k.restore()):l.bO(k,c,{x:d[0]-
this.Vi[0],y:d[1]-this.Vi[1]}),this.m_c=k)},lY:function(a){this.m_c.tm(a)},miterLimit:function(a){this.m_c.miterLimit=a},uQ:function(){this.m_c.cgb()},vQ:function(){this.m_c.cge()},setTransform:function(a,d,c,b,e,f){this.m_c.setTransform(a,d,c,b,e,f)},scale:function(a,d){this.m_c.scale(a,d)},sR:function(a,d,c){this.m_c.xw(a+" ",this.Ui+d,c)},fillRect:function(a,d,c,b){this.m_c.fillRect(a,d,c,b)},tR:function(a,d,c){this.m_c.xcw(a+" ",this.Ui+d,c)},fillTextCustom:function(a,d,c){this.m_c.xc(a,this.Ui+
d,c)},wQ:function(a){this.m_c.setLineDash(a)},sQ:function(a){var d=a.trans,c=a.shift,b=a.size,e=a.clipping,f=a.id;this.m_c.save();this.m_c.translate(d[0],d[1]);this.m_c.rotate(a.rot);e&&this.m_c.cr(e[0],e[1],e[2],e[3]);f&&0<f.length?this.m_c.drawImage(window.ci[f],c[0],c[1],b[0],b[1]):(this.m_c.fillStyle="#CCCCCC",this.m_c.fillRect(c[0],c[1],b[0],b[1]));this.m_c.restore()},jV:function(a,d,c,b,e,f){var n=0,l,q,p;a||(a=String.fromCodePoint.apply(null,d));l=this.m_c.measureText(a).width;e/=l;this.m_c.save();
this.m_c.transform(e*b[0],e*b[1],e*b[2],e*b[3],b[4],b[5]);if(c)for(var u=0;u<c.length;u+=2){l=c[u];q=c[u+1];for(var r=0;r<q;r++)b=d?String.fromCodePoint.apply(null,d.slice(n,n+l)):a.slice(n,n+l),n+=l,p=this.m_c.measureText(b).width+f/e,this.m_c.fillText(b,0,0),this.m_c.transform(1,0,0,1,p,0)}else this.m_c.fillText(a,0,0);this.m_c.restore()}};c.prototype[0]=c.prototype.save;c.prototype[1]=c.prototype.restore;c.prototype[2]=c.prototype.transform;c.prototype[3]=c.prototype.translate;c.prototype[4]=c.prototype.$W;
c.prototype[5]=c.prototype.YW;c.prototype[6]=c.prototype.GX;c.prototype[7]=c.prototype.SW;c.prototype[8]=c.prototype.TW;c.prototype[9]=c.prototype.fP;c.prototype[10]=c.prototype.ZV;c.prototype[11]=c.prototype.gP;c.prototype[12]=c.prototype.lW;c.prototype[13]=c.prototype.beginPath;c.prototype[14]=c.prototype.closePath;c.prototype[15]=c.prototype.fill;c.prototype[16]=c.prototype.stroke;c.prototype[17]=c.prototype.clip;c.prototype[18]=c.prototype.moveTo;c.prototype[19]=c.prototype.lineTo;c.prototype[20]=
c.prototype.quadraticCurveTo;c.prototype[21]=c.prototype.bezierCurveTo;c.prototype[22]=c.prototype.font;c.prototype[23]=c.prototype.fillText;c.prototype[24]=c.prototype.measureText;c.prototype[25]=c.prototype.KX;c.prototype[26]=c.prototype.miterLimit;c.prototype[27]=c.prototype.ZW;c.prototype[28]=c.prototype.drawImage;c.prototype[29]=c.prototype.setTransform;c.prototype[30]=c.prototype.scale;c.prototype[31]=c.prototype.sR;c.prototype[32]=c.prototype.uQ;c.prototype[33]=c.prototype.vQ;c.prototype[34]=
c.prototype.UW;c.prototype[35]=c.prototype.lY;c.prototype[36]=c.prototype.aW;c.prototype[37]=c.prototype.fillRect;c.prototype[39]=c.prototype.tR;c.prototype[38]=c.prototype.fillTextCustom;c.prototype[41]=c.prototype.wQ;c.prototype[42]=c.prototype.sQ;c.prototype[43]=c.prototype.jV;e.prototype={clone:function(){return new e(this.la,this.data)},run:function(a,d){return this.Wf.length?(this.Ls(),-1===this.sc.indexOf(a)&&this.sc.push(a),this.m_c=a,this.Hc=d,this.br.ap(this.Wf.shift(),a,d),!1):this.cA=
!0},zz:function(a){return a}};e.prototype=$.extend(Object.create(b.o.GM.prototype),e.prototype);f.prototype={wG:function(a){return new e(this.la,a)},clone:function(){var a=new f(this.la);a.data=this.data;a.index=0;return a},run:function(a,d){var c=this.data.functions[this.index];this.index++;-1===this.sc.indexOf(a)&&this.sc.push(a);return c?(this.br.ap(c,a,d),!1):!0}};f.prototype=$.extend(Object.create(b.o.HM.prototype),f.prototype);b.o.EW=function(a){!0===a&&(a=1.4);b.o.bz=a;c.prototype[28]=a?c.prototype.XQ:
c.prototype.drawImage};b.o.vM=e;b.o.wM=f;b.o.uM=c})(window);
(function(b){var f=window.o;f.Wm=function(){this.init()};f.Wm.prototype={init:function(){this.eQ=!1;this.Me=this.oi=this.Zn=null;this.Qn={};this.da=this.rx=null},wY:function(b){for(var c=0;c<b.length;++c){var a=b[c],d;switch(a.at){case "create":this.Qn[a.author]||(this.Qn[a.author]=a.aName);d=this.da.Ho(a.xfdf)[0];d["authorId "]=a.author;this.da.Kb(d);this.da.trigger("updateAnnotationPermission",[d]);break;case "modify":d=this.da.Ho(a.xfdf)[0];this.da.Kb(d);break;case "delete":this.da.Ho("<delete><id>"+
a.aId+"</id></delete>")}}},qT:function(b,c,a){this.oi&&this.oi(b,c,a)},IV:function(b){this.one("blackBoxAnnotationsEnabled",this.qT.bind(this,{imported:!1},b,"add"))},XT:function(e,c,a){var d=this;if(e){d.Me=c;d.da=a.Da();a.on("documentUnloaded",function(){d.Lz()});d.QY(e);var g=new XMLHttpRequest;g.addEventListener("load",function(){if(200===g.status&&0<g.responseText.length)try{var a=JSON.parse(g.responseText);d.Zn=b.o.qD(b.joinPaths(d.Me,"blackbox/"),"annot");d.rx=a.id;d.Qn[a.id]=a.user_name;d.da.CC(a.id);
d.Zn.RC(function(a){a.t&&a.t.startsWith("a_")&&a.data&&d.wY(a.data)},function(){d.Zn.send({t:"a_retrieve",dId:e});d.trigger("blackBoxAnnotationsEnabled",[d.Qn[a.id],d.rx])},function(){d.Lz()})}catch(c){console.error(c.message)}});g.open("GET",b.joinPaths(this.Me,"demo/SessionInfo.jsp"));g.withCredentials=!0;g.send();d.eQ=!0;d.da.SK(function(a){return d.Qn[a.Author]||a.Author})}else console.error("Document ID required for collaboration")},Lz:function(){this.oi&&(this.da.off("annotationChanged",this.oi),
this.oi=null);this.Zn&&this.Zn.Vz();this.da&&this.da.CC("Guest");this.init();this.trigger("blackBoxAnnotationsDisabled")},QY:function(b){var c=this;this.oi&&this.da.off("annotationChanged",this.oi);this.oi=function(a,d,g){if(!a.imported){a={t:"a_"+g,dId:b,annots:[]};var f=c.da.mv(),h,k;"delete"!==g&&(h=(new DOMParser).parseFromString(f,"text/xml"),k=new XMLSerializer);for(f=0;f<d.length;f++){var n=d[f],l;if("add"===g){l=h.querySelector('[name="'+n.Id+'"]');l=k.serializeToString(l);var q=null;n.InReplyTo&&
(q=c.da.Ef(n.InReplyTo).authorId||"default");a.annots.push({at:"create",aId:n.Id,author:c.rx,aName:c.Qn[c.rx],parent:q,xfdf:"<add>"+l+"</add>"})}else"modify"===g?(l=h.querySelector('[name="'+n.Id+'"]'),l=k.serializeToString(l),a.annots.push({at:"modify",aId:n.Id,xfdf:"<modify>"+l+"</modify>"})):"delete"===g&&a.annots.push({at:"delete",aId:n.Id})}0<a.annots.length&&c.Zn.send(a)}}.bind(c);this.da.on("annotationChanged",this.oi)}};$.extend(f.Wm.prototype,b.utils.eventHandler)})(window);
(function(b){function f(a){return g[a]||"Unknown"}b.Annotations=b.Annotations||{};var e=b.Annotations,c;if(!(c=!Object.defineProperty)){var a;try{Object.defineProperty({},"x",{}),a=!0}catch(k){a=!1}c=!a}c&&(Object.defineProperty=function(a,d,c){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in c&&Object.prototype.__defineGetter__.call(a,d,c.get);Object.prototype.__defineSetter__&&"set"in c&&Object.prototype.__defineSetter__.call(a,
d,c.set);"value"in c&&(a[d]=c.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,d){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&Object.defineProperty(a,c,d[c]);return a});var d,g={arrow:"Arrow",callout:"Callout",caret:"Caret",ellipse:"Ellipse",freehand:"Free Hand",freetext:"FreeText",highlight:"Highlight",line:"Line",polygon:"Polygon",polyline:"Polyline",
rectangle:"Rectangle",redact:"Redaction",signature:"Signature",squiggly:"Squiggly",stamp:"Stamp",stickyNote:"Comment",strikeout:"Strikeout",underline:"Underline",custom:"Custom"},m=/(\d+(?:.\d+)?\s\w+)\W+(\d+(?:.\d+)?\s\w+)/,h={mm:.1,cm:1,m:100,km:1E5,mi:160394,yd:91.44,ft:30.48,"in":2.54,pt:.0352778};b.SD=function(a){this.Zu=[a]};b.SD.prototype={writeStartElement:function(a){a=document.createElementNS("",a);this.Zu.push(a)},writeAttributeString:function(a,d){this.top().setAttribute(a,d)},writeEndElement:function(){var a=
this.Zu.pop();this.top().appendChild(a)},top:function(){return this.Zu[this.Zu.length-1]}};e.ja={Yk:1,extraSelectorsEnabled:!1,Dc:function(a){return f(a)},IW:function(a){f=a},NG:function(a,d){for(var c=[],b=Math.min(a+1,d-1),g=Math.max(0,a-1);g<=b;++g)c.push(g);return c},GG:function(a){return null===a?"":0<a.length?a.replace(/&[^;]*;/g,function(a){switch(a.charAt(1)){case "q":return'"';case "a":return"&";case "l":return"<";case "g":return">";case "#":return"x"===a.charAt(2)?String.fromCharCode(parseInt(a.substring(3,
a.length-1),16)):String.fromCharCode(parseInt(a.substring(2,a.length-1),10))}return a}):""},GQ:function(a,d,c){var g=c.u.getDocument(),f=d.getAttribute("page"),f=parseInt(f,10),m=[],h=[];if(d.hasAttribute("selidxs"))var v=d.getAttribute("selidxs"),m=e.ca.HQ(v);else b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No index-based selector in XFDF.");if(d.hasAttribute("surrtxts_0_0"))for(v=0;;){if(d.hasAttribute("surrtxts_"+v+"_0")&&d.hasAttribute("surrtxts_"+v+"_1")){var w=d.getAttribute("surrtxts_"+
v+"_0");if(null===w)break;var A=d.getAttribute("surrtxts_"+v+"_1");if(null===A)break;var B=[];B.push(e.ja.GG(w));B.push(e.ja.GG(A));h.push(B)}else break;v++}else b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No surrounding-text-based selector in XFDF.");if(0>=m.length&&0>=h.length)b.utils.warn("annot_extra_selectors","deserializeExtraSelectors: No extra selector data deserialized."),a.eg=!1;else{a.eg=!0;a.bh=null;a.zf=null;a.oF=!1;a.gq=!1;a.gu=!0;var z=function(){var d=c.u.getDocument();
if(d!==g)a.eg=!1;else{var d=new XODText.Cj(d),b;0<m.length&&(b=d.RS(f,m,a.rh()),b.status&&(a.bh=b.value));0<h.length&&(b=d.QS(f,h,a.rh()),b.status&&(a.zf=b.value,a.PageNumber=b.zm+1));a.trigger("quadsCalculatedFromExtraSelectors");a.oF=!0}},x=function(){var d=c.u.getDocument();if(d!==g)a.eg=!1;else{var b=d.xb()-1,e=[];0===f&&1<=b?(e.push(f+1),e.push(f),a.gu=!1,d.Qr(e).then(z)):0<f&&b>=f+1&&(e.push(f+1),e.push(f-1),e.push(f),a.gu=!1,d.Qr(e).then(z))}};0===h.length?(a.gu=!1,g.Qr(f).then(z)):(a.lF||
(c.u.off("layoutChanged",x),c.u.on("layoutChanged",x),c.u.one("documentUnloaded",function(){c.u.off("layoutChanged",x)}),a.lF=!0),g.dc().then(function(){c.u.off("layoutChanged",x);a.lF=!1;var d=c.u.getDocument();if(d===g&&a.gu){var b=e.ja.NG(f,d.xb());d.Qr(b).then(z)}else c.u.off("layoutChanged",x),a.eg=!1}))}},RW:function(a){this.extraSelectorsEnabled=a},OH:function(a){return!a||a instanceof Date?a:new Date(a)},uT:function(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},measureText:function(a,d,c,b){var g=document.getElementById("text-width-tester");"number"===typeof d&&(d+="px");a=a.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");if(g)g.style.fontFamily=c,g.style.fontSize=d,g.style.fontWeight=b,g.innerHTML=a;else{var e="display:none;";_.isString(c)&&(e+="font-family:"+c+";");_.isUndefined(d)||(e+="font-size:"+d+";");_.isUndefined(b)||(e+="font-weight:"+b+";");g=document.createElement("span");g.id=
"text-width-tester";g.cssText=e;g.innerHTML=a;document.getElementsByTagName("body")[0].appendChild(g)}a=$(g);a.show();d={width:a.width(),height:a.height()};a.hide();return d},hT:function(a,c){var b=(d||(d=document.createElement("canvas"))).getContext("2d");b.font=c;return b.measureText(a).width},FA:function(a,d){if(!Array.isArray(d)||!d.length)return console.warn("Number format array for measurement should have at least one number format dictionary in it"),"";var c=Array(d.length),b=c.length;c[0]=
a;for(var g=1;g<b;g++){var e=c[g-1],f=e%1;c[g-1]=Math.trunc(e);c[g]=f*d[g].factor}var m=this;return c.map(function(a,c){var g=d[c],e=g.unit;return c===b-1?m.aV(a,g)+" "+e:m.NF(a.toString(),g.thousandsSymbol)+" "+e}).join(" ")},aV:function(a,d){var c,b,g=d.display;"D"===g?(b=d.precision,0!==b%10&&console.warn("precision for decimal display must be a multiple of 10"),b=a.toFixed((b/10).toString().length).split("."),c=b[0],b=d.decimalSymbol+b[1]):"F"===g?(c=Math.trunc(a).toString(),b=d.precision,b=" "+
Math.round(a%1*b)+"/"+b):"R"===g?(c=Math.round(a).toString(),b=""):"T"===g&&(c=Math.trunc(a).toString(),b="");return this.NF(c,d.thousandsSymbol)+b},NF:function(a,d){for(var c=a.length-3;0<c;c-=3)a=a.slice(0,c)+d+a.slice(c);return a},lL:function(a,d,c){var b=e.ja.wv(a);a=b.Gw;if((b=b.Uq)&&a)if(Array.isArray(d)&&Array.isArray(c)){var g=b[a],f=d[0],m=d[1],v=c[0],w=c[1];b.scale=d.join(" ")+" = "+c.join(" ");g[g.length-1].unit="area"===a?"sq "+w:w;b.axis[0].factor=v/f*(h.pt/h[m])}else console.warn("Both arguments for setting scale must be array");
else console.warn("Unable to set scale to an annotation or a tool which has incorrect IT or no measure dictionary")},hL:function(a,d){var c=e.ja.wv(a),b=c.Gw;(c=c.Uq)&&b?"number"!==typeof d?console.warn("The argument for setting precision must be a number"):c[b].forEach(function(a){a.precision&&(a.precision=1/d)}):console.warn("Unable to set precision to an annotation or a tool which has incorrect IT or no measure dictionary")},sI:function(a){var d=e.ja.wv(a);a=d.Uq;var c=d.Gw;if(a&&c){var d=a.scale.match(m),
b;d?(c=d[1],d=d[2],c&&d?(b=[c.split(" "),d.split(" ")],b[0][0]=Number(b[0][0]),b[1][0]=Number(b[1][0])):console.warn("Unable to convert scale from: ",a.scale," to format [[value, unit], [value, unit]]")):(b=a[c],b=b[b.length-1].unit,a=h.pt/h[b]/a.axis[0].factor,d=[1,b],c=[a,b],b=[c,d]);return b}},lI:function(a){var d=e.ja.wv(a);a=d.Gw;if((d=d.Uq)&&a)return a=d[a],(a=a[a.length-1].precision)?a=1/a:console.warn("Unable to get precision from: ",a),a},wv:function(a){var d=a.IT,c;if("LineDimension"===
d||"PolyLineDimension"===d)c="distance";"PolygonDimension"===d&&(c="area");return{Gw:c,Uq:a.Measure}},rH:function(a,d,c,b){if(d){d.style.fontSize=c+"px";a=0;for(var g;a<=c;)g=Math.floor((a+c)/2),d.style.overflow="hidden",d.offsetHeight,d.style.fontSize=g+"px",b&&(d.style.lineHeight=b(g)),d.style.overflow="auto",d.scrollHeight>Math.ceil($(d).outerHeight())?c=g-1:a=g+1;d.scrollHeight>Math.ceil($(d).outerHeight())&&(d.style.fontSize=parseFloat(d.style.fontSize)-1+"px");return parseFloat(d.style.fontSize)}return c/
2},gR:function(a,d){if(b.utils.disableFormCharacterProcessing)$(a).on("change",function(){d({change:this.value,dJ:!0})});else $(a).on("input",function(a){a.change=this.value;d(a)})},VQ:function(a,d,c,g){a.save();a.translate(d.x,d.y);a.rotate(b.fe.Math.Yl(d,c));a.moveTo(0,0);c=5*g+2;d=Math.cos(.2*Math.PI)*c;c*=Math.sin(.2*Math.PI);a.moveTo(d,-c);a.lineTo(0,0);a.lineTo(d,c);a.stroke();a.restore()},Eq:function(a,d){var c=a.W({x:0,y:0}),b=a.W({x:Number(d),y:0}),g=c.x-b.x,c=c.y-b.y;return Math.sqrt(g*
g+c*c)},VG:function(a,d,c){d.beginPath();var g=b.fe.Math.dQ(c);b.fe.Math.aK(c)&&(g[g.length]={x:g[0].x,y:g[0].y});if(!(2>=g.length)){var f=a.Intensity;f||(f=2);var m=1/8092,h=b.fe.Math.OS(g);a=1!==Math.round(h);c=0;for(var v=6.5*f,w=g[0],A=v,B=v,z={x:g[1].x-g[0].x,y:g[1].y-g[0].y},x={x:g[0].x-g[g.length-2].x,y:g[0].y-g[g.length-2].y},f=!0,y=!1,F=0,K,E,G,H=0;H<g.length-1;++H){var L=g[H],O=g[H+1],O={x:O.x-L.x,y:O.y-L.y},M=Math.sqrt(O.x*O.x+O.y*O.y);if(!(M<=m)){var N={x:O.x/M,y:O.y/M},I=Math.max(Math.floor(M/
v),1),M=M/I;c=b.fe.Math.FR(N.x,N.y);if(0===H&&3>=g.length){var D=Math.sqrt(z.x*z.x+z.y*z.y);if(D<v){d.arc(g[0].x,g[0].y,D,0,2*Math.PI);return}if(D<2*M){K=D/2;d.arc(g[0].x,g[0].y,K,0,2*Math.PI);d.moveTo(g[1].x+K,g[1].y);d.arc(g[1].x,g[1].y,K,0,2*Math.PI);d.moveTo(g[0].x+K,g[0].y);return}d.arc(g[0].x,g[0].y,M/2,0,2*Math.PI);d.moveTo(g[1].x+M/2,g[1].y);d.arc(g[1].x,g[1].y,M/2,0,2*Math.PI);d.moveTo(g[0].x+M/2,g[0].y)}0===H&&(F=M,K={x:N.x,y:N.y});L.x-=N.x*M*.5;L.y-=N.y*M*.5;x=b.fe.Math.crossProduct(x,
O);D=0;y||(++D,B=M,f=0>x*h,L.x+=N.x*M,L.y+=N.y*M,w=L,d.moveTo(w.x,w.y),E=w.x,G=w.y,y=!0);for(A=.25*(A+M);D<I;++D)L.x+=N.x*M,L.y+=N.y*M,G=e.ja.arcTo(E,G,d,A,A,c,0===D&&0>x*h,a,L.x,L.y),E=G.bY,G=G.cY;x=O;A=M}}y||(d.moveTo(w.x,w.y),E=w.x,G=w.y);K&&(m=.25*(B+A),e.ja.arcTo(E,G,d,m,m,c,f,a,g[g.length-1].x+.5*F*K.x,g[g.length-1].y+.5*F*K.y))}},arcTo:function(a,d,c,g,e,f,m,h,w,A){var B=[],z=[];b.fe.Math.wP(a,d,B,z,g,e,f,m,h,w,A);for(e=g=0;e<z.length;++e)"c"===z[e]?(c.bezierCurveTo(B[g],B[g+1],B[g+2],B[g+
3],B[g+4],B[g+5]),a=B[g+4],d=B[g+5],g+=6):(c.lineTo(B[g],B[g+1]),a=B[g],d=B[g+1],g+=2);return{bY:a,cY:d}}}})(window);
(function(b){b.Annotations=b.Annotations||{};var f=b.Annotations;f.ah={BH:function(b,c){var a=c.Da(),d=c.getDocument(),g=[];if(!b||d&&d.xg())g=a.Ec().filter(function(a){return a instanceof f.Jd});else if(_.isArray(b))g=b.filter(function(a){return a instanceof f.Jd});else if(b instanceof f.Jd)g=[b];else{console.warn("The selected annotation can`t be redacted");return}0===g.length&&console.warn("No redaction annotations selected");return g},$S:function(b,c){var a=c.Da(),d=a.Ec().filter(function(a){return!(a instanceof
f.Jd)});return{redactions:f.ah.TS(b,c),annots:a.dv({annotList:d})}},TS:function(b,c){var a=c.Da(),d=[];f.ah.BH(b,c).forEach(function(a){1===a.wr().length?d.push(a):a.wr().forEach(function(c){var b=_.extend(new f.Jd,a);b.Quads=[{x1:c.x1,x2:c.x2,x3:c.x2,x4:c.x1,y1:c.y2,y2:c.y2,y3:c.y1,y4:c.y1}];d.push(b)})});return a.dv({annotList:d})},ez:function(e,c){var a=c.getDocument();if(!c.Da().nB())return console.warn("Applying redactions is not enabled"),Promise.reject("Applying Redaction is not enabled");
if(a.xg())return a.ys(e,c);var d=f.ah.BH(e,c),g=null;return b.PDFNet.initialize().then(function(){return a.qg()}).then(function(a){g=a;return f.ah.gW(a,d)}).then(function(){return b.PDFNet.runWithCleanup(function(){return Promise.all(d.map(function(a){return f.ah.UV(g,c,a)}))})})},gW:function(b,c){var a=[];c.forEach(function(d){d=d.sb();-1===a.indexOf(d)&&a.push(d)});return Promise.all(a.map(function(a){return b.requirePage(a)}))},UV:function(e,c,a){b.PDFNet.startDeallocateStack();e.lock();var d=
c.Da(),g=f.ah.SS(a),m=f.ah.GR(a,c);return Promise.all([m,g]).then(function(g){return b.PDFNet.Redactor.redact(e,g[0],g[1],!0,!1).then(function(){try{var g=a.sb();a.wr().forEach(function(c){f.ah.CQ(c,d,a)});d.Rd(a,null,!0);c.pK(g);c.Lk();c.getDocument().qK()}finally{b.PDFNet.endDeallocateStack()}})})["catch"](function(a){b.PDFNet.endDeallocateStack();console.error(a)})},SS:function(e){var c=e.FillColor;return new Promise(function(a){b.PDFNet.ColorPt.init(c.R/255,c.G/255,c.B/255,c.A).then(function(d){a({text_color:d,
positive_overlay_color:d,border:!1})})})},GR:function(e,c){var a=[],d=e.wr(),g=c.v,f=e.sb();d.forEach(function(d){var c=g.fm(f-1,d.x1,d.y1);d=g.fm(f-1,d.x2,d.y2);c=b.PDFNet.Rect.init(c.x,c.y,d.x,d.y).then(function(a){return b.PDFNet.Redactor.redactionCreate(f,a,!1,"").then(function(a){return a})});a.push(c)});return Promise.all(a).then(function(a){return a})},CQ:function(b,c,a){var d=c.Ec();a=a.sb();for(var g=d.length-1;0<=g;g--){var m=d[g],h=m.X,k=m.Y,k=b.y1>m.Y+m.Height||b.y2<k,h=b.x1>m.X+m.Width||
b.x2<h,n=a!==m.PageNumber;m instanceof f.Jd||n||k||h||c.Rd(m,null,!0)}}}})(window);
(function(b){function f(){this.fonts=[]}function e(a,d,c,b){this.url=_.isUndefined(b)?["data:",this.ZU[c],";base64,",btoa(d)].join(""):"'"+b+"'";this.url=["url(",this.url,")"].join("");this.qW=["@font-face { font-family:'",a,"';src:",this.url,"}"].join("");this.name=a}document.head||(document.head=document.getElementsByTagName("head")[0]);b.Vg={};var c=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent),a=c&&14<=c[1],d=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");
e.prototype={SC:null,styleSheet:null,ZU:{woff:"application/x-font-woff",opentype:"font/opentype",sfnt:"application/font-sfnt"},insert:function(){if(!b.Vg[this.name]){if(!this.styleSheet){var a=document.createElement("style");document.head.appendChild(a);e.prototype.styleSheet=a.sheet;e.prototype.SC=a}a=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.qW,a);b.Vg[this.name]=this.styleSheet.cssRules[a]}},remove:function(){if(!b.utils.ie){var a=b.Vg[this.name];if(!a)throw Error("CSS @font-face rule is not in use");
var d,c=this.styleSheet.cssRules.length,g=this.styleSheet.cssRules;for(d=0;d<c;d++)if(g[d]===a){this.styleSheet.deleteRule(d);delete b.Vg[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");}}};if("undefined"!==typeof document&&document.fonts)try{var g=new e("lt"+Date.now()+"0",d,"opentype");"error"===(new window.FontFace(g.name,g.url,{})).status?b.gr=!1:b.gr=!0}catch(h){b.gr=!1}else b.gr=!1;f.prototype={jY:1,bP:function(a){this.fonts.push(a)},yT:function(){return 0!==
this.fonts.length},wJ:function(c){function g(a,d){return a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3)&255}function e(a,d){r++;30<r?(console.warn("Load test font never loaded."),d()):(u.font="30px "+a,u.fillText(".",0,20),0<u.getImageData(0,0,1,1).data[3]?d():setTimeout(_.bind(e,null,a,d)))}var f=this,m;if(_.isEmpty(b.Vg)||a){for(m=0;m<f.fonts.length;m++)setTimeout(c,0,f.fonts[m].name);f.fonts=[]}else{var p;m=document.createElement("canvas");m.width=1;m.height=1;
var u=m.getContext("2d"),r=0,v="lt"+Date.now()+this.jY++,w=d,w=w.substr(0,976)+v+w.substr(976+v.length),A=g(w,16);m=0;for(p=v.length-3;m<p;m+=4)A=A-1482184792+g(v,m)|0;m<v.length&&(A=A-1482184792+g(v+"XXX",m)|0);var w=w.substr(0,16)+(String.fromCharCode(A>>24&255)+String.fromCharCode(A>>16&255)+String.fromCharCode(A>>8&255)+String.fromCharCode(A&255))+w.substr(20),B=new b.kf.FontFace(v,w,"opentype");B.insert();w=[];m=0;for(p=this.fonts.length;m<p;m++)w.push(this.fonts[m].name);w.push(v);var z=document.createElement("div");
z.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");m=0;for(p=w.length;m<p;++m)A=document.createElement("span"),A.textContent="Hi",A.style.fontFamily=w[m],z.appendChild(A);document.body.appendChild(z);e(v,function(){document.body.removeChild(z);B.remove();for(var a=0;a<f.fonts.length;a++)if(c(f.fonts[a].name),!f.fonts[a].url.startsWith("url(data")){var d=f.fonts[a].url;if(d.startsWith("url('")){if(8>d.length){console.warn("Invalid font ObjectURL.");
return}d=d.substring(5,d.length-2)}URL.revokeObjectURL(d);f.fonts[a].url=null}f.fonts=[]})}},IU:function(a,d,c){var b=document.createElement("div");b.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");b.innerHTML=""+('<span style="font-family:'+a+'">" + testString +"</span>');document.body.appendChild(b);$.get(d,function(){setTimeout(function(){c();document.body.removeChild(b)},300)})}};if(b.gr){var m=e,e=function(){m.apply(this,arguments);
this.eA=new window.FontFace(this.name,this.url,{})};e.prototype=m.prototype;$.extend(e.prototype,{insert:function(){document.fonts.add(this.eA);b.Vg[this.name]=this},remove:function(){document.fonts["delete"](this.eA)}});$.extend(f.prototype,{wJ:function(a){this.fonts.forEach(function(d){d.eA.load().then(function(){a(d.name);if(!d.url.startsWith("url(data")){var c=d.url;if(c.startsWith("url('")){if(8>c.length){console.warn("Invalid font ObjectURL.");return}c=c.substring(5,c.length-2)}URL.revokeObjectURL(c);
d.url=null}})["catch"](function(c){a(d.name);console.warn("loadFonts: font failed to load: "+d.name);c&&console.warn("loadFonts: exception is: "+c.message)})})}})}b.kf={FontFace:e,FM:f,yA:function(a,d){return"f"+a+"-"+d}}})(window);
(function(b){function f(c,a,d){this.page=c;this.ub=a;this.Ke=d;this.lH=a.Ka.be?a.Ka.be.path:void 0;this.um=this.paused=!1}var e={oh:0,je:1,jo:2,$e:3};b.asc=function(c){var a=.707106781*c.m_a+.707106781*c.m_b;c=.707106781*c.m_c+.707106781*c.m_d;return Math.sqrt(a*a+c*c)};f.prototype={pause:function(){this.paused=!0;this.qz()},qz:function(){this.dw=!1;b.clearImmediate(this.xJ)},XG:function(c,a,d,g,e){function f(){A=!0;l&&l.Po().then(function(){if(k.abort){if(w)return n&&(n=!1,g(r)),l=k.resume=null,
k.qz(),k.abort&&k.abort(),d(r);k.abort&&((q=5<++u)&&p&&n&&e&&(n=!1,g(r)),w=l.run(c,a,50),!w&&l.NT&&g(r),A=!1,k.dw=!1,k.paused||k.ax())}})}var k=this,n=void 0!==g;d=d||function(){};var l=this.ub.pb,q=!1,p=!1,u=0,r=c.canvas,v=setTimeout(function(){p=!0;q&&n&&e&&(n=!1,g(r))},3E3);k.abort=function(){A=!1;k.qz();k.xJ=null;k.resume=null;l&&(l.cancel(),l=null);k.ub.pb=null;clearTimeout(v);k.ax=null;_(k.ub.Ua).each(function(a){switch(a.type){case "png":case "jpg":a&&a.data&&!a.data.startsWith("url(data")&&
(URL.revokeObjectURL(a.data),a.data=null);break;case "font":if(a&&a.data&&a.data.url&&!a.data.url.startsWith("url(data")){var d=a.data.url;if(d.startsWith("url('")){if(8>d.length){console.warn("Invalid font ObjectURL.");break}d=d.substring(5,d.length-2)}URL.revokeObjectURL(d);a.data.url=null}}});k.abort=null};var w=!1;k.resume=function(){!1!==A||k.dw||k.ax();k.paused=!1};k.ax=function(){k.dw=!0;k.xJ=b.setImmediate(f,0)};var A=!1;k.dw=!1;k.paused||k.ax()},fQ:function(c,a,d,g,f,h,k,n,l){a=a||e.oh;f&&
0<f&&(f=Math.round(f));c=b.o.pa.Hk(this.page,c||1,a,h,f,k,l);this.XG(c.ctx,c.t,d,g,n)},pI:function(c){var a=[];if(c){for(var d=0;d<c.length;++d)a[d]=this.ub.Ka.si(c[d]);return a}_(this.ub.Ua).each(function(d){a.push(d)});return a},DB:function(c,a,d){function g(a){var d=k.Ke.Tv(a.name);e(a);switch(a.type){case "png":case "jpg":if(b.ci[a.name]){a.data.startsWith("data")||URL.revokeObjectURL(a.data);if(d){f(a.name);break}b.ci[a.name].Lq.push(function(){f(a.name)});break}var c=new Image;c.setAttribute("crossOrigin",
"use-credentials");c.onload=function(){c.src.startsWith("data")||URL.revokeObjectURL(c.src);for(var a=0;a<this.Lq.length;++a)this.Lq[a]();c.Lq=[];c=c.onload=c.onerror=null};c.onerror=function(){b.utils.warn("img error "+a.name);"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY6ivrwcAAv4BfhD/txkAAAAASUVORK5CYII="!==c.src&&(c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY6ivrwcAAv4BfhD/txkAAAAASUVORK5CYII=")};
c.hres=a.hres;c.vres=a.vres;b.ci[a.name]=c;c.Lq=[];c.Lq[0]=function(){f(a.name)};c.Jb=k.ub.Of;c.src=a.data;break;case "font":_.isUndefined(k.lH)?l.bP(a.data):l.IU(a.name,k.lH+a.sa,function(){f(a.name)});break;default:b.utils.warn("unknown resource type: "+a.type),f(a.name)}}function e(a){d&&k.Ke.VO(a.name)}function f(d){k.Ke.loaded(d);if(k.um&&1>--n)return k.um=!1,c(a[0])}if(this.um)throw Error("Multiple calls to loadResource");var k=this;a=this.pI(a);var n=a.length;this.um=!0;var l=new b.kf.FM,q=
!0;_(a).each(function(a){q=!1;k.Ke.Tv(a.name)?(e(a),f(a.name)):a.data?g(a):k.ub.Ka.If(a.sa,function(d){k.Ke.Tv(a.name)?(e(a),f(a.name)):g(k.ub.Ka.si(d.sa,d.data))})});l.yT()&&l.wJ(_(f).bind(this));q&&(c(),this.um=!1)},fG:function(){this.um&&(this.um=!1)},Mb:function(c){var a=this;a.fG();c=this.pI(c);_(c).each(function(d){if("font"!==d.type&&a.Ke.release(d.name))switch(d.type){case "png":case "jpg":delete b.ci[d.name];break;case "font":d.data&&d.data.remove()}})}};b.mf=b.mf||{};b.mf.zN=f;b.mf.kt=function(){var c=
{};return{VO:function(a){a in c?c[a].c++:c[a]={c:1,l:!1}},loaded:function(a){a in c&&(c[a].l=!0)},qB:function(a){return a in c?!0:!1},Tv:function(a){return a in c?c[a].l:!1},release:function(a){if(!(a in c))return!1;--c[a].c;return c[a].c?!1:(delete c[a],!0)}}};b.o.Ga=e;b.Fd=function(c,a,d,g,f,h){g=g||{x:0,y:0};d.width?(d.x1=0,d.y1=0,d.x2=d.width,d.y2=d.height):(d.width=d.x2-d.x1,d.height=d.y2-d.y1);var k=new XODText.Matrix2D;_.isUndefined(f)&&(f=!0);f&&(f=h||b.utils.getCanvasMultiplier(),c*=f,g.x*=
f,g.y*=f);k.Ba(c,0,0,c,g.x,g.y);c=new XODText.Matrix2D;a===e.oh?c.Ba(1,0,0,1,-d.x1,-d.y1):a===e.je?c.Ba(1,0,0,1,d.y2,-d.x1):a===e.jo?c.Ba(1,0,0,1,d.x2,d.y2):a===e.$e&&c.Ba(1,0,0,1,-d.y1,d.x2);k.concat(c);k.concat(XODText.Matrix2D.rotationMatrix(Math.PI/2*(4-a)));return k}})(window);
(function(b){b.Actions||(b.Actions={});var f=b.Actions;f.Action=function(c){_.isObject(c)&&_.isString(c.name)&&(this.Ac=c.name)};f.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(f.Action.prototype,{name:{get:function(){return this.elementName}}});f.lf=function(c){f.Action.call(this,c);this.dg=new f.lf.Jp;_.isObject(c)&&this.dg.set(c.dest)};f.lf.prototype={elementName:"GoTo",
onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);this.dg.YF(d)},serialize:function(c){var a=f.Action.prototype.serialize.call(this,c);$(a).append(this.dg.serialize(c));return a},deserialize:function(c,a,d){f.Action.prototype.deserialize(c,a);this.dg.deserialize(c,a,d)}};f.lf.prototype=$.extend(Object.create(f.Action.prototype),f.lf.prototype);Object.defineProperties(f.lf.prototype,{dest:{get:function(){return this.dg}}});f.bn=function(c){f.Action.call(this,c);this.dg=new f.lf.Jp;
_.isObject(c)&&(this.dg.set(c.dest),this.It=c.filename,this.My=c.newWindow)};f.bn.prototype={elementName:"GoToR",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);this.dg.YF(d)},serialize:function(c){var a=f.Action.prototype.serialize.call(this,c);this.My||a.setAttribute("NewWindow","false");var d=document.createElementNS("","File");this.It&&d.setAttribute("OriginalName",this.It);var b=$(a);b.append(d);b.append(this.dg.serialize(c));return a},deserialize:function(c,a,d){f.Action.prototype.deserialize(c,
a);this.dg.deserialize(c,a,d,!0);c=c.getElementsByTagName("GoToR")[0];this.My="false"!==c.getAttribute("NewWindow");c=c.getElementsByTagName("File");1===c.length&&(this.It=c[0].getAttribute("OriginalName"))}};f.bn.prototype=$.extend(Object.create(f.Action.prototype),f.bn.prototype);Object.defineProperties(f.bn.prototype,{dest:{get:function(){return this.dg}},filename:{get:function(){return this.It}},newWindow:{get:function(){return this.My}}});f.lf.Jp=function(c){this.Gn=1;this.hq="Fit";this.Ac=this.Uj=
this.cg=this.lg=this.Ee=this.Be=null;this.set(c)};f.lf.Jp.prototype={set:function(c){if(_.isObject(c)){_.isUndefined(c.page)||(this.Gn=Number(c.page));var a=c.fit;_.isString(a)&&(this.hq=a);switch(a){case "XYZ":_.isUndefined(c.left)||(this.Be=Number(c.left));_.isUndefined(c.top)||(this.Ee=Number(c.top));_.isUndefined(c.zoom)||(this.Uj=Number(c.zoom));break;case "FitBH":case "FitH":_.isUndefined(c.top)||(this.Ee=Number(c.top));break;case "FitBV":case "FitV":_.isUndefined(c.left)||(this.Be=Number(c.left));
break;case "FitR":_.isUndefined(c.left)||(this.Be=Number(c.left));_.isUndefined(c.top)||(this.Ee=Number(c.top));_.isUndefined(c.right)||(this.lg=Number(c.right));_.isUndefined(c.bottom)||(this.cg=Number(c.bottom));var a=_.min([this.Be,this.lg]),d=_.min([this.Ee,this.cg]),b=_.max([this.Be,this.lg]),e=_.max([this.Ee,this.cg]);this.Ee=d;this.Be=a;this.cg=e;this.lg=b}c=c.name;_.isString(c)&&(this.Ac=c,this.Gn=null)}},serialize:function(c){var a=document.createElementNS("","Dest"),d=document.createElementNS("",
this.hq||"Named"),b=this.Ee||0,e=this.Be||0,f=this.cg||0,k=this.lg||0;c=c.inverse();e=c.W({x:e,y:b});f=c.W({x:k,y:f});b=_.isNull(this.Ee)?null:e.y;e=_.isNull(this.Be)?null:e.x;k=_.isNull(this.lg)?null:f.x;f=_.isNull(this.cg)?null:f.y;_.isNull(this.Gn)||d.setAttribute("Page",this.Gn);_.isNull(this.Uj)||d.setAttribute("Zoom",this.Uj);b&&d.setAttribute("Top",b);e&&d.setAttribute("Left",e);k&&d.setAttribute("Right",k);f&&d.setAttribute("Bottom",f);switch(this.hq){case "XYZ":_.isNull(e)&&d.setAttribute("Left",
"");_.isNull(b)&&d.setAttribute("Top","");_.isNull(this.Uj)&&d.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(b)&&d.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(e)&&d.setAttribute("Left","");break;case "FitR":_.isNull(e)&&d.setAttribute("Left",""),_.isNull(b)&&d.setAttribute("Top",""),_.isNull(k)&&d.setAttribute("Right",""),_.isNull(f)&&d.setAttribute("Bottom","")}this.Ac&&d.setAttribute("Name",this.Ac);$(a).append(d);return a},deserialize:function(c,a,d,b){var e=
Annotations.ca;a=e.getAttribute(c,"PageNum");var f,k,n,l,q,p,u;k=e.getAttribute(c,"Hpos");f=e.getAttribute(c,"Vpos");c=c.getElementsByTagName("Dest");if(!a||0<c.length)if(c=c[0],c=e.xA(c))a=e.getAttribute(c,"Page"),p=e.uv(c),f=e.getAttribute(c,"Top"),k=e.getAttribute(c,"Left"),n=e.getAttribute(c,"Right"),l=e.getAttribute(c,"Bottom"),q=e.getAttribute(c,"Zoom"),"Named"===e.uv(c)&&(u=e.getAttribute(c,"Name"));u||b?b&&(f=_.isNull(f)?void 0:f,k=_.isNull(k)?void 0:k,n=_.isNull(n)?void 0:n,l=_.isNull(l)?
void 0:l):(b=d.u.jc(a-1),d=b.W({x:k||0,y:f||0}),b=b.W({x:n||0,y:l||0}),f=_.isNull(f)?void 0:d.y,k=_.isNull(k)?void 0:d.x,n=_.isNull(n)?void 0:b.x,l=_.isNull(l)?void 0:b.y);this.set({page:_.isNull(a)?void 0:a,fit:_.isNull(p)?void 0:p,top:f,left:k,right:n,bottom:l,zoom:_.isNull(q)?void 0:q,name:u})},YF:function(c){var a=this.Ee||0,d=this.Be||0,b=this.Gn||1;switch(this.hq){case "XYZ":this.Uj&&c.Ax(this.Uj);c.bo(b,d,a);break;case "Fit":case "FitB":case "FitV":case "FitBV":c.Ne(b);c.DC(c.Tg.Sx);break;
case "FitH":case "FitBH":c.Ne(b);c.DC(c.Tg.xD);c.bo(b,0,a);break;case "FitR":var e=_.isUndefined(this.lg)||_.isNull(this.lg)||_.isUndefined(this.Be)||_.isNull(this.Be)?null:Math.abs(this.lg-this.Be),f=_.isUndefined(this.cg)||_.isNull(this.cg)||_.isUndefined(this.Ee)||_.isNull(this.Ee)?null:Math.abs(this.cg-this.Ee),e=e?c.yb().innerWidth()/e:Infinity,f=f?c.yb().innerHeight()/f:Infinity,f=Math.min(e,f);Infinity!==f&&c.Ax(f);c.bo(b,d,a);break;default:c.Ne(b)}}};Object.defineProperties(f.lf.Jp.prototype,
{page:{get:function(){return this.Gn},set:function(c){this.set({page:c})}},fit:{get:function(){return this.hq}},top:{get:function(){return _.isNull(this.Ee)?void 0:this.Ee}},left:{get:function(){return _.isNull(this.Be)?void 0:this.Be}},bottom:{get:function(){return _.isNull(this.cg)?void 0:this.cg}},right:{get:function(){return _.isNull(this.lg)?void 0:this.lg}},zoom:{get:function(){return _.isNull(this.Uj)?void 0:this.Uj}},name:{get:function(){return this.Ac}}});f.Ej=function(c){f.Action.call(this,
c);this.tq="";_.isObject(c)&&_.isString(c.uri)&&(this.tq=c.uri)};f.Ej.prototype={elementName:"URI",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);c=this.tq;0!==c.indexOf("http://")&&0!==c.indexOf("https://")&&0!==c.indexOf("ftp://")&&0!==c.indexOf("mailto:")&&0!==c.indexOf("tel:")&&-1===c.indexOf("://")&&(c=-1!==c.indexOf("@")?"mailto:"+c:"http://"+c);window.open(c)},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ca,b=d.getAttribute(c,
"Target");_.isNull(b)&&(b=d.xA(c),b=d.getAttribute(b,"Name"));this.tq=b},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.tq);return c}};f.Ej.prototype=$.extend(Object.create(f.Action.prototype),f.Ej.prototype);Object.defineProperties(f.Ej.prototype,{uri:{get:function(){return this.tq}}});f.en=function(c){f.Action.call(this,c);this.sn="";_.isObject(c)&&_.isString(c.action)&&(this.sn=c.action)};f.en.prototype={elementName:"Named",onTriggered:function(c,a,
d){f.Action.prototype.onTriggered.call(this,c,a,d);switch(this.sn){case "NextPage":d.Ne(c.sb()+1);break;case "PrevPage":d.Ne(c.sb()-1);break;case "FirstPage":d.Ne(1);break;case "LastPage":d.Ne(d.xb());break;default:console.warn("Invalid named action name: "+this.sn)}},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ca,b=d.getAttribute(c,"N");_.isNull(b)&&0<c.getElementsByTagName("Named").length&&(b=d.getAttribute(c.getElementsByTagName("Named")[0],"Name"));
this.sn=b},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Name",this.sn);return c}};f.en.prototype=$.extend(Object.create(f.Action.prototype),f.en.prototype);Object.defineProperties(f.en.prototype,{action:{get:function(){return this.sn}}});f.dn=function(c){f.Action.call(this,c);this.ry=this.Xt=null;this.set(c)};f.dn.prototype={elementName:"JavaScript",set:function(c){_.isObject(c)&&_.isString(c.javascript)&&(this.Xt=c.javascript)},onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,
c,a,d);c=d.getDocument().mq;this.ry||(this.ry=c.Yn(this.Xt,d));c.bp(this.ry,a,d)},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ca.getAttribute(c,"JavaScript");d||(d=c.getElementsByTagName("JavaScript")[0].textContent);this.set({javascript:d})},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);$(c).text(this.Xt);return c}};f.dn.prototype=$.extend(!0,new f.Action,f.dn.prototype);Object.defineProperties(f.dn.prototype,{javascript:{get:function(){return this.Xt||
""}}});f.cl=function(c){f.Action.call(this,c);this.Lj=!1;this.ib=null;var a=c.fields;if(_.isObject(c)){if(_.isArray(a))this.ib=a.slice();else if("string"===typeof a||a instanceof String)this.ib=[a];_.isUndefined(c.exclude)||(this.Lj=!!c.exclude)}};f.cl.prototype={elementName:"ResetForm",onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);var b=this,e=d.Da().ke();c=e.np;e.np=!1;this.Lj||_.isNull(this.ib)?e.Is({$r:function(a,d,c){b.ib&&-1!==b.ib.indexOf(a)||c.EK()}}):this.ib.forEach(function(a){var d=
e.Hb(a);d?d.EK():console.warn("Missing field during reset:",a)});e.np=c;e.Hq(null,0)},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ca,b=[],e=!0;_.isNull(d.getAttribute(c,"ResetFields"))?_.isNull(d.getAttribute(c,"ResetExcludedFields"))?0<c.getElementsByTagName("ResetForm").length&&(c=c.getElementsByTagName("ResetForm")[0],(b=d.getAttribute(c,"Fields"))&&(b=b.split(",")),d=parseInt(d.getAttribute(c,"Flags"),10),_.isNull(b)||_.isUndefined(b)?(b=[],e=!0):
e=1===d?!0:!1):(b=d.getAttribute(c,"ResetExcludedFields").split(","),e=!0):(b=d.getAttribute(c,"ResetFields").split(","),e=!1);this.ib=b;this.Lj=!!e},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);this.ib&&c.setAttribute("Fields",this.ib.join(","));c.setAttribute("Flags",this.Lj?1:0);return c}};f.cl.prototype=$.extend(Object.create(f.Action.prototype),f.cl.prototype);Object.defineProperties(f.cl.prototype,{fields:{get:function(){return this.ib}},exclude:{get:function(){return this.Lj}}});
f.jl=function(c){f.Action.call(this,c);this.ru="";this.ib=[];this._format="xfdf";this.Pt=!1;this._method="POST";this.Lj=!1;this.oc=new b.Annotations.Fj({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(c)};f.jl.prototype={elementName:"SubmitForm",set:function(c){_.isObject(c)&&(c.url&&(this.ru=String(c.url)),_.isArray(c.fields)&&(this.ib=c.fields.slice()),c.format&&(this._format=c.format.toLowerCase()),c.includeEmpty&&
(this.Pt=!!c.includeEmpty),c.flags&&this.oc.set(c.flags),c.method&&(this._method=String(c.method)),c.exclude&&(this.Lj=!!c.exclude))},onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);var b=this,e=[],h=d.Da(),k=h.ke();0<this.ib.length?this.ib.forEach(function(a){e.push(k.Hb(a))}):k.oo(function(a){_.isNull(a.value)&&!b.Pt||e.push(a)});c="";"xfdf"===this._format?c=h.Fl.JN(e):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),
c=h.Fl.KN(e));$.ajax({type:"POST",url:this.ru,data:c,success:function(a){if(h.JL)h.JL(a);else{var d=window.open();_.isNull(d)||_.isUndefined(d)?console.warn("Form popup blocked"):d.document.write(a)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ca,b=c.getElementsByTagName("SubmitForm"),e="SubmitURL",h="SubmitFields",k="SubmitFlag";0<b.length&&(c=b[0],e="URL",h="Fields",k="Flags");
b=d.getAttribute(c,e);e=null;_.isNull(d.getAttribute(c,h))||(e=d.getAttribute(c,h).split(","));h=0;_.isNull(d.getAttribute(c,k))||(h=parseInt(d.getAttribute(c,k),10));d="fdf";h&4&&(d="html");h&32&&(d="xfdf");this.set({url:b,fields:e||void 0,format:d,flags:0!==(h&2)?["IncludeNoValueFields"]:[]})},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Fields",this.ib.join(","));c.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.Pt?2:0));
c.setAttribute("URL",this.ru);return c}};f.jl.prototype=$.extend(Object.create(f.Action.prototype),f.jl.prototype);Object.defineProperties(f.jl.prototype,{url:{get:function(){return this.ru}},fields:{get:function(){return this.ib}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.Pt}},flags:{get:function(){return this.oc},set:function(c){this.oc.set(c)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.Lj}}});f.cn=function(c){f.Action.call(this,
c);this.ib=[];this._hide=!0;this.set(c)};f.cn.prototype={elementName:"Hide",set:function(c){_.isObject(c)&&(_.isArray(c.fields)&&(this.ib=c.fields.slice()),_.isUndefined(c.hide)||(this._hide=!!c.hide))},onTriggered:function(c,a,d){f.Action.prototype.onTriggered.call(this,c,a,d);var b=d.Da().ke(),e=this;this.ib.forEach(function(a){b.Hb(a).Tf(!e.hide)})},deserialize:function(c,a){f.Action.prototype.deserialize.call(this,c,a);var d=Annotations.ca,b=!0,e;_.isNull(d.getAttribute(c,"HideField"))?0<c.getElementsByTagName("Hide").length?
(c=c.getElementsByTagName("Hide")[0],e=d.getAttribute(c,"Fields").split(","),b="false"!==d.getAttribute(c,"Hide")):(e=[d.getAttribute(c,"ShowField")],b=!1):e=[d.getAttribute(c,"HideField")];this._hide=b;this.ib=e},serialize:function(c){c=f.Action.prototype.serialize.call(this,c);c.setAttribute("Fields",this.Q_.join(","));c.setAttribute("Hide",this.hide?"true":"false");return c}};f.cn.prototype=$.extend(Object.create(f.Action.prototype),f.cn.prototype);Object.defineProperties(f.cn.prototype,{fields:{get:function(){return this.ib}},
hide:{get:function(){return this._hide}}});f.wD=function(){this.pF={GoTo:f.lf,GoToR:f.bn,URI:f.Ej,Named:f.en,JavaScript:f.dn,ResetForm:f.cl,SubmitForm:f.jl,Hide:f.cn}};f.wD.prototype={lB:function(c){if(_.isObject(c)){var a=this.pF[c.name];return a?new a(c):null}},ZT:function(c,a,d){var b=Annotations.ca.ER(c);return(b=this.pF[b])?(b=new b,b.deserialize(c,a,d),b):null}};var e=new f.wD;f.V_=function(){return e};f.Vh=function(c){this.Jj={};this.wy=null;_.isObject(c)&&_.isObject(c.actions)&&this.tu(c.actions)};
f.Vh.prototype={tu:function(c,a){a&&(this.Jj={});if(_.isObject(c))for(var d in c)if(c.hasOwnProperty(d))for(var b=c[d].length,e=0;e<b;++e)this.Vj(d,c[d][e])},Vj:function(c,a){var d=this.Jj[c]||[];if(a instanceof f.Action)-1===d.indexOf(a)&&d.push(a);else if(_.isObject(a)){var b=e.lB(a);b&&d.push(b)}this.Jj[c]=d},hk:function(){return this.Jj},Pe:function(c,a){var d=this.Jj[c];if(d)for(var b=d.length,e=0;e<b;++e)d[e].onTriggered(this,a,this.wy)},Eg:function(c){this.wy=c},Ff:function(){return this.wy},
sW:function(c,a,d){function b(d,c){c.forEach(function(c){var b=document.createElementNS("","Action");b.setAttribute("Trigger",d);var g=$(b);if(c=c.serialize(a))g.append(c),f=!0;$(e).append(b)})}var e;e=d?d:document.createElementNS("","OnActivation");var f=!1,k;for(k in this.Jj)this.Jj.hasOwnProperty(k)&&b(k,this.Jj[k]);f&&!d&&$(c).append(e)},FF:function(c,a,d){var b=Annotations.ca;c=b.DR(c);for(var f=c.length,h=0;h<f;++h){var k=c[h],n=b.getAttribute(k,"Trigger")||"U";(k=e.ZT(k,a,d))&&this.Vj(n,k)}}}})(window);
(function(b){function f(a,d){return a-d}function e(a){a=new Blob([a]);a.name="AP.xod";var d=new m.V.zD(a),c=new m.We;return new Promise(function(a,b){c.loadAsync(d,function(d){d?b(d):a(c)})})}function c(a,d){b.Actions.Vh.call(this);this.width=a;this.height=d;this.text=null;this.ps=[];this.links=[];this.Wa=null}function a(a,d,c,g,e,f){var m={getZoom:function(){return 1},getPageRotation:function(){return b.o.Ga.oh},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},
getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(a)?(m=$.extend(m,a),m.zoom&&(m.getZoom=function(){return m.zoom}),m.pageRotation&&(m.getPageRotation=function(){return m.pageRotation})):m=$.extend(m,{pageIndex:a,getZoom:function(){return d},getPageRotation:function(){return c},drawProgressive:e,drawComplete:g,canvasNum:f});return m}function d(){}function g(a){a in this.Li?(clearImmediate(this.Li[a]),delete this.Li[a]):this.za.Kq(a)}
var m=window.o,h=b.o.V.Gj,k=b.o.V.Px;b.ci=b.ci||{};var n={};b.o.Rp={bN:0,dN:1,uN:2,AN:10};b.o.gl={SM:1,vN:2,NM:4,cN:8,XM:16,yM:32};c.prototype=$.extend({$K:function(a){this.height=a.height;this.width=a.width;this.Wa=a.matrix;this.rotation=a.rotation;this.id=a.id;this.Ma=a.pageNum}},Object.create(b.Actions.Vh.prototype));var l=null,q=null;b.o.xX=function(a){l=a};b.o.iL=function(a){q=a};b.o.mI=function(){return l||q};var p=6;b.o.JM=function(){return p};b.o.by=function(a){p=a;b.Xm=524288*a*a;b.Hx=524288*
a*a;b.$m=3*a;b.AM=50+30*a;b.o.pa&&b.o.pa.TK(a);switch(a){case 0:b.$m=0;b.Xm=0;b.Hx=0;break;case 1:b.$m=0,b.Xm=0}};b.o.LD=function(a){b.gw=1+2*(a-1);b.hw=a-1;0>b.gw&&(b.gw=0);0>b.hw&&(b.hw=0)};b.o.by(6);b.o.LD(5);m.jf=function(a,d,c,b,g,e,f){this.children=a;this.name=d;this.Of=c;this.parent=b;this.wp=g||0;this.Go=e||0;this.url=f};m.jf.prototype={LH:function(){return this.children},getName:function(){return this.name},sb:function(){return this.Of},nT:function(){return this.url},getParent:function(){return this.parent},
oT:function(){return this.wp},hS:function(){return this.Go},isValid:function(){return!!this.url||_.isNumber(this.Of)}};m.Lx=function(a,d){this.TU=a;this.UU=d;this.$U=2;this.Vq={};this.fo=[];this.Ml=0;this.lC=!1};m.Lx.prototype={aG:function(a,d){var c=this;c.Vq[a]=d;var b=c.fo.indexOf(a);0<=b&&c.fo.splice(b,1);c.fo.push(a);c.mC();d.then(function(a){a=a.J.length;c.Ml+=a;d.numPages=a;c.mC()})["catch"](function(a){console.warn(a)})},tK:function(){var a=this,d=a.fo.shift(),c=a.Vq[d];delete a.Vq[d];(d=
c.numPages)?a.Ml-=d:(a.lC=!0,c=c.then(function(d){a.Ml-=d.J.length;a.lC=!1;a.mC()}));c.then(function(a){a.Mb()});return!!d},mC:function(){if(!this.lC){for(;this.fo.length>this.TU;)if(!this.tK())return;for(;this.Ml>this.UU&&!(this.fo.length<=this.$U)&&this.tK(););}},OR:function(a){return this.Vq[a]},Mb:function(){this.Vq.forEach(function(a){a.Mb()})}};m.Document=function(a,d){b.Actions.Vh.call(this);this.mq=b.Annotations.O.vb.mQ();this.v=m.Document.ZR(d)(a);var c=this;this.v.PW(function(a){c.trigger(a.type,
[a.data])});this.type=d||"xod";this.QN=20;this.Ro=[];this.mx={}};var u=Object.create({});m.Document.ZR=function(a){_.isUndefined(a)&&(a="xod");if(!u.hasOwnProperty(a))throw Error('Document type "'+a+'" is not registered with CoreControls.Document');return function(d){return new u[a](d)}};m.Document.ks=function(a,d,c){if(_.isUndefined(a)||_.isUndefined(d))return!1;c&&c.forEach(function(a){m.Document.prototype[a]=function(){return this.v[a].apply(this.v,arguments)}});u[a]=d;return!0};m.Document.tY=
function(a){return u.hasOwnProperty(a)?(delete u[a],!0):!1};m.Document.prototype={ZA:function(){return this.type},xg:function(){return"blackbox"!==this.type?!1:this.v.xg.apply(this.v,arguments)},ni:function(a){return this.v.ni.apply(this.v,arguments)},lV:function(a){this.mq.NY(a)},mh:function(a){return this.v.mh.apply(this.v,arguments)},sp:function(a){return this.v.sp.apply(this.v,arguments)},Un:function(){return this.v.Un.apply(this.v,arguments)},DH:function(){return this.v.getBookmarks.apply(this.v,
arguments)},so:function(a){this.v.so.apply(this.v,arguments)},uo:function(){return this.v.uo.apply(this.v,arguments)},xb:function(){return this.v.xb.apply(this.v,arguments)},ic:function(){return this.v.ic.apply(this.v,arguments)},fm:function(a,d,c){return this.v.fm.apply(this.v,arguments)},fT:function(a,d,c,b){return c<=d?console.error("End index must be greater than start index"):this.Dh(a,function(a){a=a.me();var g=8*d,e=8*c;if(g>a.length||e>a.length)return console.error("Index out of bounds");
for(var f=[];g<e;g+=8)f.push({x1:a[g],y1:a[g+1],x2:a[g+2],y2:a[g+3],x3:a[g+4],y3:a[g+5],x4:a[g+6],y4:a[g+7]});b(f)})},Kv:function(a,d,c){return this.v.Kv.apply(this.v,arguments)},Jv:function(a,d,c){return this.v.Jv.apply(this.v,arguments)},getMetadata:function(){return{title:this.v.pe.title,creator:this.v.pe.creator,subject:this.v.pe.subject,keywords:this.v.pe.keywords,created:this.v.pe.created,modified:this.v.pe.modified,description:this.v.pe.description,producer:this.v.pe.producer}},pk:function(){return this.v.pk.apply(this.v,
arguments)},hm:function(a){return this.v.hm.apply(this.v,arguments)},qk:function(){return this.v.qk()},Rl:function(){return this.v.Rl.apply(this.v,arguments)},Or:function(a,d,c){var b=this;return this.v.loadAsync.call(this.v,a,function(a){if(!a)for(var c=b.Sb(),g=c.length,e=b.Ff(),f=0;f<g;++f)c[f].Eg(e);d(a);return b},c)},cw:function(a,d,c,b,g,e){return this.v.loadCanvasAsync.apply(this.v,arguments)},KU:function(a,d){this.Dh(a,function(a){d(a.Ya)})},Yz:function(a){return this.v.extractXFDF.apply(this.v,
arguments)},Sr:function(a){return this.v.Sr.apply(this.v,arguments)},EB:function(a,d){return this.v.loadThumbnailAsync.apply(this.v,arguments)},Cw:function(a){return this.v.Cw.apply(this.v,arguments)},Uw:function(a){return this.v.Uw.apply(this.v,arguments)},qg:function(){return this.v.qg.apply(this.v,arguments)},lp:function(a){return this.v.lp.apply(this.v,arguments)},qp:function(a,d){return this.v.qp.apply(this.v,arguments)},Mb:function(){this.mq.fd();this.Pn in this.v&&this.Pn.Mb();return this.v.Mb.apply(this.v,
arguments)},Lo:function(a,d){return this.v.Lo.apply(this.v,arguments)},Pr:function(a,d){return this.v.Pr.apply(this.v,arguments)},nm:function(){return this.v.nm.apply(this.v,arguments)},$j:function(a){return this.v.$j.apply(this.v,arguments)},vS:function(){return this.v.maxViewportZoom},uK:function(){var a=this.Ro.shift();this.v.J[a].text=null;delete this.mx[a]},qK:function(){for(var a=this.Ro.length-1;0<=a;--a)this.uK()},Dh:function(a,d){this.mx[a]?this.Ro.splice(this.Ro.indexOf(a),1):(this.Ro.length===
this.QN&&this.uK(),this.mx[a]=!0);this.Ro.push(a);var c=this;return this.v.loadTextData.call(this.v,a,function(b){d(b);c.mx[a]||(c.v.J[a].text=null)})},Qr:function(a){function d(a,c){return new Promise(function(d){a.loadTextData(c,function(){d()})})}var c=this;a=a.map(function(a){return d(c,a)});return Promise.all(a)},getFileData:function(a){return this.v.getFileData.apply(this.v,arguments)},yo:function(){return this.v.yo?this.v.yo.apply(this.v):null},ys:function(a,d){return this.v.ys?this.v.ys.apply(this.v,
arguments):null},jr:function(a){return this.v.jr?this.v.jr.apply(this.v,arguments):null},Ni:function(a,d,c){return this.v.Ni.apply(this.v,arguments)},tk:function(a,d){return this.v.tk.apply(this.v,arguments)},fj:function(a){return this.v.fj.apply(this.v,arguments)},yi:function(){return this.v.yi.apply(this.v,arguments)},jj:function(a,d){return this.v.jj.apply(this.v,arguments)},ph:function(a,d){return this.v.ph.apply(this.v,arguments)},ti:function(a,d,c,b,g){return this.v.ti.apply(this.v,arguments)},
wh:function(){return this.v.wh.apply(this.v,arguments)},Im:function(a){return this.v.Im.apply(this.v,arguments)},bx:function(a){return this.v.bx.apply(this.v,arguments)},Em:function(){return this.v.Em.apply(this,arguments)},get numPages(){return this.v.J.length},ld:function(a){return this.v.J[a].width},kd:function(a){return this.v.J[a].height},jc:function(a){return a>=this.xb()?(console.warn("Attempting to get page matrix for page "+(a+1)+" that doesn't exist."),null):this.v.J[a].Wa},ur:function(a){return this.v.ur.apply(this.v,
arguments)},wo:function(){return this.v.wo.apply(this.v,arguments)},vr:function(a){return this.v.J[a].rotation},MA:function(a){return this.v.J[a].text},rX:function(a,d){this.v.J[a].text=d},BS:function(a){return this.v.J[a].Bq},jI:function(a){return this.v.J[a].links},Sb:function(){var a=this;this.v.J.forEach(function(d){d.Eg(a.Ff())});return this.v.J},dc:function(){return this.v.dc},Dr:function(a,d,c){return this.v.Dr.apply(this.v,arguments)},Fk:function(a){this.v.Fk.apply(this.v,arguments)},jU:function(){return this.v.Ki},
Lm:function(a){this.v.Lm.apply(this.v,arguments)},Jk:function(){return this.v.Jk.apply(this.v,arguments)},$u:function(a){return this.v.$u.apply(this.v,arguments)},ov:function(){return this.v.ov.apply(this.v,arguments)},av:function(a,d){return this.v.av.apply(this.v,arguments)},Zl:function(a,d){return 0===a.length?[]:this.v.Zl.apply(this.v,arguments)},op:function(){return this.v.op()}};$.extend(m.Document.prototype,Object.create(b.Actions.Vh.prototype),b.utils.eventHandler);m.Sh=function(){throw Error("Cannot initialize BaseDocument");
};m.Sh.prototype={xg:d,$u:d,ov:d,av:d,ni:d,mh:d,sp:d,Un:d,DH:d,so:d,uo:d,xb:d,ic:function(a){var d={};d.width=this.J[a].width;d.height=this.J[a].height;return d},op:function(){return!0},Jk:function(){return!1},PW:function(a){this.cv=a},zi:function(a){this.cv&&this.cv(a)},fm:function(a,d,c){d={x:d,y:c};return this.J[a].Wa.inverse().W(d)},Kv:d,Jv:function(a,d,c){return this.J[a].Wa.W({x:d,y:c})},pk:d,hm:d,qk:d,Or:d,cw:d,Yz:d,Sr:d,EB:d,Cw:d,Uw:d,lp:d,qp:d,Mb:d,Lo:d,Pr:d,$j:d,nm:function(){return!1},
correctQuadsForPageRotation:function(a,d){var c=this.J[a],g=(4-c.rotation/90)%4;0!==g&&(c=b.Fd(1,g,c,{x:0,y:0},!1),d.uP(c))},Dh:d,yo:function(){return null},getFileData:d,Ni:d,fj:d,jj:d,yi:d,vs:d,ph:d,ti:d,Fk:function(){},print:function(){},ur:function(a){return String(a)},wo:function(){return _.range(0,this.J.length).map(String)},qg:d,wh:d,Im:d,bx:d,Tn:function(){for(var a=1,d=this.J.length,c=b.utils.getCanvasMultiplier(),c=c*c,g=0;g<d;++g)var e=this.J[g],a=Math.max(a,e.width*e.height*c);return Math.sqrt(43E5/
a)},ji:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90},Kl:function(a,d){var c=this.ji(a),b=d.w,g=d.cf;if(90===c||270===c)var e=b,b=g,g=e;switch(c){case 0:return c=-a.m_h,e=a.m_v,{x1:c,y1:e-g,x2:e-g,y2:e};case 90:return e=-a.m_h,c=-a.m_v,{x1:c,y1:e,x2:c+b,y2:e+g};case 180:return c=a.m_h,e=-a.m_v,{x1:c-b,y1:e,x2:c,y2:e+g};case 270:return e=a.m_h,c=a.m_v,{x1:c-b,y1:e-g,x2:c,y2:e}}return null},Lm:function(a){this.Sa=a},Rl:function(a,d,c,b){if(this.Sa&&this.Sa.shouldDrawOverAnnotations===
c){var g,e,f=this.J[d].width,m=this.J[d].height,h=a.getContext("2d");h.save();h.textAlign="center";h.textBaseline="top";a=(4-b)%4;if(c&&0!==a){switch(a){case 1:h.translate(0,f);break;case 2:h.translate(f,m);break;case 3:h.translate(m,0)}h.rotate(90*b*Math.PI/180)}b=function(a){var d=a.fontSize||20,c=a.fontFamily||"sans-serif";e=1.5*d;h.font=d+"pt "+c;h.fillStyle=a.color||"black";h.globalAlpha=(a.opacity||100)/100};c=function(a){var d=[""],c=0;a.split(" ").forEach(function(a){a.split("\n").forEach(function(a,
b,g){a&&(h.measureText(d[c]+a).width>=f/3&&(d[++c]=""),d[c]+=a+" ");b<g.length-1&&(d[++c]="")})});return d};this.Sa.diagonal&&(h.save(),b.call(this,this.Sa.diagonal),h.translate(f/2,m/2),h.rotate(-Math.atan(m/f)),this.Sa.diagonal.text&&(g=this.Sa.diagonal.text.split("\n"),g.forEach(function(a,d){h.fillText(a,0,(d-g.length/2)*e)})),h.restore());this.Sa.header&&(h.save(),b.call(this,this.Sa.header),a=function(a){a.forEach(function(a,d){h.fillText(a,0,d*e)})},h.translate(f/6,0),this.Sa.header.left&&
a(c(this.Sa.header.left)),h.translate(f/3,0),this.Sa.header.center&&a(c(this.Sa.header.center)),h.translate(f/3,0),this.Sa.header.right&&a(c(this.Sa.header.right)),h.restore());this.Sa.footer&&(h.save(),b.call(this,this.Sa.footer),b=function(a){a.forEach(function(d,c){h.fillText(d,0,(c-a.length)*e)})},h.translate(f/6,m),this.Sa.footer.left&&b(c(this.Sa.footer.left)),h.translate(f/3,0),this.Sa.footer.center&&b(c(this.Sa.footer.center)),h.translate(f/3,0),this.Sa.footer.right&&b(c(this.Sa.footer.right)),
h.restore());this.Sa.custom&&(h.save(),this.Sa.custom(h,d,f,m),h.restore());h.restore()}},AI:function(a){a=a||0;var d=this.ic(a),c=document.createElement("canvas");c.width=d.width;c.height=d.height;var b=c.getContext("2d");b.rect(0,0,d.width,d.height);b.fillStyle="rgba(255, 255, 255, 0.0)";b.fill();this.Rl(c,a);return c},Em:function(){return Promise.resolve()},lA:function(a,d){var c=this.Pn.OR(this.nv(d));return!c||c.numPages<a.length?this.cI(a,d):Promise.resolve(c)},Zl:function(d,c){for(var g=this,
e=d.length,f=[],m=this.lA(d,c),h=0;h<e;++h){var l=d[h],n=l.objnum+"-"+l.gennum;l.oP&&(n+="_"+l.oP);l.rP&&(n+="-"+l.rP);f.push(Promise.all([n,l.blendMode,m]).then(function(d){var e=d[0],f=d[1],m=d[2];if(e in m.hB){var h=m.hB[e];return new Promise(function(d,e){var v=g.J[c-1],l=a(h,1,0,function(){}),n=_.uniqueId(),k={};k[n]={Nf:null,paused:!1,Jb:l.pageIndex};m.Pr(l.pageIndex,n,function(a,c){a&&e(Error("Error loading page "+l.pageIndex+": "+a));_.isUndefined(k[n])||(k[n].Nf=c,k[n].paused&&c.pause(),
l.finishedLoading(a,c)&&c.DB(function(){d({draw:function(a,d){var c=this;return new Promise(function(g){var e=a.getTransform(),m=new XODText.Matrix2D,h=b.asc(v.Wa)/1.33333;m.Ba(h,0,0,h,d.x,d.y);e.concat(m);a.translate(d.x,d.y);a.scale(h,h);"multiply"===f&&(a.globalAlpha=.5);c.Nf.XG(a,e,g)})},Nf:c})},void 0,!0))})})}throw Error("No matching annotation in appearance document.");}))}return f},dP:function(a){this.J||(this.J=[]);this.J.push(a)},vo:function(a){return this.J[a]}};var r=0;m.We=function(a){this.tn=
this.Va=null;this.In=new b.mf.kt;this.id=a;this.ow=!1;this.gf=null;this.Pd={};this.MB=_.bind(this.MB,this);this.gv=null;this.Xf=1;this.we={};this.Sa=null;this.dc=Promise.resolve();this.hB={};this.Pn=new m.Lx(10,400);this.la=(++r).toString(16)};m.We.prototype=Object.create(m.Sh.prototype);m.We.prototype.constructor=m.We;m.Document.ks("xod",m.We);$.extend(m.We.prototype,{Zf:"Document/FixedDocument.fdoc",Pg:"Document/DocProps/core.xml",Yf:"Document/Structure/DocStruct.struct",DM:"Struct/font.xml",SN:"Struct/",
RN:"Text/",loadAsync:function(a,d){this.Va=a;this.Af=[];this.pe={};this.J=[];this.Cd={};this.Cd[this.Zf]=0;this.Cd[this.Pg]=0;this.Cd[this.Yf]=0;this.Va.ij()&&(this.Ck={});var c=this;a.bind("partReady",this.MB);this.bind("documentReady",function(a){1.5>c.Xf&&c.GO();d(a)});a instanceof b.o.V.Zp?(this.ow=!0,this.hm(function(){a.db=c.gf;a.Dm(d)})):a.Dm(d)},extractXFDF:function(a){if(1!==a.length)throw Error("XOD Document does not support extracting XFDF for multiple input pages");var d=this,c=a[0]-1;
return new Promise(function(a){function g(a){var d="",c=0,b,e,f,m=-1;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));c<a.length;)b=a.charCodeAt(c),128>b?(0>m&&(m=c),c++):(0<=m&&(d+=a.substring(m,c),m=-1),191<b&&224>b?(e=a.charCodeAt(c+1),d+=String.fromCharCode((b&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),d+=String.fromCharCode((b&15)<<12|(e&63)<<6|f&63),c+=3));0===m?d=a:0<=m&&(d+=a.substring(m,c));return d}if(1.5<=d.Xf){var e=d.J[c].nM;d.Ka.If("Annot/Annots"+
(e.index?e.index:"")+".xfdf",function(c){c=g(c.data);d.J[0].Bq=c;a({xfdfString:c,pages:_.range(e.start,e.end)})})}else d.Ka.If("Annots.xfdf",function(c){c=g(c.data);d.J[0].Bq=c;var e=b.Annotations.ca.Ar(c);d.ZE(e);a({xfdfString:c,parsedData:e,pages:_.range(1,d.J.length+1)})})})},Pr:function(a,d,c){var g=this;if(!this.Ka)throw Error("Document is not initialized!");1.2===this.Xf&&(this.Ka.qw=!0);this.Ka.LA(a,d,function(d,e){var f=g.J[a],m=null;e&&(m=new b.mf.zN(f,e,g.In));c(d,m)})},Lo:function(a,d){if(!this.Ka)throw Error("Document is not initialized!");
return this.Ka.If(a,d)},JU:function(a){var d=this;null===d.gv?d.Lo(d.DM,function(c){if(c.error)throw Error("SELECT: Error getting part "+c.sa+": "+c.error);var b=new XODText.Tx(d.la);b.iC(c.data);d.gv=b.fA;a(d.gv)}):a(d.gv)},loadTextData:function(a,d){var c=this;null!==c.J[a].text?d(c.J[a].text):a in c.we?c.we[a].push(d):(c.we[a]=[d],1.4>c.Xf?c.Lo(c.RN+(a+1)+".xml",function(d){if(d.error)throw Error("SELECT: Error getting part "+d.sa+": "+d.error);var b=new XODTextOld.ye;b.UT(d.data);d=new XODText.ye;
d.cs({m_Struct:b.fb,m_Str:b.Ya,m_Offsets:b.Xc,m_Quads:b.La,m_Ready:b.nd});c.correctQuadsForPageRotation(a,d);c.J[a].text=d;c.we[a].forEach(function(a){a(b)});delete c.we[a]}):c.JU(function(d){c.Lo(c.SN+(a+1)+".xml",function(b){var g=new XODText.ye,e=new XODText.Matrix2D;e.Ba(1,0,0,1,0,0);var f=new XODText.kn(d);c.Ka.hI(a,function(d){function m(){return d.Po().then(function(){if(!d.run(f,e))return m()})}m().then(function(){g.iC(b.data,f);c.correctQuadsForPageRotation(a,g);c.J[a].text=g;c.we[a].forEach(function(a){a(g)});
delete c.we[a]})["catch"](function(a){console.warn("Custom Canvas has encountered an error: "+a.message)})})})}))},nm:function(){return 1.2>=this.Xf},pk:function(){return this.Do||0<this.Wr},loadCanvasAsync:function(d,c,b,g,e,f){var m=this,h=a(d,c,b,g,e,f),l=_.uniqueId();m.Pd[l]={Nf:null,paused:!1,Jb:h.pageIndex};m.Pr(h.pageIndex,l,function(a,d){if(a)throw Error("Error loading page "+h.pageIndex+": "+a);_.isUndefined(m.Pd[l])||(m.Pd[l].Nf=d,m.Pd[l].paused&&d.pause(),h.finishedLoading(a,d)&&d.DB(function(){h.resourcesLoaded()&&
d.fQ(h.getZoom(),h.getPageRotation(),function(a){h.drawComplete(a,h.pageIndex)},function(a){m.Rl(a,h.pageIndex);h.drawProgressive(a,h.pageIndex)},h.canvasNum,h.getPageTransform(),h.renderRect,h.useProgress,h.pageCanvas)},void 0,h.acquireResources()))});return l},Cw:function(a){if(a=this.Pd[a])a.paused=!0,a.Nf&&a.Nf.pause()},Uw:function(a){if(a=this.Pd[a])a.paused=!1,a.Nf&&a.Nf.resume&&a.Nf.resume()},sp:function(a){this.mh(a)},mh:function(a){var d=this.Pd[a];d&&(this.Kq(d.Jb,a),d=d.Nf)&&(d.Mb(),d.abort&&
d.abort());this.$j(a)},$j:function(a){delete this.Pd[a]},yG:function(){return"t"+_.uniqueId()},uU:function(a){return _.isString(a)&&0<a.length&&"t"===a[0]},loadThumbnailAsync:function(a,d){if(!this.Ka)throw Error("Document is not initialized!");var c=this,g;if(this.Do||this.Wr>a)g=c.yG(),this.Ka.XA(a,g,function(a){var g=new Image,e;e=a.data;k&&c.Va instanceof k?e=c.Va.path+e:(a=a.sa.match(/\.([a-zA-Z]+)$/)[1].toLowerCase(),e=b.o.DA(a,e));g.onload=function(){g.src.startsWith("data")||URL.revokeObjectURL(g.src);
d(g);g=g.onload=null};g.src=e},name);else{var e=this.J[a];g=this.loadCanvasAsync({pageIndex:a,zoom:e.width>e.height?150/e.width:150/e.height,drawComplete:function(a){a.style.backgroundColor="white";c.sp(g);d(a)},pageCanvas:!0})}return g},hm:function(a){if(null===this.gf){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=b.top.location.href;for(var d=b.top.location.hash.substring(1).split("&"),c=0;c<d.length;c++){var g=d[c].split("=");if("d"===g[0]){this.id=g[1];break}}}var e=this;this.gf=new b.o.iN(this.id);
this.gf.open(a,function(a){e.gf=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),a()},qp:function(a,d){function c(a){g.Va.lz(a)}if(!this.Ka)throw a(),Error("Document is not initialized!");if(!this.gf)throw a(),Error("Offline DB is not initialized!");if(this.Va instanceof b.o.V.Zp)throw a(),Error("Can't download file while in offline mode!");var g=this;g.Va.OA(function(b){g.gf.dY(g.Ka,b,!!g.Va.decrypt,a,d,c)})},qk:function(){if(!this.gf)throw Error("Offline DB is not initialized!");
return this.gf.qk()},Un:function(){if(!this.gf)throw Error("Offline DB is not initialized!");this.gf.MP()},uo:function(){return this.ow},lp:function(a){if(!this.gf)throw Error("Offline DB is not initialized!");this.ow!==a&&(!(this.ow=a)||this.tn instanceof b.o.V.Zp||(this.tn=new b.o.V.Zp(this.gf,this.Va.decrypt,this.Va.Nl),this.tn.bind("partReady",this.Ka.uw)),this.TC())},TC:function(){if(null!==this.tn){var a=this.tn;this.tn=this.Va;this.Va=a;this.Ka.be=this.Va}},Kq:function(a,d){if(!this.Ka)throw Error("Document is not initialized!");
this.Ka.Jq(a,d)},ni:function(a){this.uU(a)?this.Ka.NP(a):this.mh(a)},MB:function(a){if(a.error)return this.Cd[a.sa]=3,this.wE();var d;d=this.Va.decrypt?this.Va.EG?this.Va.decrypt(a.data,this.Va.Nl,a.sa):b.o.Wh.JG(a.data,this.Va.Nl,a.sa):a.data;d=b.kk(d);this.Va.ij()&&(this.Ck[a.sa]={data:d,Gb:a.Gb},this.Va.decrypt&&(this.Ck[a.sa].kR=a.data));a.Gb&&(d=h.inflate(d));switch(a.sa){case this.Zf:d=new b.Ve(d);d.oa();d.advance();a=d.K("JPGThumbs");this.vB="true"===a;a=d.K("IncludesThumbs");this.Do=null===
a||"false"!==a;!this.Do&&(a=d.K("NumLeadingThumbs"))&&(a=parseInt(a,10),a=isNaN(a)?0:a,this.Wr=Math.max(a,0));a=d.K("Version");this.Xf=parseFloat(a);if(1.2>this.Xf)throw this.Cd[this.Zf]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");if(1.5<this.Xf)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");a=1.5<=this.Xf;var c,g;a&&(g=d.K("DefaultMatrix").split(","),
c=new XODText.Matrix2D,c.Ba(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3]),parseFloat(g[4]),parseFloat(g[5])),g=this.ji(c));this.Cd[this.Zf]=1;for(var e={index:0,start:1},f=1;d.advance();){var m=d.va();if("PageContent"===m){m=new b.$k(parseFloat(d.K("Width")),parseFloat(d.K("Height")));m.ps=["Pages/"+f+".xaml","Annot/"+f+".xml","Pages/_rels/"+f+".xaml.rels"];m.nM=e;var l=d.K("trn:Id");l&&(m.offsetX=parseFloat(d.K("trn:X")),m.offsetY=parseFloat(d.K("trn:Y")),this.hB[l]=this.J.length);
this.J.push(m);if(a){(m=d.K("trn:Matrix"))?(l=m.split(","),m=new XODText.Matrix2D,m.Ba(parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[4]),parseFloat(l[5])),l=this.ji(m)):(m=c,l=g);var n=f-1,k=this.Kl(m,{w:this.J[n].width,cf:this.J[n].height});m.Ba(4/3,0,0,-4/3,-k.x1,k.y2);this.J[n].Wa=m;this.J[n].rotation=l}++f}else if("trn:AnnotRef"===m)e.end=f,e={index:e.index+1,start:f};else throw Error("Unsupported XOD document element type: "+m);}e.end=f;this.Do&&(this.Wr=this.J.length);
this.maxViewportZoom=this.Tn();break;case this.Pg:this.Cd[this.Pg]=1;d=new b.Ve(d);d.oa();for(this.pe={};d.advance();)c=d.va().split(":"),this.pe[1===c.length?c[0]:c[1]]=d.current.textContent;break;case this.Yf:this.Cd[this.Yf]=1;this.Af=[];d=new b.Ve(d);d.oa();d.advance();d.oa();d.advance();d.oa();e=0;for(f=null;d.advance();){c=parseInt(d.K("OutlineLevel"),10);g=new b.CoreControls.Bookmark;g.children=[];g.name=a.Gb?b.utils.utf8_decode(d.K("Description")):d.K("Description");if(e<c)g.parent=f;else for(g.parent=
f.parent;e>c;)g.parent=g.parent.parent,--e;g.wp=d.K("trn:Vpos");g.wp=null===g.wp?0:parseFloat(g.wp);g.Go=d.K("trn:Hpos");g.Go=null===g.Go?0:parseFloat(g.Go);e=d.K("OutlineTarget").split("#");1===e.length||0===e[1].length?g.url=e[0]:g.Of=parseInt(e[1],10);null!==g.parent?g.parent.children[g.parent.children.length]=g:this.Af[this.Af.length]=g;e=c;f=g}break;default:if(this.Cd[this.Zf])return this.Cd[this.Pg]=this.Cd[this.Pg]||2,this.Cd[this.Yf]=this.Cd[this.Yf]||2,this.BE(a)}this.wE()},getBookmarks:function(){return Promise.resolve(this.Af)},
so:function(a){return 1.2===this.Xf?this.J[a].Bq:this.J[a].links},xb:function(){return this.J.length},fm:function(a,d,c){d={x:d,y:c};return this.J[a].Wa.inverse().W(d)},Kv:function(a,d,c){return this.J[a].Wa.W({x:d,y:c})},Mb:function(){var a="i"+this.la+"-",d="f"+this.la+"-";if(document.fonts)for(var c in b.Vg)c.startsWith(d)&&(b.Vg[c].remove(),delete b.Vg[c]);for(var g in b.ci)g.startsWith(a)&&delete b.ci[g];_.isEmpty(b.Vg)&&(a=b.kf.FontFace.prototype.SC,null!==a&&(document.head.removeChild(a),b.kf.FontFace.prototype.styleSheet=
null,b.kf.FontFace.prototype.SC=null));this.In=new b.mf.kt;this.Va instanceof b.o.V.PD&&this.Va.abort();this.Ft()},Ft:function(){this.Va.unbind("partReady");this.Ka&&this.Ka.Mb();this.Ka=new b.o.V.eN(this.Va,this.J,this.In,this.la);this.Ka.vB=this.vB},wE:function(){this.Cd[this.Zf]&&this.Cd[this.Pg]&&this.Cd[this.Yf]&&this.BE()},BE:function(a){this.Ft();if(this.Va.ij()){for(var d in this.Ck)this.Ka.cache.setItem(d,this.Ck[d].data,this.Ck[d].Gb),this.Va.decrypt&&this.Ka.Tl.setItem(d,this.Ck[d].kR,
this.Ck[d].Gb);delete this.Ck}this.trigger("documentReady",3===this.Cd[this.Zf]);a&&this.Va.trigger("partReady",a)},GO:function(){var a=new XODText.Matrix2D;a.Ba(4/3,0,0,-4/3,0,this.J[0].height);for(var d=this.J.length,c=0;c<d;++c)this.J[c].Wa=a,this.J[c].rotation=0},ZE:function(a,d){for(var c=this.J.length,b=this.J.map(function(a,d){return{before:{Wa:a.Wa,Ma:d+1},after:{pageNum:d+1}}}),g=0;g<c;++g)this.J[g].Wa=null;if(a&&a.querySelector("xfdf > pages")){for(var e=a.querySelector("xfdf > pages"),
f,m,h,g=0;g<e.childNodes.length;++g){var l=e.childNodes[g].localName;if(l&&(h=e.childNodes[g],"defmtx"===l&&(m=h.getAttribute("matrix").split(","),f=new XODText.Matrix2D,f.Ba(parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]),parseFloat(m[4]),parseFloat(m[5])),m=this.ji(f)),"pgmtx"===l)){l=parseInt(h.getAttribute("page"),10);h=h.getAttribute("matrix").split(",");var n=new XODText.Matrix2D;n.Ba(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]),parseFloat(h[4]),parseFloat(h[5]));
var k=this.ji(n);h=this.Kl(n,{w:this.J[l].width,cf:this.J[l].height});this.J[l].rotation=k;n.Ba(4/3,0,0,-4/3,-h.x1,h.y2);this.J[l].Wa=n}}for(g=0;g<c;++g)null===this.J[g].Wa&&(e=new XODText.Matrix2D,h=this.Kl(f,{w:this.J[g].width,cf:this.J[g].height}),e.Ba(4/3,0,0,-4/3,-h.x1,h.y2),this.J[g].Wa=e,this.J[g].rotation=m)}if(!d){var u=this;b.forEach(function(a,d){a.after.matrix=u.J[d].Wa});this.zi({type:"pagesDiff",data:b})}},nv:function(a){return this.J[a-1].nM.index},cI:function(a,d){if(1.5>this.Xf)return Promise.reject("getAppearanceReferences: XOD with version less than 1.5 has no appearances");
var c=this,g=this.nv(d);new m.We;var f="Annot/Appearances"+(g||"")+".xod",h;h=new Promise(function(a,d){b.FileReader||d("This browser does not support FileReader");c.Ka.If(f,function(c){c.error?d(c.error):a(e(b.xI(c.data)))})});this.Pn.aG(g,h);return h},op:function(){return!this.nm()}});m.Wb=function(){this.Af=[];this.pe={};this.J=[];this.zw={};this.Do=!1;this.Wr=0;this.Li={};this.we={};this.la=null;this.RJ=2;this.RK=!1;this.te=[];this.Sa=null;this.Pn=new m.Lx(10,400)};m.Wb.prototype=Object.create(m.Sh.prototype);
m.Wb.prototype.constructor=m.Wb;m.Document.ks("pdf",m.Wb);$.extend(m.Wb.prototype,{Hp:function(a){var d=new b.$k(a.width,a.height);d.Wa=new XODText.Matrix2D;a=a.matrix;d.Wa.Ba(a[0],a[1],a[2],a[3],a[4],a[5]);a=this.ji(d.Wa);d.Wa=this.rs({w:d.width,cf:d.height});d.rotation=a;return d},rs:function(a,d){var c=new XODText.Matrix2D;c.Ba.apply(c,a);var b=this.Kl(c,d);c.Ba(1,0,0,-1,-b.x1,b.y2);return c},bA:function(a,d){var c=this;c.tV||c.XF({pageDimensions:a});c.dc=new Promise(function(a){c.bind("documentComplete",
function(){c.unbind("documentComplete");a()})});c.maxViewportZoom=c.Tn();c.Ki||c.trigger("documentComplete");d();setTimeout(this.AP.bind(this),0)},AP:function(){var a=this;a.za.addEventListener(a.la,function(d){a.fs(d)})},aI:function(a,d){var c=createPromiseCapability(),b=new XMLHttpRequest;b.open("GET",a.url);b.withCredentials=d;var g=a.customHeaders;if(g)for(var e in g)b.setRequestHeader(e,g[e]);b.setRequestHeader("Range","bytes=1-200");b.responseType="arraybuffer";b.onreadystatechange=function(){if(this.readyState===
this.DONE)if(b.response){var a=b.response.byteLength;206!==b.status&&200!==b.status?c.reject({message:"Received http error code "+b.status}):200!==a&&c.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(b.response)});var a=new Uint8Array(b.response),d=[76,105,110,101,97,114,105,122,101,100],g=b.getResponseHeader("Content-Range")||b.getResponseHeader("content-range");if(g){var g=g.split("/")[1],e=0;do{a:{for(var f=a.length;e<f;++e)if(a[e]===d[0])break a;e=-1}e+=1;if(!e)break;
for(f=1;10>f;++f)if(a[e]===d[f])++e;else break;if(10===f){d={size:parseInt(g,10)};e=String.fromCharCode.apply(null,a);a=e.match(/__trnPrStart (\d+)/);g=e.match(/__trnPrSize (\d+)/);e=e.match(/__trnPrTotalBytes (\d+)/);a&&g&&e&&(d.Vo=parseInt(a[1],10),d.dC=parseInt(g[1],10),d.JV=parseInt(e[1],10));c.resolve(d);return}}while(0!==e);c.reject({message:"The file is not linearized."})}else c.reject({message:"Could not retrieve Content-Range header."})}else c.reject({message:"No response data"})};b.onerror=
function(){c.reject({message:"Network or Cross Domain Access Error."})};b.send();return c.promise},loadAsync:function(a,d,c){function g(a){q.Af=[];q.pe={};q.Do=!1;q.Wr=0;q.Ki=!1;q.bind("documentReady",d);var c,b;r.then(function(d){q.za=d;d="object"===typeof a&&"url"in a;var g;if(g=p){g=p;var e=Object.prototype.toString.call(g);g="object"===typeof g&&null!==g&&("[object File]"===e||"[object Blob]"===e)}g&&q.za&&"ems"===q.za.getWorkerType()?(c="file",b=p):d?(c="url",b=a,q.Ki=!0):"string"===typeof a?
(c="filepath",b=a):"object"===typeof a&&null!==a&&void 0!==a.byteLength?(c="array",b=a.buffer):"object"===typeof a&&"type"in a&&"id"===a.type?(c="id",b=a.id):console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");h({type:c,value:b,extension:n,defaultPageSize:k,pageSizes:u})})}function e(a,d){console.warn("Could not use incremental download for url "+a+". Reason: "+d)}function f(a){I=a;q.za.DY(q.la,a).then(function(a){a.success?m(a.pageDimensions):l(f)})}
function m(c){q.Ki?q.za.iU(q.la).then(function(b){b?(q.bA(c,d),a.trigger("documentLoadingProgress",[1,1])):(e(p.url,"Linearization data is invalid."),q.Mb(),a.getFileData(g))}):q.bA(c,d)}function h(a){q.za.qR(a).then(function(a){q.la=a.docId;m(a.pageDimensions)},function(a){"NeedsPassword"===a.type&&l?(q.la=a.docId,I?f(I):l(f)):(q.dc=Promise.reject(a),d(a))})}this.Va=a;var l=c.getPassword,n=c.extension,k=c.defaultPageSize,u=c.pageSizes,r=c.workerTransportPromise,q=this,p=a.getFile();if(b.utils.isJSWorker&&
b.jsworker)p=b.jsworker.worker.getPlatformFormatFilePath(p),g(p);else if(p&&p.url)this.aI(p,a.withCredentials).then(function(d){p.size=d.size;p.withCredentials=-1===p.url.indexOf(window.location.hostname)?a.withCredentials:!0;g(p)},function(d){e(p.url,d.message);var c;try{c=window.parent.cordova}catch(b){c=!1}d.data&&!c?g(d.data):a.getFileData(g)});else if(p){c=r.then(function(a){return a.Gq});var N=b.o.sS();Promise.race([c,N]).then(function(d){"pnacl"===d?a.getFileData(g):g(p)})}else a.getFileData(g);
var I=null},XF:function(a){var d=this;d.tV=!0;a=a.pageDimensions;for(var b=Object.keys(a),g=this.J,e=Array(g.length),f=0;f<g.length;++f){var m=g[f];m.text&&(e[f]=m.text)}this.J.length=0;var h=this.zw,l=[],n={};b.forEach(function(b){var f=a[b],m=!!f.contentChanged,f={width:Math.round(f.width),height:Math.round(f.height),matrix:d.rs(f.matrix,{w:f.width,cf:f.height}),rotation:90*f.rotation,id:f.id,pageNum:b,contentChanged:m};h[f.id]&&l.push({before:h[f.id],after:f});h[f.id]=new c(f.width,f.height);var k=
h[f.id];k.$K(f);!m&&(m=e[b-1])&&(k.text=m);g[b-1]=k;n[f.id]=!0});this.maxViewportZoom=this.Tn();Object.keys(h).forEach(function(a){a in n||delete h[a]});return l},fs:function(a){switch(a.type){case "pagesUpdated":(a=this.XF(a.data))&&0<a.length&&(this.zi({type:"pagesDiff",data:a}),this.zi({type:"pagesUpdated",data:a.map(function(a){return a.after})}));break;case "bookmarksUpdated":this.zi({type:"bookmarksUpdated",data:a.data});break;case "documentComplete":this.trigger("documentComplete");this.zi({type:"documentComplete",
data:a.data});break;default:console.warn("Unknown event type: ",a.type)}},getBookmarks:function(){function a(d){var c=[];d.children.forEach(function(b){b.parent=d;c.push(a(b))});return new m.jf(c,d.name,d.pageNumber,d.parent,d.verticalOffset,d.horizontalOffset,d.url)}return this.za.GU(this.la).then(function(d){var c=[];d.bookmarks.forEach(function(d){c.push(a(d))});return c})},loadTextData:function(a,d){var c=this;null!==c.J[a].text?d(c.J[a].text):a in c.we?c.we[a].push(d):(this.Em(a+1).then(function(){c.za.Dh(c.la,
a).then(function(d){var b=new XODText.ye;b.cs({m_Struct:d.struct,m_Str:d.str,m_Offsets:d.offsets,m_Quads:d.quads,m_Ready:!0});c.correctQuadsForPageRotation(a,b);c.J[a].text=b;c.we[a].forEach(function(a){a(b)});delete c.we[a]},function(a){console.warn("Text generation failed: "+(a&&a.message?a.message:a))})}),c.we[a]=[d])},extractXFDF:function(a){return this.za.EU(this.la,a).then(function(d){d.pages=a;return d})},Sr:function(a){return this.za.Sr(this.la,a)},iD:function(a){var d=this;return new Promise(function(c){var b=
d.AI(a),g=new FileReader;g.onload=function(a){c(a.target.result)};b.toBlob(function(a){g.readAsArrayBuffer(a)})})},oR:function(a,d){if(a.byteLength!==d.byteLength)return!1;for(var c=new Int8Array(a),b=new Int8Array(d),g=0;g!==a.byteLength;g++)if(c[g]!==b[g])return!1;return!0},BI:function(a){var d=this;return new Promise(function(c,b){if(d.Sa){var g=a.length,e=[];if(d.Sa.hasOwnProperty("custom")){for(var f=0;f<g;f++)e.push(d.iD(a[f]));Promise.all(e).then(function(a){var b={},e=a[0];b["default"]=e;
for(var f=1;f<g;f++){var m=a[f];d.oR(m,e)||(b[f.toString()]=m)}c(b)})}else{var m=a[0],f=d.ic(m),h=f.width,l=f.height;e.push(d.iD(m));for(var n=["default"],f=1;f<g;f++){var m=a[f],k=d.ic(m);if(h!==k.width||l!==k.height)n.push(f.toString()),e.push(d.iD(m))}Promise.all(e).then(function(a){for(var d={},b=0;b<n.length;b++)d[n[b]]=a[b];c(d)})}}else b("no watermark for this doc")})},getFileData:function(a){var d=this;a=a||{};"finishedWithDocument"in a||(a.finishedWithDocument=!1);"printDocument"in a||(a.printDocument=
!1);a.docId=d.la;if("filePath"in a)return d.dc.then(function(){return d.za.vW(a)});var c=_.range(0,this.xb()),b=d.BI(c);return d.dc.then(function(){return b}).then(function(c){a.watermarks=c;return d.za.JK(a)},function(){return d.za.JK(a)}).then(function(a){return a.fileData})},xb:function(){return this.J.length},RI:function(a,d,c,g,e,f,m,h){var l=this,n=b.o.Ym===b.o.Ym.rt;if(n){d=b.innerWidth;c=b.innerHeight;var k=b.utils.getCanvasMultiplier(),u={x:m.x,y:m.y};b.Fd(g.So,g.Ak,{x1:g.page.x1,x2:g.page.x2,
y1:g.page.y1,y2:g.page.y2,width:g.page.width,height:g.page.height},u,!0,k);u.x=u?Math.round(u.x):0;u.y=u?Math.round(u.y):0;k=b.o.pa.Ih;b.o.pa.Jn(k,d,c);var r=u.x>=k.width/2;console.log("imagePathReceived for: "+a);console.log("tCanvas.width: "+k.width);console.log("translation.x: "+u.x);console.log("isRightPage: "+r);"undefined"===typeof l.Mr&&(l.Mr=!1);if(r&&!l.Mr){l.Qz=function(){var d=b.o.pa.Hk(g.page,g.So,g.Ak,m,f,h).canvas,c=m?Math.round(m.x):0,l=m?Math.round(m.y):0;console.log("Drawing: "+a);
var n=new Image;$(n).css("width",g.WB);$(n).css("height",g.VB);var k=a;0!==k.indexOf("file://")&&(k="file://"+k);n.onload=function(){var a=d.getContext("2d");a.setTransform(1,0,0,1,0,0);a.drawImage(n,c,l);e||$(d).addClass("progressive");g.Xq(d);e&&g.Wq(d);n=null;b.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+k),b.jsworker.worker.deleteGeneratedImageRenderFile(k))};n.src=k};return}}var q=b.o.pa.Hk(g.page,g.So,g.Ak,m,f,g.od,h).canvas,p=m?Math.round(m.x):0,N=m?Math.round(m.y):
0;console.log("Drawing: "+a);var I=new Image;$(I).css("width",g.WB);$(I).css("height",g.VB);var D=a;0!==D.indexOf("file://")&&(D="file://"+D);I.onload=function(){var a=q.getContext("2d");a.setTransform(1,0,0,1,0,0);a.drawImage(I,p,N);e||$(q).addClass("progressive");g.Xq(q);e&&g.Wq(q);I=null;b.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+D),b.jsworker.worker.deleteGeneratedImageRenderFile(D));n&&(r?l.Mr=!1:(l.Mr=!0,"function"===typeof l.Qz&&(l.Qz(),l.Qz=void 0,l.Mr=!1)))};
I.src=D},qU:function(a){if("Alpha"===a.name)return!0;for(var d=0;d<this.te.length;++d)if(this.te[d].name===a.name)return this.te[d].enabled;d=Array(3);this.QL(a.color,d);a={color:a.color,name:a.name,rgb:d,enabled:!0};this.te.push(a);this.zi({type:"colorSeparationAdded",data:a});return!0},wa:function(a,d){var c=a*d+128;return(c>>8)+c>>8},kb:function(a,d,c){a=a*d+128;a=((a>>8)+a>>8)+c;return 255>a?a:255},QL:function(a,d){var c=a[0],b=a[1],g=a[2],e=a[3],f=c<<24|b<<16|g<<8|e,m=n[f];if(m)d[0]=m[0],d[1]=
m[1],d[2]=m[2];else{var m=255-c,h=255-b,l=255-g,k=255-e,u=this.wa(this.wa(this.wa(m,h),l),k),r=u,q=u,p=u,u=this.wa(this.wa(this.wa(m,h),l),e),r=this.kb(35,u,r),q=this.kb(31,u,q),p=this.kb(32,u,p),u=this.wa(this.wa(this.wa(m,h),g),k),r=this.kb(255,u,r),q=this.kb(242,u,q),u=this.wa(this.wa(this.wa(m,h),g),e),r=this.kb(28,u,r),q=this.kb(26,u,q),u=this.wa(this.wa(this.wa(m,b),l),k),r=this.kb(236,u,r),p=this.kb(140,u,p),u=this.wa(this.wa(this.wa(m,b),l),e),r=this.kb(36,u,r),u=this.wa(this.wa(this.wa(m,
b),g),k),r=this.kb(237,u,r),q=this.kb(28,u,q),p=this.kb(36,u,p),u=this.wa(this.wa(this.wa(m,b),g),e),r=this.kb(34,u,r),u=this.wa(this.wa(this.wa(c,h),l),k),q=this.kb(173,u,q),p=this.kb(239,u,p),u=this.wa(this.wa(this.wa(c,h),l),e),q=this.kb(15,u,q),p=this.kb(36,u,p),u=this.wa(this.wa(this.wa(c,h),g),k),q=this.kb(166,u,q),p=this.kb(80,u,p),u=this.wa(this.wa(this.wa(c,h),g),e),q=this.kb(19,u,q),u=this.wa(this.wa(this.wa(c,b),l),k),r=this.kb(46,u,r),q=this.kb(49,u,q),p=this.kb(146,u,p),u=this.wa(this.wa(this.wa(c,
b),l),e),p=this.kb(2,u,p),u=this.wa(this.wa(this.wa(c,b),g),k);d[0]=this.kb(54,u,r);d[1]=this.kb(54,u,q);d[2]=this.kb(57,u,p);n[f]=[d[0],d[1],d[2]]}},MN:function(a,d,c){a[0]=Math.min(this.wa(d[0],c)+a[0],255);a[1]=Math.min(this.wa(d[1],c)+a[1],255);a[2]=Math.min(this.wa(d[2],c)+a[2],255);a[3]=Math.min(this.wa(d[3],c)+a[3],255)},xN:function(a,d,c,b){var g=this;return new Promise(function(e){for(var f,m=[],h=[],l=new Uint8ClampedArray(d*c*4),n=0,k=0;k<a.length;++k)"Alpha"!==a[k].name?(h.push(a[k].color),
m.push(new Uint8Array(a[k].data)),++n):f=new Uint8Array(a[k].data);g.kw(0,d,c,Math.ceil(1E5/d),[0,0,0,0],n,Array(3),h,m,l,f,b,e)})},kw:function(a,d,c,b,g,e,f,m,h,l,n,k,u){for(var r=Math.min(a+b,c);a<r;++a)for(var q=a*d,p=4*q,I=0;I<d;++I){g[0]=0;g[1]=0;g[2]=0;for(var D=g[3]=0;D<e;++D)this.MN(g,m[D],h[D][q+I]);this.QL(g,f);D=p+4*I;l[D]=f[0];l[D+1]=f[1];l[D+2]=f[2];l[D+3]=n[q+I]}a<c?(a=setImmediate(this.kw.bind(this,a,d,c,b,g,e,f,m,h,l,n,k,u)),k&&(this.Li[k.id]=a)):u(l)},FP:function(a,d,c,b){for(var g=
a.length-1;0<=g;--g)this.qU(a[g])||a.splice(g,1);return this.xN(a,d,c,b)},Gu:function(a,d,c,g,e,f,m,h){function l(f){function m(){e||$(k).addClass("progressive");g.page&&n.Rl(k,g.page.Ma-1);g.Xq(k);e&&g.Wq(k,{data:a,width:d,height:c});e&&delete n.Li[g.id]}if(b.utils.supportsImageDataConstructor){var h=new b.ImageData(f,d,c);q.putImageData(h,u,r,0,0,d,c);m()}else{var p=Math.ceil(1E6/d),x=c,y=q.createImageData(d,Math.min(p,c)),F=0,P=function(){var a=Math.min(p,x),b=c-x,h=a*d*4;y.data.set(f.subarray(F,
F+h));F+=h;q.putImageData(y,u,r+b,0,0,d,a);x-=a;0===x?m():(a=setImmediate(P),e&&(n.Li[g.id]=a))};P()}}var n=this,k=g.Tz?g.Tz:b.o.pa.Hk(g.page,g.So,g.Ak,m,f,g.od,h).canvas,u=m&&0<m.x?Math.round(m.x):0,r=m&&0<m.y?Math.round(m.y):0,q=k.getContext("2d");a.length?this.FP(a,d,c,e?g:null).then(l):l(new Uint8ClampedArray(a))},loadCanvasAsync:function(d,c,g,e,f,m){var h=this,l=a(d,c,g,e,f,m),n=l.pageIndex;d=l.getZoom();g=l.getPageRotation();c=l.renderRect;f=g===b.o.Ga.je||g===b.o.Ga.$e;var k=b.utils.getCanvasMultiplier(),
u=l.getPageTransform();"undefined"===typeof c?(e=(f?h.J[n].height:h.J[n].width)*d,f=(f?h.J[n].width:h.J[n].height)*d):(e=(f?c.y2-c.y1:c.x2-c.x1)*d,f=(f?c.x2-c.x1:c.y2-c.y1)*d);e=Math.round(e);f=Math.round(f);var r=Math.floor(e*k),q=Math.floor(f*k);if(!r||!q)return g=h.za.rr(),this.Li[g]=setImmediate(function(){var a=document.createElement("canvas");a.width=r||1;a.height=q||1;l.drawComplete(a)}),g;var p,k=h.RK?b.o.Rp.AN:h.RJ;b.utils.isJSWorker&&b.jsworker.worker.useFilePathForImageRenders()?(p=b.jsworker.worker.generateImageRenderFilePath(n),
p=b.jsworker.worker.getPlatformFormatFilePath(p),console.log("imageRenderFilePath for page "+n+' is: "'+p+'".'),k=h.za.PR(h.la,n,r,q,g,h.xB,k,c,p)):k=h.za.IH(h.la,n,r,q,g,h.xB,k,c);var M=k.dG,N={Xq:l.drawProgressive,Wq:function(a,d){l.drawComplete(a,n,d)},WB:e,VB:f,So:d,Ak:g,page:h.J[n],od:c,id:M},I=1,D;l.useProgress&&(D=setInterval(function(){var a;b.utils.isJSWorker&&b.jsworker.worker.useFilePathForImageRenders?(a=b.jsworker.worker.generateNextImageRenderFilePath(p,I++),a=b.jsworker.worker.getPlatformFormatFilePath(a),
a=h.za.JH(M,a)):a=h.za.JH(M);a.then(function(a){"undefined"!==typeof a.filePath?h.RI(a.filePath,a.pageWidth,a.pageHeight,N,!1,m,u,l.pageCanvas):h.Gu(a.pageBuf,a.pageWidth,a.pageHeight,N,!1,m,u,l.pageCanvas)},function(a){"type"in a&&"Queued"===a.type||clearInterval(D)})},b.o.mI()));k.promise.then(function(a){clearInterval(D);"undefined"!==typeof a.filePath?h.RI(a.filePath,a.pageWidth,a.pageHeight,N,!0,m,u,l.pageCanvas):h.Gu(a.pageBuf,a.pageWidth,a.pageHeight,N,!0,m,u,l.pageCanvas)},function(a){clearInterval(D);
l.onError(a)});return M},$j:function(){},Mb:function(){this.la&&(this.za.TP(this.la),this.za.Ez(this.la),this.la=null);this.Va&&this.Va.abort&&this.Va.abort()},Dr:function(a,d,c){if(this.Ki)return Promise.reject('insertBlankPages requires downloader to be disabled. Please pass "useDownloader: false" to your WebViewer constructor https://www.pdftron.com/documentation/web/guides/usedownloader-option/#disabling-downloader');var b=this;return this.dc.then(function(){return b.za.Dr(b.la,a,d||612,c||792)})},
Ni:function(a,d,c){if(this.Ki)return Promise.reject('insertPages requires downloader to be disabled. Please pass "useDownloader: false" to your WebViewer constructor https://www.pdftron.com/documentation/web/guides/usedownloader-option/#disabling-downloader');var b=this;a instanceof m.Document&&(a=a.v.la);return this.dc.then(function(){return b.za.Ni(b.la,a,d,c,!0)})},tk:function(a,d){var c=this;return this.dc.then(function(){return c.za.tk(c.la,a,d)})},fj:function(a){var d=this;a.sort(f);return this.dc.then(function(){return d.za.fj(d.la,
a)})},yi:function(){return this.za.yi(this.la,this.xB)},jj:function(a,d){var c=this;a.sort(f);return this.dc.then(function(){return c.za.jj(c.la,a,d)})},ph:function(a,d){var c=this,b=a.map(function(a){return a-1}),g=c.BI(b);return this.dc.then(function(){return g}).then(function(b){return c.za.ph(c.la,a,d,b)},function(){return c.za.ph(c.la,a,d)}).then(function(a){return a.fileData})},ti:function(a,d,c,b,g){var e=this;a.sort(f);return this.dc.then(function(){return e.za.ti(e.la,a,d,c,b,g)})},ur:function(a){return this.J[a].id},
wo:function(){return Object.keys(this.zw)},qg:function(){var a=this;if(!b.o.Pi())throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");return a.za.qg(a.la).then(function(d){d=new b.PDFNet.PDFDoc(d);d.documentCompletePromise=a.dc;return d})},wh:function(){var a=this;return this.dc.then(function(){return a.za.wh(a.la)})},Im:function(a){this.xB=a},bx:function(a){this.RJ=a},Em:function(a){if(1!==arguments.length)throw new RangeError(arguments.length+
" arguments passed into function 'requirePage'. Expected 1 argument. Function Signature: requirePage(number)");if(a instanceof Promise)throw new TypeError("Received a Promise object in 1st input argument 'requirePage'. Promises require a 'yield' statement before being accessed.");if("number"!==typeof a)throw new TypeError("1st input argument '"+a+"' in function 'requirePage' is of type '"+typeof a+"'. Expected type 'number'. Function Signature: requirePage(number).");if(0>=a)throw Error("1st input argument '"+
a+"' in function 'requirePage' is invalid. Expected number between 1 and number of pages in the document.");return this.Ki?this.za.Em(this.la,a):Promise.resolve()},loadThumbnailAsync:function(a,d,c){var g="page"===c;c=this.J[a];var e=b.utils.getCanvasMultiplier(),g=g?2E3:150*e,f=c.width>c.height?g/c.width:g/c.height,f=f/e;return this.loadCanvasAsync({pageIndex:a,getZoom:function(){return f},getPageRotation:function(){return b.o.Ga.oh},drawComplete:function(a){d(a)},drawProgressive:function(){},useProgress:!1,
pageCanvas:!0})},ni:g,mh:g,pk:function(){return!1},Fk:function(a){this.Ki&&this.za.Fk(this.la,a)},$u:function(a){this.RK=a},ov:function(){return this.te},av:function(a,d){for(var c=0;c<this.te.length;++c)if(this.te[c].name===a){this.te[c].enabled=d;break}},op:function(){return!this.Ki},nv:function(a){return a},cI:function(a,d){var c=this.nv(d),b=this.za.lA(this.la,a).then(function(a){return e(a.data)});this.Pn.aG(c,b);return b}});_(m.Sh.prototype).extend(Backbone.Events);b.$k=c})(window);
(function(b){b.Annotations=b.Annotations||{};var f=b.Annotations;f.Color=function(b,c,a,d){this.A=this.B=this.G=this.R=0;b instanceof f.Color?(this.R=b.R,this.G=b.G,this.B=b.B,this.A=b.A):_.isArray(b)?1===b.length?(this.B=this.G=this.R=b=Math.round(255*(b[0]||0)),this.A=1):3===b.length?(this.R=Math.round(255*(b[0]||0)),this.G=Math.round(255*(b[1]||0)),this.B=Math.round(255*(b[2]||0)),this.A=1):4===b.length&&(c=b[1]||0,a=b[2]||0,d=b[3]||0,this.R=Math.round(255*(1-(b[0]||0))*(1-d)),this.G=Math.round(255*
(1-c)*(1-d)),this.B=Math.round(255*(1-a)*(1-d)),this.A=1):_.isString(b)&&"#"===b[0]?(b=f.ca.ek(b),this.R=b.R,this.G=b.G,this.B=b.B,this.A=1):(_.isUndefined(b)||(this.R=Number(b)),_.isUndefined(c)||(this.G=Number(c)),_.isUndefined(a)||(this.B=Number(a)),_.isUndefined(d)?_.isUndefined(b)&&_.isUndefined(c)&&_.isUndefined(a)||(this.A=1):this.A=Number(d))};f.Color.prototype={toString:function(){var b=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+b+")":"rgba("+b+","+this.A+")"},
toHexString:function(){return f.ca.Dg(this)},oY:function(){return f.ca.toFixed(this.R/255,3)+" "+f.ca.toFixed(this.G/255,3)+" "+f.ca.toFixed(this.B/255,3)+" rg"},im:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},mJ:function(){return 0===this.A}};f.Point=function(b,c){this.x=b;this.y=c;"string"===typeof b&&(this.x=parseFloat(b));"string"===typeof c&&(this.y=parseFloat(c))};f.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};f.ab=function(b,c,a,d,g,
f,h,k){this.x1=b;this.y1=c;this.x2=a;this.y2=d;this.x3=g;this.y3=f;this.x4=h;this.y4=k};f.ab.prototype={normalize:function(){},mA:function(){var b=[];b.push(this.x1);b.push(this.y1);b.push(this.x2);b.push(this.y2);b.push(this.x3);b.push(this.y3);b.push(this.x4);b.push(this.y4);return b}};f.Rect=function(b,c,a,d){b instanceof f.Rect?(this.x1=b.x1,this.y1=b.y1,this.x2=b.x2,this.y2=b.y2):_.isArray(b)?(this.x1=b[0],this.y1=b[1],this.x2=b[2],this.y2=b[3]):_.isObject(b)?(this.x1=b.x1,this.y1=b.y1,this.x2=
b.x2,this.y2=b.y2):(this.x1=b,this.y1=c,this.x2=a,this.y2=d)};f.Rect.prototype={Aa:function(){return this.x2-this.x1},ya:function(){return this.y2-this.y1},translate:function(b,c){this.x1+=b;this.y1+=c;this.x2+=b;this.y2+=c},fv:function(b){var c=0,a=0;if(this.Aa()<=b.Aa()){var d=b.x2-this.x2;0>d&&(c=d);d=b.x1-this.x1;0<d&&(c=d)}this.ya()<=b.ya()&&(d=b.y2-this.y2,0>d&&(a=d),b=b.y1-this.y1,0<b&&(a=b));this.translate(c,a)},normalize:function(){var b;0>this.Aa()&&(b=this.x1,this.x1=this.x2,this.x2=b);
0>this.ya()&&(b=this.y1,this.y1=this.y2,this.y2=b)},kH:function(){var b;this.x1>this.x2&&(b=this.x1,this.x1=this.x2,this.x2=b);this.y2>this.y1&&(b=this.y1,this.y1=this.y2,this.y2=b)},isEqual:function(b){return this.x1===b.x1&&this.y1===b.y1&&this.x2===b.x2&&this.y2===b.y2},nJ:function(){return 0===this.x1&&0===this.y1&&0===this.x2&&0===this.y2}};f.Math={YU:function(b,c){return b instanceof f.Point&&c instanceof f.Point?new f.Point((b.x+c.x)/2,(b.y+c.y)/2):null},distance:function(b,c){if(!(b instanceof
f.Point&&c instanceof f.Point))return null;var a=b.x-c.x,d=b.y-c.y;return Math.sqrt(a*a+d*d)},KJ:function(b,c,a){return b instanceof f.Point&&c instanceof f.Point&&a instanceof f.Point?c.x<=Math.max(b.x,a.x)&&c.x>=Math.min(b.x,a.x)&&c.y<=Math.max(b.y,a.y)&&c.y>=Math.min(b.y,a.y):null},fI:function(b,c,a){if(!(b instanceof f.Point&&c instanceof f.Point&&a instanceof f.Point))return null;b=(c.y-b.y)*(a.x-c.x)-(c.x-b.x)*(a.y-c.y);return 0===b?"colinear":0<b?"clockwise":"counterClockwise"},aU:function(b,
c,a,d){if(!(b instanceof f.Point&&c instanceof f.Point&&a instanceof f.Point&&d instanceof f.Point))return null;var g=f.Math.fI,m=f.Math.KJ,h=g(b,c,a),k=g(b,c,d),n=g(a,d,b),g=g(a,d,c);return h!==k&&n!==g||"colinear"===h&&m(b,a,c)||"colinear"===k&&m(b,d,c)||"colinear"===n&&m(a,b,d)||"colinear"===g&&m(a,c,d)?!0:!1}};f.ControlHandle=function(b,c,a,d){this.x=b;this.y=c;this.width=a;this.height=d};f.ControlHandle.handleWidth=12;f.ControlHandle.handleHeight=12;f.ControlHandle.selectionAccuracyPadding=1;
f.ControlHandle.prototype={testSelection:function(b,c,a,d,g){b=this.getDimensions(b,c,a);c=0;1<f.ControlHandle.selectionAccuracyPadding&&(c=f.ControlHandle.selectionAccuracyPadding);return d>=b.x1-c&&d<=b.x1+b.Aa()+c&&g>=b.y1-c&&g<=b.y1+b.ya()+c},draw:function(b,c,a,d){"undefined"===typeof d&&(d=1);this.mc(b,d);var g=this.getDimensions(c,a,d);c=g.x1;a=g.y1;d=g.Aa();g=g.ya();b.beginPath();b.arc(c+d/2,a+g/2,d/2,0,2*Math.PI);b.stroke();b.fill()},mc:function(b,c){b.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString();
b.fillStyle="rgb(255, 255, 255)";b.lineWidth=f.SelectionModel.selectionOutlineThickness/c},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new f.Rect(0,0,0,0)}};f.Te=function(b,c,a,d){this.width=b;this.height=c;this.Lf=a;this.Jg=d};f.Te.prototype={getDimensions:function(b,c,a){b=c.x1;var d=c.y1,g=this.width/a;a=this.height/a;this.Lf===f.ra.wc.left?b+=-(g/2):this.Lf===f.ra.wc.Hu?b+=(c.Aa()-
g)/2:this.Lf===f.ra.wc.right?b+=c.Aa()-g/2:console.warn("Invalid HorizonalAlignment");this.Jg===f.ra.Mc.top?d+=-(a/2):this.Jg===f.ra.Mc.iw?d+=(c.ya()-a)/2:this.Jg===f.ra.Mc.bottom?d+=c.ya()-a/2:console.warn("Invalid VerticalAlignment");return new f.Rect(b,d,b+g,d+a)},move:function(b,c,a){var d=c||a;if(!d)return!1;var g=b.Gc();if(b.MaintainAspectRatio){var m=b.Width,h=b.Height;if(m>h){if(a=h/m*(m+c)-h,this.Lf===f.ra.wc.left&&this.Jg===f.ra.Mc.bottom||this.Lf===f.ra.wc.right&&this.Jg===f.ra.Mc.top)a*=
-1}else if(c=m/h*(h+a)-m,this.Lf===f.ra.wc.left&&this.Jg===f.ra.Mc.bottom||this.Lf===f.ra.wc.right&&this.Jg===f.ra.Mc.top)c*=-1}this.Lf===f.ra.wc.left?g.x1+=c:this.Lf===f.ra.wc.right&&(g.x2+=c);this.Jg===f.ra.Mc.top?g.y1+=a:this.Jg===f.ra.Mc.bottom&&(g.y2+=a);b.resize(g);return d}};f.Te.prototype=$.extend(!0,new f.ControlHandle,f.Te.prototype);f.kl=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.lm=g};f.kl.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/
a;return this.lm?new f.Rect(this.x-.5*b,this.y,this.x+.5*b,this.y+a):new f.Rect(this.x-.5*b,this.y-a,this.x+.5*b,this.y)},move:function(b,c,a,d,g,f){a=b.me();c=a[0];if("undefined"===typeof c)return!1;a=a[a.length-1];f=new window.ba.Lc(f);f.annotation=b;f.pageCoordinates[0]=g;d=Math.min(c.x1,c.x2,c.x3,c.x4);b=Math.max(a.x1,a.x2,a.x3,a.x4);c=Math.min(c.y1,c.y2,c.y3,c.y4);a=Math.max(a.y1,a.y2,a.y3,a.y4);this.lm?c={x:d+1,y:c,pageIndex:g.pageIndex}:(c=g,g={x:b-1,y:a,pageIndex:g.pageIndex});if(g.y<c.y)return!1;
(c.x<g.x||c.y<g.y)&&f.select(c,g);return!0},draw:function(b,c,a,d){var g,m,h,k;this.mc(b,d);g=c.me();this.lm?(k=g[g.length-1],g=k.x2,m=k.y2,h=k.x3,k=k.y3):(k=g[0],g=k.x1,m=k.y1,h=k.x4,k=k.y4);b.beginPath();b.moveTo(g,m);b.lineTo(h,k);b.stroke();f.ControlHandle.prototype.draw.call(this,b,c,a,d)}};f.kl.prototype=$.extend(!0,new f.ControlHandle,f.kl.prototype);f.Yg=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.lc=g};f.Yg.prototype={getDimensions:function(b,c,a){b=this.width/a;
a=this.height/a;c=this.x-.5*b;var d=this.y-.5*a;return new f.Rect(c,d,c+b,d+a)},move:function(b,c,a){var d=b.Ei(this.lc);b.Rf(this.lc,d.x+c,d.y+a);return!0}};f.Yg.prototype=$.extend(!0,new f.ControlHandle,f.Yg.prototype);f.ht=function(b,c,a,d,g){f.Yg.apply(this,arguments)};f.ht.prototype={move:function(b,c,a,d,g){f.Yg.prototype.move.apply(this,arguments);if(0===this.lc){var m=b.Ei(0);b.Rf(b.getPath().length-1,m.x,m.y)}return!0}};f.ht.prototype=$.extend(!0,new f.Yg,f.ht.prototype);f.Qs=function(b,
c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.lc=g};f.Qs.prototype={move:function(b,c,a,d,g,m){g=b.getPath().length-4;d=g+1;var h=d+1,k=h+1;g=b.Ei(g);var n=b.Ei(d),l=b.Ei(h),q=b.Ei(k);if(this.lc===h){if(q.y<l.y+a||q.x<l.x+c)return}else if(this.lc===k&&(q.y+a<l.y||q.x+c<l.x))return;c=f.Yg.prototype.move.call(this,b,c,a);this.lc===h&&(q.y<l.y&&b.Rf(h,l.x,q.y),q.x<l.x&&b.Rf(h,q.x,l.y),b.Rf(d,l.x,l.y+.5*(q.y-l.y)),c=!0);this.lc===k&&(q.y<l.y&&b.Rf(h,q.x,l.y),q.x<l.x&&b.Rf(h,l.x,q.y),b.Rf(d,
n.x,l.y+.5*(q.y-l.y)),c=!0);m=m.jc(b.rb());m=b.ik(m)/2;a=f.Math.YU(l,q);m=[new f.Point(a.x,l.y+m),new f.Point(a.x,q.y-m),new f.Point(l.x+m,a.y),new f.Point(q.x-m,a.y)];l=[f.Math.distance(g,m[0]),f.Math.distance(g,m[1]),f.Math.distance(g,m[2]),f.Math.distance(g,m[3])];l=l.indexOf(Math.min.apply(Math,l));if(g.x!==m[l].x||g.y!==m[l].y)b.Rf(d,m[l].x,m[l].y),c=!0;return c}};f.Qs.prototype=$.extend(!0,new f.Yg,f.Qs.prototype);f.uj=function(b,c,a,d,g){this.x=b;this.y=c;this.width=a;this.height=d;this.lm=
g};f.uj.prototype={getDimensions:function(b,c,a){b=this.width/a;a=this.height/a;c=this.x-.5*b;var d=this.y-.5*a;return new f.Rect(c,d,c+b,d+a)},move:function(b,c,a){this.lm?(b.End.x+=c,b.End.y+=a):(b.Start.x+=c,b.Start.y+=a);b.adjustRect();return!0}};f.uj.prototype=$.extend(!0,new f.ControlHandle,f.uj.prototype);f.Op=function(b,c,a,d){f.uj.call(this,b,c,a,d)};f.Op.prototype={move:function(b,c,a){b.leaderLength+=Math.sqrt(c*c+a*a)*Math.sin(b.Yl()-Math.atan2(a,c));b.adjustRect();return!0}};f.Op.prototype=
$.extend(Object.create(f.uj.prototype),f.Op.prototype);f.SelectionModel=function(b,c,a){this.bc=[];this.py=c;this.Ut=a};f.SelectionModel.selectionOutlineThickness=2;f.SelectionModel.selectionAccuracyPadding=2;f.SelectionModel.defaultSelectionOutlineColor=new f.Color(65,140,252);f.SelectionModel.defaultNoPermissionSelectionOutlineColor=new f.Color(255,0,0);f.SelectionModel.selectionOutlineDashSize=4;f.SelectionModel.prototype={testSelection:function(b,c,a){return f.Bb.Jl(b,c,a)},zs:function(b,c,a,
d){for(var g=this.bc.length-1;0<=g;g--){var f=this.bc[g];if(f.testSelection(b,this.getDimensions(b),c,a,d))return f}},UR:function(){return this.bc},getDimensions:function(b){return new f.Rect(b.X,b.Y,b.X+b.Width,b.Y+b.Height)},Rc:function(){return this.py},draw:function(b,c,a,d){b.save();this.drawSelectionOutline(b,c,a,d);b.restore();for(d=0;d<this.bc.length;d++)this.bc[d]&&this.bc[d].draw(b,c,this.getDimensions(c),a)},drawSelectionOutline:function(b,c,a){b.save();c=this.getDimensions(c);"undefined"===
typeof a&&(a=1);b.lineWidth=f.SelectionModel.selectionOutlineThickness/a;this.Rc()?b.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString():b.strokeStyle=f.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();b.beginPath();b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y1);b.lineTo(c.x2,c.y2);b.lineTo(c.x1,c.y2);b.closePath();b.stroke();"undefined"!==typeof b.setLineDash||"undefined"!==typeof b.mozDash?(a=f.SelectionModel.selectionOutlineDashSize/a,a=[a,a],b.setLineDash?b.setLineDash(a):
b.mozDash=a):b.lineWidth/=2;b.strokeStyle="rgb(255, 255, 255)";b.beginPath();b.moveTo(c.x1,c.y1);b.lineTo(c.x2,c.y1);b.lineTo(c.x2,c.y2);b.lineTo(c.x1,c.y2);b.closePath();b.stroke();b.restore()}};f.dt=function(){f.SelectionModel.call(this,0,!1,!1)};f.dt.prototype={testSelection:function(){return!1},getDimensions:function(){return new f.Rect(0,0,0,0)},draw:function(){},drawSelectionOutline:function(){}};f.dt.prototype=$.extend(!0,new f.SelectionModel,f.dt.prototype);f.ra=function(b,c,a){f.SelectionModel.call(this,
0,c,a);a=f.ControlHandle.handleWidth;var d=f.ControlHandle.handleHeight;(this.py=c)?(this.bc=[new f.Te(a,d,f.ra.wc.left,f.ra.Mc.top),new f.Te(a,d,f.ra.wc.left,f.ra.Mc.iw),new f.Te(a,d,f.ra.wc.left,f.ra.Mc.bottom),new f.Te(a,d,f.ra.wc.Hu,f.ra.Mc.top),new f.Te(a,d,f.ra.wc.Hu,f.ra.Mc.bottom),new f.Te(a,d,f.ra.wc.right,f.ra.Mc.top),new f.Te(a,d,f.ra.wc.right,f.ra.Mc.iw),new f.Te(a,d,f.ra.wc.right,f.ra.Mc.bottom)],b.MaintainAspectRatio&&(this.bc.splice(3,2),this.bc.splice(1,1),this.bc.splice(-2,1))):this.bc=
[]};f.ra.wc={left:1,Hu:2,right:4};f.ra.Mc={top:16,iw:32,bottom:64};f.ra.prototype={testSelection:function(b,c,a,d){return this.Ut?f.Bb.Jl(b,c,a):f.Bb.Ll(b,c,a,d)},getDimensions:function(b){return new f.Rect(b.X,b.Y,b.X+b.Width,b.Y+b.Height)}};f.ra.prototype=$.extend(!0,new f.SelectionModel,f.ra.prototype);f.gn=function(b,c,a){f.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length;c++)a=b[c],this.bc.push(new f.Yg(a.x,a.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,c))};
f.gn.prototype={testSelection:function(b,c,a,d){return this.Ut?f.Bb.Jl(b,c,a):f.Bb.Ll(b,c,a,d)},draw:function(b,c,a){f.SelectionModel.prototype.draw.call(this,b,c,a)}};f.gn.prototype=$.extend(!0,new f.SelectionModel,f.gn.prototype);f.it=function(b,c,a){f.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length-1;c++)a=b[c],this.bc.push(new f.ht(a.x,a.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,c))};f.it.prototype={testSelection:function(b,c,a,d){return this.Ut?f.Bb.YT(b,
c,a,d):f.Bb.Ll(b,c,a,d)}};f.it.prototype=$.extend(!0,new f.SelectionModel,f.it.prototype);f.Pp=function(b,c,a){f.SelectionModel.call(this,0,c,a);c?(this.bc=[new f.uj(b.Start.x,b.Start.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,0),new f.uj(b.End.x,b.End.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,1)],b.leaderLength&&(b=b.qS(),this.bc=this.bc.concat([new f.Op(b.ND.x,b.ND.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight),new f.Op(b.uD.x,b.uD.y,f.ControlHandle.handleWidth,
f.ControlHandle.handleHeight)]))):this.bc=[]};f.Pp.prototype={testSelection:function(b,c,a,d){return f.Bb.Ll(b,c,a,d)},drawSelectionOutline:function(b,c,a,d){if(c.leaderLength||c.leaderExtend||c["leader-offset"])return f.SelectionModel.prototype.drawSelectionOutline.apply(this,arguments);"undefined"===typeof a&&(a=1);b.lineWidth=f.SelectionModel.selectionOutlineThickness/a;var g=Math.atan((c.End.y-c.Start.y)/(c.End.x-c.Start.x)),m=Math.max(.5*c.ik(d),1)*Math.sin(g),g=Math.max(.5*c.ik(d),1)*Math.cos(g);
this.Rc()?b.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString():b.strokeStyle=f.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();b.beginPath();b.moveTo(c.Start.x+m,c.Start.y-g);b.lineTo(c.End.x+m,c.End.y-g);b.stroke();b.beginPath();b.moveTo(c.Start.x-m,c.Start.y+g);b.lineTo(c.End.x-m,c.End.y+g);b.stroke();if("undefined"!==typeof b.setLineDash||"undefined"!==typeof b.mozDash){var h=f.SelectionModel.selectionOutlineDashSize/a,h=[h,h];b.setLineDash?b.setLineDash(h):
b.mozDash=h}else b.lineWidth/=2;b.strokeStyle="rgb(255, 255, 255)";b.beginPath();b.moveTo(c.Start.x+m,c.Start.y-g);b.lineTo(c.End.x+m,c.End.y-g);b.stroke();b.beginPath();b.moveTo(c.Start.x-m,c.Start.y+g);b.lineTo(c.End.x-m,c.End.y+g);b.stroke()}};f.Pp.prototype=$.extend(!0,new f.ra,f.Pp.prototype);f.Mp=function(b,c,a){f.ra.apply(this,arguments)};f.Mp.prototype={getDimensions:function(b){return f.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(b,c,a){return f.Bb.Jl(b,
c,a)}};f.Mp.prototype=$.extend(!0,new f.ra,f.Mp.prototype);f.Rs=function(b,c,a){f.SelectionModel.call(this,0,c,a);if(c)for(b=b.getPath(),c=0;c<b.length;c++)c!==b.length-3&&(a=b[c],this.bc.push(new f.Qs(a.x,a.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,c)))};f.Rs.prototype={testSelection:function(b,c,a,d){if(this.Ut)return f.Bb.Jl(b,c,a);var g=b.getPath().slice(-2),m=g[0],g=g[1];return c<m.x||c>g.x||a<m.y||a>g.y?f.Bb.Ll(b,c,a,d):!0}};f.Rs.prototype=$.extend(!0,new f.SelectionModel,f.Rs.prototype);
f.Dj=function(b,c,a,d,g){f.SelectionModel.call(this,0,c,a);this.py=c;if(a=b.me())_.isUndefined(d)&&(d=!0),_.isUndefined(g)&&(g=!0),this.bc=[],c&&!b.NoResize&&(b=a[0],c=a[a.length-1],b&&(this.bc=[],d&&this.bc.push(new f.kl(b.x1,b.y3,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,!1)),g&&this.bc.push(new f.kl(c.x3,c.y1,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,!0))))};f.Dj.prototype={testSelection:function(b,c,a){return f.Bb.WC(b,c,a)},getDimensions:function(b){var c=b.X-2,
a=b.Y-2;return new f.Rect(c,a,c+(b.Width+4),a+(b.Height+4))}};f.Dj.prototype=$.extend(!0,new f.SelectionModel,f.Dj.prototype);f.jt=function(b,c,a){var d=b.IsText?f.Dj:f.ra;d.apply(this,[b,c,a]);return $.extend(!0,this,d.prototype,f.jt.prototype)};f.jt.prototype={testSelection:function(b,c,a,d){return b.IsText?f.Bb.WC(b,c,a):f.Bb.Jl(b,c,a,d)}};f.Yp=function(b,c,a){f.SelectionModel.call(this,0,c,a)};f.Yp.prototype={testSelection:function(b,c,a,d,g,m){d=b.Hi();var h=b.Ii();g=b.SIZE/(b.NoZoom?g:1);if(!window.o.Oo||
b.DateCreated>=window.o.Oo)m===window.o.Ga.je?h-=g:m===window.o.Ga.jo?(h-=g,d-=g):m===window.o.Ga.$e&&(d-=g);b=new f.Rect(d,h,d+g,h+g);return c>=b.x1&&c<=b.x2&&a>=b.y1&&a<=b.y2},getDimensions:function(b){return new f.Rect(b.X,b.Y,b.X+b.SIZE,b.Y+b.SIZE)}};f.Yp.prototype=$.extend(!0,new f.SelectionModel,f.Yp.prototype);f.Bb={Jl:function(b,c,a){b=b.Gc();return c>=b.x1&&c<=b.x2&&a>=b.y1&&a<=b.y2},Ll:function(b,c,a,d){var g;f.Bb.QI?g=f.Bb.QI:(g=document.createElement("canvas"),f.Bb.QI=g);var m=g.getContext("2d");
g.width=4;g.height=4;m.setTransform(1,0,0,1,-(c-b.Hi()),-(a-b.Ii()));c=b.StrokeThickness;b.Ij=c+f.Bb.canvasVisibilityPadding;m.translate(-1*b.Hi(),-1*b.Ii());b.draw(m,d);d=1<m.getImageData(0,0,1,1).data[3];m.setTransform(1,0,0,1,0,0);m.clearRect(0,0,2,2);b.Ij=c;return d},WC:function(b,c,a){b=b.Quads;for(var d=0;d<b.length;d++){var g=b[d],f=Math.min(g.y1,g.y2,g.y3,g.y4),h=Math.max(g.y1,g.y2,g.y3,g.y4),k=Math.max(g.x1,g.x2,g.x3,g.x4);if(c>=Math.min(g.x1,g.x2,g.x3,g.x4)&&c<=k&&a>=f&&a<=h)return!0}return!1},
YT:function(b,c,a,d){if(!(b instanceof f.$f))return!1;var g=b.getPath(),g=g.slice(0,g.length-1);if(3>g.length)return f.Bb.Ll(b,c,a,d);b=new f.Point(c,a);a=new f.Point(Number.MAX_VALUE,a);for(d=c=0;d<g.length;d++){var m=g[d],h=g[(d+1)%g.length];if(f.Math.aU(m,h,b,a)){if("colinear"===f.Math.fI(m,b,h))return f.Math.KJ(m,b,h);c++}}return 1===c%2}};f.Bb.canvasVisibilityPadding=5})(window);
(function(b){function f(){$("#selectionrect").css("display","none")}function e(a,d,c){var g=a[0],e=a[1],f=d[0].pageIndex;d=$("#selectionrect");0===d.length&&(d=$("<div id='selectionrect' class='ui-selectable-helper'></div>").appendTo(c.Vc()));var m=e.x-g.x;a=e.y-g.y;var h=c.yb(),l=h.scrollLeft()||0,h=h.scrollTop()||0,n=g.x-l,k=g.y-h,q=e.x-l,e=e.y-h,g=c.ld(f),p=c.kd(f),e=Math.min(e,k),n=Math.min(q,n),q=c.dm().hf({x:0,y:0},f),p=c.dm().hf({x:g,y:p},f);c=Math.min(q.x,p.x);f=Math.min(q.y,p.y);g=Math.max(q.x,
p.x);p=Math.max(q.y,p.y);c-=l;f-=h;f>e&&(a+=f-e,e=f);c>n&&(m+=c-n,n=c);m=b.fe.Math.jG(Math.abs(m),0,g-l-n);a=b.fe.Math.jG(Math.abs(a),0,p-h-e);l="inline";if(5>m||5>a)l="none";d.css({width:m,height:a,top:e,left:n,"z-index":"44",position:"absolute",border:"1px dotted black",display:l})}function c(a){Object.defineProperties(a.defaults,{Precision:{get:function(){return Annotations.ja.lI(a)},set:function(d){Annotations.ja.hL(a,d)},enumerable:!0},Scale:{get:function(){return Annotations.ja.sI(a)},set:function(d){Annotations.ja.lL(a,
d[0],d[1])},enumerable:!0}})}function a(a){return JSON.parse(JSON.stringify(a))}function d(){return"url("+b.o.xr()+"dragginghand.cur), url("+b.o.xr()+"dragginghand.png), pointer"}function g(){return"url("+b.o.xr()+"hand.cur), url("+b.o.xr()+"hand.png), pointer"}function m(a,d){n!==d&&(a.Vc().css("cursor",d),n=d)}var h=XODText,k="../core/assets/";b.o.AX=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");k=a};b.o.xr=function(){return k};var n;b.ba=function(){};var l=b.ba;l.zZ={};l.Tool=function(a){this.Ib=
this.Zd=null;this.u=this.docViewer=a;this.pageCoordinates=[]};l.Tool.ENABLE_TEXT_SELECTION=!0;l.Tool.ENABLE_AUTO_SWITCH=!0;l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!0;l.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE=!1;l.Tool.prototype={Gf:function(a){var d={},c=this.u.yb(),b=c.scrollLeft()||0,c=c.scrollTop()||0;a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],d.x=b+a.clientX,d.y=c+a.clientY):(d.x=b+a.pageX,d.y=c+a.pageY);return d},
mouseLeftDown:function(a){var d=this.Gf(a);this.Zd=d;this.Ib={x:d.x,y:d.y};this.pageCoordinates[0]=this.Ud(this.Zd);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:d.x,y:d.y},pageCoordinate:this.pageCoordinates[0]};(this.Qb=this.u.da.hr(a))&&(this.Qb instanceof Annotations.Cb?m(this.u,this.cursor):this.u.Da().Rc(this.Qb)&&m(this.u,"move"))},mouseLeftUp:function(a){var d=this.Gf(a);this.Ib=d;this.pageCoordinates[1]=this.Ud(this.Ib);a.data={mouseCoordinate:{x:d.x,y:d.y},pageCoordinate:this.pageCoordinates[1]}},
mouseMove:function(a){var d=this.Gf(a),c=this.u.da;this.Ib=d;var b=this.Ud(this.Ib);b&&(this.Qb=c.hr(a),this.$L(c,b),this.ZL(c,a),this.AY(c,b));if(null!==this.Zd){c=this.Ud(this.Zd);if(null===c)return;var g=c.pageIndex,c=this.u.ld(g),b=this.u.kd(g),g=this.Ud(this.Ib,g);l.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE||(0>g.x&&(g.x=0),0>g.y&&(g.y=0),g.x>c&&(g.x=c),g.y>b&&(g.y=b));this.pageCoordinates[1]=g}else this.pageCoordinates[1]=this.Ud(this.Ib);a.data={mouseCoordinate:{x:d.x,y:d.y},pageCoordinate:this.pageCoordinates[1]}},
$L:function(a,d){var c=!l.Tool.ENABLE_TEXT_SELECTION||!l.Tool.ENABLE_AUTO_SWITCH,b=this.u.Fv(),b=!(b instanceof l.Tk||b instanceof l.ln||b instanceof l.Wp),g=this.De&&0<Object.keys(this.De).length;c||this.Yc||b||g||0<a.Ie().length||this.u.PK(d.pageIndex,d,function(a,d){this instanceof l.Wp?(this.cursor=0<d.length?"text":"crosshair",m(this.u,this.cursor)):0<d.length?this.u.KC(this.u.Ev("TextSelect")):0===d.length&&this.u.KC(this.u.Ev("AnnotationEdit"))}.bind(this))},ZL:function(a){l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS&&
(this.Qb&&this.Qb.Listable?a.Oi(this.Qb)?this.Qb instanceof Annotations.Jd&&!this.Qb.IsText?m(this.u,"move"):this.Qb instanceof Annotations.Cb?m(this.u,this.cursor):this.u.Da().Rc(this.Qb)&&m(this.u,"move"):m(this.u,"pointer"):m(this.u,this.cursor))},AY:function(a,d){if(l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS)for(var c=a.Ie(),b=0;b<c.length;b++){var g=c[b],e=(new g.selectionModel(g,a.Rc(g))).zs(g,this.u.tb(g.PageNumber-1),d.x,d.y);if(!e)break;g=this.u.hd(g.PageNumber);e instanceof Annotations.Te?m(this.u,
(e.Jg===Annotations.ra.Mc.iw?0===g%2?"ew":"ns":e.Lf===Annotations.ra.wc.Hu?0===g%2?"ns":"ew":e.Jg===Annotations.ra.Mc.top?e.Lf===Annotations.ra.wc.right?0===g%2?"nesw":"nwse":0===g%2?"nwse":"nesw":e.Lf===Annotations.ra.wc.right?0===g%2?"nwse":"nesw":0===g%2?"nesw":"nwse")+"-resize"):e instanceof Annotations.kl?0===g%2?m(this.u,"ew-resize"):m(this.u,"ns-resize"):m(this.u,"default")}},mouseDoubleClick:function(a){a=this.Gf(a);this.Zd={x:a.x,y:a.y};this.Ib={x:a.x,y:a.y};a=this.u.da;var d=this.Ud(this.Ib);
d&&(this.Ln=d.x,this.Mn=d.y,this.Qb&&!this.Qb.Qi()&&this.Qb.pm()&&a.trigger("annotationDoubleClicked",this.Qb))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){m(this.u,"default");this.u.da.Sd()},Ff:function(){return this.u},Ud:function(a,d){var c=this.docViewer.dm().Cv(a,a);if("undefined"===typeof d){if(c=null===c.first?c.last:c.first,null===c)return null}else c=d;c=this.docViewer.dm().Ok(a,c);return{pageIndex:c.pageIndex,
x:c.x,y:c.y}},mc:function(a){var d=this.defaults,c=a(d);c&&(Object.keys(c).forEach(function(a){d[a]=c[a]}),this.u.trigger("toolUpdated",[this]))},gX:function(a){this.name=a;this.u.trigger("toolUpdated",[this])},Iq:function(a){this.annotation&&a.originalEvent.touches&&1<a.originalEvent.touches.length&&(this.u.Da().Rd(this.annotation),this.annotation=null)}};var q=l.Tool;l.AnnotationSelectTool=function(a){q.call(this,a);this.Mn=this.Ln=0;this.Rj={x:0,y:0};this.ak=this.Cc=null;this.state=l.AnnotationSelectTool.Xb.NONE;
this.dk=NaN;this.Yc=!1;this.cursor="default";this.overrideSelection=!1};l.AnnotationSelectTool.Xb={NONE:0,Jx:1,JD:2,Zs:3,Ix:4};l.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);l.AnnotationSelectTool.prototype=$.extend(new q,{mouseLeftDown:function(a){q.prototype.mouseLeftDown.call(this,a);if(this.overrideSelection)this.state=l.AnnotationSelectTool.Xb.NONE;else{this.Yc=!0;this.state=l.AnnotationSelectTool.Xb.NONE;var d=this.u.da,c=this.Ud(this.Ib);if(c){this.dk=c.pageIndex;this.Ln=
c.x;this.Mn=c.y;this.Rj.x=this.Ln;this.Rj.y=this.Mn;for(var b=d.Ie(),g=0;g<b.length;g++){var e=b[g];if("undefined"!==typeof e.selectionModel){var f=(new e.selectionModel(e,d.Rc(e))).zs(e,this.u.tb(e.rb()),c.x,c.y);if(f){this.Cc=e;this.ak=f;!this.Cc.NoResize&&d.Rc(this.Cc)?this.state=l.AnnotationSelectTool.Xb.Ix:(this.state=l.AnnotationSelectTool.Xb.NONE,d.Sd());return}}else if(console.warn("no selection model for annotation"),this.ak=d.NH(this.dk,c)){this.Cc=this.ak.mP;!this.Cc.NoResize&&d.Rc(this.Cc)?
this.state=l.AnnotationSelectTool.Xb.JD:(this.state=l.AnnotationSelectTool.Xb.NONE,d.Sd());return}}if(0<d.Ie().length&&(c=d.kA(a),0<c.length)){this.Cc=null;for(b=0;b<c.length;++b)if(d.Oi(c[b])){this.Cc=c[b];break}this.Cc||(this.Cc=c[0]);c=d.Oi(this.Cc);!this.Cc.NoMove&&d.Rc(this.Cc)&&c?this.state=l.AnnotationSelectTool.Xb.Jx:a.ctrlKey?this.state=l.AnnotationSelectTool.Xb.Zs:(this.state=l.AnnotationSelectTool.Xb.NONE,d.Sd());return}}d.Sd()}},mouseMove:function(a){q.prototype.mouseMove.call(this,a);
!this.Yc||!this.isSelecting()&&(this instanceof l.Tp||this instanceof l.Tk)||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLInputElement||a.preventDefault();if(!this.overrideSelection&&this.state!==l.AnnotationSelectTool.Xb.NONE){a=this.u.da;var d=this.pageCoordinates[1];if(d&&this.dk===d.pageIndex){var c=d.x-this.Rj.x,b=d.y-this.Rj.y;if(this.state===l.AnnotationSelectTool.Xb.Jx&&this.Cc){m(this.u,"move");var g=a.Ie(),e,f,h,n,k,p,E,G=!1;for(e=0;e<g.length;e++)h=
g[e],a.Rc(h)&&!h.NoMove&&(f=h.Gc(),G?(f.x1<n&&(n=f.x1),f.y1<k&&(k=f.y1),f.x2>p&&(p=f.x2),f.y2>E&&(E=f.y2)):(n=f.x1,k=f.y1,p=f.x2,E=f.y2,G=!0));f=this.u.ld(this.dk);h=this.u.kd(this.dk);e=new Annotations.Rect;this.u.tb(this.Cc.rb());e.x1=1*l.AnnotationSelectTool.PAGE_PADDING.x1;e.y1=1*l.AnnotationSelectTool.PAGE_PADDING.y1;e.x2=f-1*l.AnnotationSelectTool.PAGE_PADDING.x2;e.y2=h-1*l.AnnotationSelectTool.PAGE_PADDING.y2;n=Math.max(0+l.AnnotationSelectTool.PAGE_PADDING.x1,n);k=Math.max(0+l.AnnotationSelectTool.PAGE_PADDING.y1,
k);p=Math.min(p,f-l.AnnotationSelectTool.PAGE_PADDING.x2);E=Math.min(E,h-l.AnnotationSelectTool.PAGE_PADDING.y2);if(G){n=n+c>=e.x1||l.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?c:e.x1-n;k=k+b>=e.y1||l.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?b:e.y1-k;p=p+c<=e.x2||l.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?c:e.x2-p;E=E+b<=e.y2||l.Tool.ALLOW_ANNOTS_OUTSIDE_PAGE?b:e.y2-E;c=0<=c?Math.min(n,p):Math.max(n,p);b=0<=b?Math.min(k,E):Math.max(k,E);this.Rj.x=d.x;this.Rj.y=d.y;d={};for(e=0;e<g.length;e++)if(h=g[e],a.Rc(h)&&!h.NoMove&&(f=h.Gc(),
f.x1+=c,f.y1+=b,f.x2+=c,f.y2+=b,0!==c||0!==b))h.resize(f),h.RF=!0,d[h.sb()]=!0;for(var H in d)this.u.da.Td(parseInt(H,10))}}else this.state===l.AnnotationSelectTool.Xb.Ix&&this.ak&&this.Cc&&(H=this.ak.move(this.Cc,c,b,this.Ud(new Annotations.Point(this.Zd.x,this.Zd.y)),d,this.u),this.Rj.x=d.x,this.Rj.y=d.y,H&&this.u.da.Kb(this.Cc))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.Yc=!1;var a=this.u.da,d=a.Ie();if(this.state===l.AnnotationSelectTool.Xb.Jx){for(var c=[],b=0;b<d.length;b++){var g=
d[b];g.RF&&(g.RF=void 0,c.push(g))}0<c.length&&a.trigger("annotationChanged",[c,"modify"])}else this.state===l.AnnotationSelectTool.Xb.JD?(c=this.ak.mP,this.ak&&a.trigger("annotationChanged",[[c],"modify"])):this.state===l.AnnotationSelectTool.Xb.Ix&&this.Cc&&a.trigger("annotationChanged",[[this.Cc],"modify"]);0<d.length?m(this.u,"default"):m(this.u,this.cursor);this.state=l.AnnotationSelectTool.Xb.NONE}},pC:function(){this.u.da.Rd(this.annotation);this.annotation=null},keyDown:function(a){27===a.which&&
void 0!==this.annotation&&null!==this.annotation&&this.pC();46!==a.which&&8!==a.which||b.utils.isEditableElement($(a.target))||(a=this.u.Da().Ie(),this.u.Da().Tq(a))},tap:function(a){if(!this.overrideSelection){var d=this.u.Da();if(this.Qb=d.hr(a)){var c=d.Oi(this.Qb);a.originalEvent.ctrlKey||a.originalEvent.metaKey?c?d.Ol(this.Qb):d.Fm(this.Qb):c||(d.Sd(),d.Fm(this.Qb));this.u.Km("none");a.preventDefault()}}},isSelecting:function(){return this.state!==l.AnnotationSelectTool.Xb.NONE}});l.Tp=function(a,
d){l.AnnotationSelectTool.call(this,a);this.Ry={x:0,y:0};this.Tt=!1;this.cursor=g();this.name=d||"PanTool"};l.Tp.prototype=$.extend(new l.AnnotationSelectTool,{switchIn:function(){m(this.u,this.cursor)},mouseLeftDown:function(a){l.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(this.Ry=this.Gf(a),this.Tt=!0,this.cursor=d(),m(this.u,this.cursor))},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(this.cursor=g(),m(this.u,
this.cursor),this.Tt=!1)},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.Tt){var c=this.u.yb(),b=this.Gf(a);a=this.Ry.x-b.x;b=this.Ry.y-b.y;this.u.scrollTo((c.scrollLeft()||0)+a,(c.scrollTop()||0)+b);m(this.u,d())}},mouseLeave:function(){this.Tt=!1;m(this.u,this.cursor)}});l.Zb=function(a){q.call(this,a);this.Yc=!1;this.cursor="text"};l.Zb.SELECTION_MODE="structural";l.Zb.prototype={switchIn:function(){this.hG(null,this.u.hd());this.u.on("rotationUpdated.textTool",
_.bind(this.hG,this))},switchOut:function(a){q.prototype.switchOut.call(this,a);this.u.off("rotationUpdated.textTool")},hG:function(a,d){this.cursor=d===b.o.Ga.je||d===b.o.Ga.$e?"vertical-text":"text";m(this.u,this.cursor)},mouseLeftDown:function(a){l.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(a.altKey&&(l.Zb.SELECTION_MODE="rectangular"),this.Yc=!0,this.u.Oq())},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.isSelecting()||!0!==
this.Yc||(1!==a.which&&0!==a.which?this.Yc=!1:(a.data&&(this.pageCoordinates[1]=this.Ud(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],this.pageCoordinates[1]),this.Iq(a)))},select:function(a,d){var c=this.u;if(a&&d){var b,g;d.pageIndex>=a.pageIndex?(b=a,g=d):(b=d,g=a);var e=b.pageIndex,f=g.pageIndex;if(null!==e&&null!==f){var m=new h.Na,n=c.v.ic(e);1<=f-e?m.Ba(b.x,b.y,n.width,n.height):m.Ba(b.x,b.y,g.x,g.y);this.u.Jo="rectangular"===l.Zb.SELECTION_MODE?(new XODText.Cj(this.u.getDocument())).QK:
(new XODText.Cj(this.u.getDocument())).OK;this.u.dj=[[e,m]];this.u.ep(e,m,_.bind(this.textSelected,this));for(b=e+1;b<f;b++)this.u.dj.unshift([b,m]),n=c.v.ic(b),m=new h.Na,m.Ba(0,0,n.width,n.height),c.ep(b,m,_.bind(this.textSelected,this));e!==f&&(m=new h.Na,m.Ba(0,0,g.x,g.y),this.u.dj.unshift([f,m]),c.ep(f,m,_.bind(this.textSelected,this)))}}},textSelected:function(){},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(a.altKey&&"rectangular"===
l.Zb.SELECTION_MODE&&(l.Zb.SELECTION_MODE="structural"),this.Yc=!1)}};l.Zb.prototype=$.extend(new l.AnnotationSelectTool,l.Zb.prototype);l.ln=function(a,d){l.Zb.call(this,a);this.De={};this.EE=this.zF=this.un=null;this.name=d||"TextSelectTool"};l.ln.prototype=$.extend(new l.Zb,{select:function(){this.u.nG();this.De={};l.Zb.prototype.select.apply(this,arguments)},mouseLeftDown:function(a){this.un=null;var d=this.Ud(this.Gf(a));if(d){var c=d.pageIndex,b=this.vO(c),g=this;b.me=function(){return g.De[c]};
var e=!1,f=!1,m=this.zy();0<m.length&&(c===m[0]&&(e=!0),c===m[m.length-1]&&(f=!0));if(d=(new Annotations.Dj(b,!0,!1,e,f)).zs(b,this.u.tb(c),d.x,d.y))this.un=d,this.un.lm?this.zF=this.yO():this.EE=this.wO()}this.un||(l.Zb.prototype.mouseLeftDown.apply(this,arguments),this.De={});this.Yc=!0},mouseMove:function(a){a.preventDefault();if(this.Yc&&this.un){var d=this.Ud(this.Gf(a));if(d){var c;this.un.lm?c=this.zF:(c=d,d=this.EE);this.De={};this.select(c,d)}}else l.Zb.prototype.mouseMove.apply(this,arguments)},
mouseLeftUp:function(){l.Zb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.De).length?(m(this.u,"default"),this.Ty()):0===this.u.Da().Ie().length&&m(this.u,this.cursor)},textSelected:function(a,d,c){this.u.Fw(a,d,c);0<d.length&&(m(this.u,"default"),this.De[a]=d.map(function(a){return a.zh()}));this.Yc||this.Ty()},mouseDoubleClick:function(){var a=this.pageCoordinates[0];if(a){var d=this;this.u.PK(a.pageIndex,a,function(){d.textSelected.apply(d,arguments);d.Ty()})}},Oq:function(){this.De=
{}},Ty:function(){var a=this.QE();a.quad&&this.trigger("selectionComplete",[a,this.De])},zy:function(){return Object.keys(this.De).map(function(a){return parseInt(a,10)}).sort(function(a,d){return a-d})},QE:function(){var a=this.zy()[0],d=this.De[a];return{quad:d?d[0]:null,pageIndex:a}},yO:function(){var a=this.QE(),d=a.quad;return{x:d.x1,y:(d.y1+d.y3)/2,pageIndex:a.pageIndex}},wO:function(){var a=this.zy(),a=a[a.length-1],d=this.De[a],d=d[d.length-1];return{x:d.x3,y:(d.y1+d.y3)/2,pageIndex:a}},vO:function(a){var d=
Infinity,c=Infinity,b=0,g=0;if(a=this.De[a])for(var e=0;e<a.length;++e)var f=a[e],d=Math.min(d,f.x1,f.x2,f.x3,f.x4),c=Math.min(c,f.y1,f.y2,f.y3,f.y4),b=Math.max(b,f.x1,f.x2,f.x3,f.x4),g=Math.max(g,f.y1,f.y2,f.y3,f.y4);return{X:d,Y:c,Width:b-d,Height:g-c}}},b.utils.eventHandler);l.GenericAnnotationCreateTool=function(a,d,c){l.AnnotationSelectTool.call(this,a);this.annotation=null;this.dz=d;this.hQ=c;this.cursor="crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,
0,0,0),StrokeThickness:1,Opacity:1}};l.GenericAnnotationCreateTool.prototype=$.extend(new l.AnnotationSelectTool,{switchIn:function(){m(this.u,this.cursor);this.u.ue({annotMode:!0})},switchOut:function(a){null!==this.annotation&&void 0!==this.annotation&&(this.Nq&&this.Nq(),this.u.da.Rd(this.annotation),this.annotation=null);l.AnnotationSelectTool.prototype.switchOut.call(this,a);this.u.ue({annotMode:!1})},mouseLeftDown:function(a){l.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()&&
!this.annotation&&(a=this.pageCoordinates[0])){var d=this.u.da;this.annotation=new this.dz(this.hQ);this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=d.am();null!==this.annotation.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&(a=this.defaults.FillColor,
this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A));this.annotation.Opacity=this.defaults.Opacity;this.annotation.ToolName=this.name;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||this.finish()},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){var d=this.pageCoordinates[0],
c=this.pageCoordinates[1];null!==c&&null!==d&&d.pageIndex===c.pageIndex&&(d=new Annotations.Rect(d.x,d.y,c.x,c.y),d.normalize(),this.annotation.Fg(d),this.u.da.Kb(this.annotation),this.Iq(a))}},finish:function(){this.annotation&&(this.jJ(this.annotation)?this.u.Da().Rd(this.annotation):(this.u.da.ih(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=null)},jJ:function(a){var d=a.Aa(),c=a.ya();a=2*(a.getRectPadding()+1);return d<=a&&c<=a}},b.utils.eventHandler);new l.GenericAnnotationCreateTool;
l.Tk=function(a,d){l.AnnotationSelectTool.call(this,a);this.uk=null;this.name=d||"AnnotationEditTool"};l.Tk.prototype=$.extend(new l.AnnotationSelectTool,{switchIn:function(){m(this.u,"default");this.u.Km("auto")},switchOut:function(a){q.prototype.switchOut.call(this,a);this.u.Km("none")},cC:function(a){this.pointerType=a.originalEvent.pointerType},mouseLeftDown:function(a){l.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()){this.Yc=!0;this.state=l.AnnotationSelectTool.Xb.NONE;
a=this.u.da;var d=this.Ud(this.Ib);d&&(this.dk=d.pageIndex,a.Sd(),this.state=l.AnnotationSelectTool.Xb.Zs)}},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.state===l.AnnotationSelectTool.Xb.Zs&&(a=this.pageCoordinates[1])&&this.dk===a.pageIndex){var d=a.x,c=a.y;a=0>d-this.Ln?d:this.Ln;var g=0>c-this.Mn?c:this.Mn,d=Math.abs(d-this.Ln),c=Math.abs(c-this.Mn);e([this.Zd,this.Ib],this.pageCoordinates,this.u);this.uk=b.fe.BJ(a,g,d,c)}},mouseLeftUp:function(a){if(this.state!==
l.AnnotationSelectTool.Xb.Zs)l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);else{var d=this;this.Yc=!1;var c=function(){d.uk=null;d.state=l.AnnotationSelectTool.Xb.NONE;f()};if(!this.uk||!this.u.$q){c();return}if(this.uk.x1===this.uk.x2&&this.uk.y1===this.uk.y2)l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);else{var b=this.tO(this.dk,this.uk);this.u.Da().Ww(b)}c()}if(c=this.pageCoordinates[1])b=this.u.da,this.$L(b,c),this.ZL(b,a)},tO:function(a,d){for(var c,g=[],e=this.u.Da().ac.filter(function(d){return d.rb()===
a&&d.pm()}),f=0;f<e.length;f++){c=e[f];var m=1;!0===c.NoZoom&&(m=this.u.tb(c.rb()));b.fe.TV(d,b.fe.BJ(c.tv(),c.Gv(),c.Aa()/m,c.ya()/m))&&g.push(c)}return g}});l.Wg=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.Gd);delete this.defaults.FillColor;this.name=d||"LineCreateTool"};l.Wg.prototype=$.extend(new l.GenericAnnotationCreateTool,{mouseLeftDown:function(a){l.GenericAnnotationCreateTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation&&(this.annotation.Start=
{x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){var d=this.pageCoordinates[0],c=this.pageCoordinates[1];null!==c&&null!==d&&d.pageIndex===c.pageIndex&&(this.annotation.End={x:c.x,y:c.y},this.annotation.adjustRect(),this.u.da.Kb(this.annotation),this.Iq(a))}}});l.Dx=function(a,d){l.Wg.call(this,a);this.name=d||"ArrowCreateTool"};
l.Dx.prototype=$.extend(new l.Wg,{mouseLeftDown:function(a){l.Wg.prototype.mouseLeftDown.call(this,a);this.annotation&&this.annotation.ip("OpenArrow")}});l.Yx=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.Aj);this.name=d||"RectangleCreateTool"};l.Yx.prototype=new l.GenericAnnotationCreateTool;l.Mx=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.Xk);this.name=d||"EllipseCreateTool"};l.Mx.prototype=new l.GenericAnnotationCreateTool;l.FreeHandCreateTool=
function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.FreeHandAnnotation);this.lc=0;this.Nu=null;this.Yc=!1;this.pointerType=null;delete this.defaults.FillColor;this.name=d||"FreeHandCreateTool"};l.FreeHandCreateTool.prototype=$.extend(new l.GenericAnnotationCreateTool,{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(a){l.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()&&this.pageCoordinates[0]&&(this.type||(this.type=a.type),this.type===a.type)){this.Yc=
!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){var d=this.pageCoordinates[0].x,c=this.pageCoordinates[0].y,b=!1,g=this.annotation.getPath(this.lc);g&&0<g.length&&(g=g[g.length-1],g.x===d&&g.y===c&&(b=!0));b||this.annotation.wb(d,c,this.lc)}else{var e=this;this.complete().then(function(){l.FreeHandCreateTool.prototype.mouseLeftDown.call(e,a)})}else l.GenericAnnotationCreateTool.prototype.mouseLeftDown.call(this,a),this.annotation.wb(this.pageCoordinates[1].x,
this.pageCoordinates[1].y,this.lc);clearTimeout(this.Nu)}},complete:function(){var a=this;if(this.annotation&&0<this.annotation.He().length)return this.u.da.Kb(this.annotation).then(function(){a.annotation.finish();l.GenericAnnotationCreateTool.prototype.mouseLeftUp.call(a,null);a.Py()});a.Py();this.annotation=null;return Promise.resolve()},Tr:function(){this.complete()},switchOut:function(a){var d=this;this.complete().then(function(){l.GenericAnnotationCreateTool.prototype.switchOut.call(d,a)})},
mouseLeftUp:function(){l.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.Yc=!1,this.annotation)){var a=this.u.da;this.annotation.wb(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.lc);var d=this.annotation.getPath(this.lc);d&&(2>d.length?(this.annotation.He().pop(),this.annotation.adjustRect(),a.Kb(this.annotation)):(("pen"!==this.pointerType||this.simplifyPen)&&this.annotation.WX(.75),a.Kb(this.annotation),this.lc++),this.Nu=setTimeout(_.bind(this.complete,
this),this.createDelay));0===this.annotation.He().length&&(this.complete(),clearTimeout(this.Nu))}},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&!1!==this.Yc){if(this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]){if(this.pageCoordinates[0].pageIndex!==this.pageCoordinates[1].pageIndex)return;this.annotation.wb(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.lc);this.u.da.Kb(this.annotation)}this.annotation&&
a.originalEvent.touches&&1<a.originalEvent.touches.length&&this.complete()}},Py:function(){this.lc=0;this.Yc=!1;clearTimeout(this.Nu)},pC:function(){this.Py();l.AnnotationSelectTool.prototype.pC.call(this)},contextMenu:function(a){a.preventDefault()},cC:function(a){this.pointerType=a.originalEvent.pointerType}});l.SignatureCreateTool=function(a,d){l.Tool.call(this,a);this.Bj=100;this.location=null;this.Zq=!1;this.sx=this.lc=0;this.visible=!1;this.Dz=null;this.cursor="crosshair";this.fR=3;var c=this;
$(document).on("mouseup",function(){c.Zq&&(c.visible=!0);c.IE()});this.defaults={StrokeColor:new Annotations.Color(0,0,0),StrokeThickness:1,Opacity:1};this.name=d||"SignatureCreateTool"};l.SignatureCreateTool.JC=function(a){l.SignatureCreateTool.prototype.zn=a};l.SignatureCreateTool.prototype={switchIn:function(){m(this.u,this.cursor);this.initAnnot()},NE:function(a){var d,c=this.canvas[0].getBoundingClientRect();a.originalEvent&&a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:
a.originalEvent.touches[0]);d=a.clientX;a=a.clientY;return{x:d-c.left,y:a-c.top}},xE:function(){this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},bQ:function(){this.xE();this.freeHandAnnot.gH();this.sx=this.lc=0},IE:function(){this.Zq&&(this.lc++,this.visible&&(this.sx++,this.visible=!1));this.Zq=!1},zn:function(){return"Sign Here"},drawBackground:function(){var a=window.utils.getCanvasMultiplier();this.ctx.scale(a,a);this.ctx.save();var d=2/
3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,d);this.ctx.lineTo(this.ctx.canvas.width/a-10,d);this.ctx.stroke();this.ctx.fillStyle="#000";var c=this.zn();this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(c,this.ctx.canvas.width/a/2,d-20);this.ctx.restore()},Pz:function(){this.xE();this.drawBackground();this.ctx.save();var a=this.u.jc(0),
d=this.freeHandAnnot.StrokeThickness;this.freeHandAnnot.StrokeThickness*=this.fR;this.freeHandAnnot.draw(this.ctx,a);this.freeHandAnnot.StrokeThickness=d;this.ctx.restore()},initAnnot:function(){var a=this.u.Da();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=a.am();this.freeHandAnnot.StrokeColor=this.defaults.StrokeColor;this.freeHandAnnot.StrokeThickness=this.defaults.StrokeThickness;this.freeHandAnnot.Opacity=this.defaults.Opacity;this.freeHandAnnot.Subject=Annotations.ja.Dc("signature");
this.freeHandAnnot.ToolName=this.name;this.freeHandAnnot.MaintainAspectRatio=!0},TI:function(a){this.Dz=a=$.extend(!0,[],a)},RO:function(a){this.TI(a);this.trigger("saveDefault",[a])},tW:function(){var a=$.extend(!0,[],this.freeHandAnnot.He());this.trigger("saveDefault",[a,this.freeHandAnnot])},pL:function(a,d){a=$.extend(!0,[],a);for(var c=0;c<a.length;++c){for(var b=0;b<a[c].length;++b)a[c][b]=new Annotations.Point(a[c][b].x,a[c][b].y);this.freeHandAnnot.setPath(a[c],c)}$.extend(this.freeHandAnnot,
d);this.sx=a.length},WP:function(){this.location=null},AT:function(){return!!this.location},wT:function(){return this.Dz?!0:!1},oV:function(){this.initAnnot();this.drawBackground()},ZO:function(){var a=this.Dz;a&&(this.pL(a),this.MF())},aT:function(){if(this.freeHandAnnot.Width&&this.freeHandAnnot.Height){var a=this.u.jc(0);this.qF({pageIndex:0,x:0,y:0});var d=this.freeHandAnnot.Gc(),c=d.Aa(),d=d.ya(),b=document.createElement("canvas");b.width=c;b.height=d;var g=b.getContext("2d");this.freeHandAnnot.draw(g,
a);a=this.u.bf();return{imgSrc:b.toDataURL(),width:c*a,height:d*a}}},MF:function(a){if(this.cJ())return!1;a&&this.RO(this.freeHandAnnot.He());a=this.u.Da();var d=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=d;d=this.u.hd(d);d!==b.o.Ga.oh&&this.freeHandAnnot.rotate(d*-Math.PI/2,this.location);this.qF(this.location);this.trigger("signatureReady",[this.freeHandAnnot]);a.ih(this.freeHandAnnot);a.Kb(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();this.location=
null;return!0},qF:function(a){var d=this.freeHandAnnot.Width,c=this.freeHandAnnot.Height,b,g,e;d>c?(b=a.x-this.Bj,g=a.y-c/d*this.Bj,e=a.x+this.Bj,d=a.y+c/d*this.Bj):(b=a.x-d/c*this.Bj,g=a.y-this.Bj,e=a.x+d/c*this.Bj,d=a.y+this.Bj);a=this.u.getDocument().ic(a.pageIndex);b=new Annotations.Rect(b,g,e,d);b.fv(new Annotations.Rect(0,0,a.width,a.height));this.freeHandAnnot.resize(b)},cJ:function(){return 0===this.sx},FX:function(a){var d=this;this.canvas=a;this.canvas[0].style.touchAction="none";this.ctx=
a[0].getContext("2d");this.canvas.on("mousedown touchstart",function(a){if(1===a.which||0===a.which)a=d.NE(a),d.freeHandAnnot.wb(a.x,a.y,d.lc),d.Pz(),d.Zq=!0});this.canvas.on("touchmove",function(a){a.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(a){d.Zq&&(a=d.NE(a),d.freeHandAnnot.wb(a.x,a.y,d.lc),d.Pz(),d.visible=!0)},20));this.canvas.on("mouseup touchend",function(){d.IE()})},mouseLeftDown:function(a){a.preventDefault();l.Tool.prototype.mouseLeftDown.apply(this,arguments);
this.u.da.Sd()},mouseLeftUp:function(a){a.preventDefault();l.Tool.prototype.mouseLeftUp.apply(this,arguments);var d=this.pageCoordinates[1];d&&(this.location=d,this.trigger("locationSelected",d))}};l.SignatureCreateTool.prototype=$.extend(new l.Tool,l.SignatureCreateTool.prototype,b.utils.eventHandler);l.Lc=function(a,d){l.Zb.call(this,a);this.text=this.annotation=null;this.dz=d;this.defaults={Opacity:1,StrokeColor:new Annotations.Color(255,0,0)}};l.Lc.AUTO_SET_TEXT=!0;l.Lc.prototype=$.extend(new l.Zb,
{switchIn:function(a){l.Zb.prototype.switchIn.call(this,a);this.u.ue({annotMode:!0})},switchOut:function(a){l.Zb.prototype.switchOut.call(this,a);this.u.ue({annotMode:!1})},mouseLeftDown:function(a){l.Zb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation||!this.pageCoordinates||(a=this.u.da,this.annotation=new this.dz,this.annotation.Author=a.am(),a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.Opacity=this.defaults.Opacity||
1,this.annotation.ToolName=this.name,this.trigger("annotationCreated",[this.annotation]))},textSelected:function(a,d,c){this.annotation&&this.pageCoordinates[0].pageIndex===a&&0<d.length&&(this.annotation.gx(d.map(function(a){return a.zh()})),this.annotation.PageNumber=a+1,this.text=c,!l.Lc.AUTO_SET_TEXT||this.annotation instanceof Annotations.Jd||this.annotation.Nh(this.text),this.u.da.Kb(this.annotation))},mouseLeftUp:function(a){l.Zb.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&this.annotation&&
(a=this.u.da,!this.text||1>this.text.length?a.Rd(this.annotation):(a.ih(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},b.utils.eventHandler);l.fy=function(a,d){l.Lc.call(this,a,b.Annotations.Yh);this.defaults.StrokeColor=new Annotations.Color(255,255,0);delete this.defaults.Opacity;this.name=d||"TextHighlightCreateTool"};l.fy.prototype=new l.Lc;l.Wp=function(a,d){l.Lc.call(this,a,b.Annotations.Jd);this.name=d||"RedactCreateTool";this.defaults=
{StrokeColor:new Annotations.Color(255,0,0),FillColor:new Annotations.Color(0,0,0,1),StrokeThickness:1.5,Opacity:1}};l.Wp.prototype=$.extend(new l.GenericAnnotationCreateTool,new l.Lc,{mouseMove:function(a){"text"===this.cursor?l.Lc.prototype.mouseMove.call(this,a):l.GenericAnnotationCreateTool.prototype.mouseMove.call(this,a)},mouseLeftDown:function(a){"text"===this.cursor?(l.Lc.prototype.mouseLeftDown.call(this,a),this.annotation&&(this.annotation.IsText=!0)):(l.GenericAnnotationCreateTool.prototype.mouseLeftDown.call(this,
a),this.annotation&&(this.annotation.IsText=!1,this.annotation.NoMove=!1));this.annotation&&this.defaults&&(null!==this.defaults.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A)),null!==this.defaults.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness),null!==this.defaults.FillColor&&(a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A)))},mouseLeftUp:function(a){this.annotation&&
this.annotation.IsText?l.Lc.prototype.mouseLeftUp.call(this,a):l.GenericAnnotationCreateTool.prototype.mouseLeftUp.call(this,a)}});l.iy=function(a,d){l.Lc.call(this,a,b.Annotations.pn);this.name=d||"TextUnderlineCreateTool"};l.iy.prototype=new l.Lc;l.hy=function(a,d){l.Lc.call(this,a,b.Annotations.nn);this.name=d||"TextStrikeoutCreateTool"};l.hy.prototype=$.extend(new l.Lc,{mouseLeftUp:function(){l.Lc.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var a=this.annotation,d=this.u.da;
a&&d.Ji(a)&&d.Kb(a)}}});l.gy=function(a,d){l.Lc.call(this,a,b.Annotations.mn);this.name=d||"TextSquigglyCreateTool"};l.gy.prototype=new l.Lc;l.ot=function(a,d){l.AnnotationSelectTool.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1};this.cursor="crosshair";this.name=d||"StickyCreateTool";this.yq=!1};l.ot.prototype=$.extend(new l.AnnotationSelectTool,{switchIn:function(){m(this.u,this.cursor)},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
a);var d=this.pageCoordinates[1];if(d&&(!this.Qb||this.yq)){var c=this.u.da;c.Sd();this.annotation=new Annotations.il;this.annotation.X=d.x;this.annotation.Y=d.y;this.annotation.PageNumber=d.pageIndex+1;this.annotation.Author=c.am();d=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(d.R,d.G,d.B,d.A);this.annotation.Opacity=this.defaults.Opacity;this.annotation.ToolName=this.name;this.trigger("annotationCreated",[this.annotation]);c.ih(this.annotation);this.trigger("annotationAdded",
[this.annotation]);c.Kb(this.annotation);this.annotation=null;a.preventDefault()}},AC:function(a){this.yq=a}},b.utils.eventHandler);l.Xp=function(a,d){q.call(this,a);this.annotation=null;this.defaults={Opacity:1};this.cursor="crosshair";this.name=d||"StampCreateTool"};l.Xp.ACCEPTED_IMAGE_TYPES=".jpg,.jpeg,.png";l.Xp.prototype=$.extend(new l.Tool,{switchIn:function(){m(this.u,this.cursor)},mouseLeftDown:function(a){if(!this.annotation){q.prototype.mouseLeftDown.call(this,a);this.u.Da().Sd();var d=
this.pageCoordinates[0];if(d){var c=this.Ud(this.Ib).pageIndex,b=document.createElement("input");b.setAttribute("type","file");b.setAttribute("accept",l.Xp.ACCEPTED_IMAGE_TYPES);b.setAttribute("display","none");b.onchange=function(){if(b.files&&b.files[0])if("image/png"!==b.files[0].type&&"image/jpeg"!==b.files[0].type)console.warn("Invalid file type. Please choose a png/jpg/jpeg file.");else{var a=new FileReader;a.onload=function(a){var b=this.u.da;this.annotation=new Annotations.hl;this.annotation.X=
d.x;this.annotation.Y=d.y;this.annotation.PageNumber=d.pageIndex+1;this.annotation.Author=b.am();this.annotation.ImageData=a.target.result;var g=90*this.u.hd(this.annotation.PageNumber);this.annotation.Rotation=g;var e=new Image;e.onload=function(){var a=e.width,d=e.height;if(90===g||270===g)var f=a,a=d,d=f;var m=a/d,f=this.u.ld(c),h=this.u.kd(c),a=Math.min(a,f),d=Math.min(d,h);a/d!==m&&(d*m<a?a=d*m:d=a/m);this.annotation.Width=a;this.annotation.Height=d;this.annotation.X-=this.annotation.Width/2;
this.annotation.Y-=this.annotation.Height/2;a=this.annotation.Gc();a.fv(new Annotations.Rect(0,0,f,h));this.annotation.resize(a);this.annotation.ToolName=this.name;this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);b.ih(this.annotation);this.trigger("annotationAdded",[this.annotation]);b.Kb(this.annotation);this.annotation=null}.bind(this);e.src=a.target.result}.bind(this);a.readAsDataURL(b.files[0]);document.body.removeChild(b)}}.bind(this);document.body.appendChild(b);
b.click()}}}},b.utils.eventHandler);l.$g=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.yj);this.annotation=null;this.Am=!1;delete this.defaults.FillColor;this.name=d||"PolylineCreateTool";this.yq=!1};l.$g.prototype=$.extend(new l.GenericAnnotationCreateTool,{mouseLeftDown:function(a){var d;l.GenericAnnotationCreateTool.prototype.mouseLeftDown.call(this,a);d=this.annotation&&0===this.annotation.getPath().length;this.isSelecting()||this.Qb&&d&&!this.yq||!this.annotation||((d=
a.data.pageCoordinate,d&&d.pageIndex===this.annotation.rb())?null!==d.x&&null!==d.y&&(0===this.annotation.na.length?this.annotation.wb(d.x,d.y):this.Am||(this.annotation.Ek(),this.annotation.wb(d.x,d.y)),this.Am=!0):this instanceof l.CalloutCreateTool?(this.Nq(),this.u.da.Rd(this.annotation),this.annotation=null):this.mouseDoubleClick(a))},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a)},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);
if(this.annotation&&!this.isSelecting()&&a.data){var d=a.data.pageCoordinate;if(null!==d&&null!==d.x&&null!==d.y&&d.pageIndex===this.annotation.rb()){this.Am||this.annotation.Ek();var c=this.annotation.getPath();0===c.length?(this.annotation.wb(d.x,d.y),this.Am=!1):0<c.length&&(c[c.length-1].x!==d.x||c[c.length-1].y!==d.y)&&(this.annotation.wb(d.x,d.y),this.Am=!1);this.annotation.X=this.annotation.Za.x;this.annotation.Y=this.annotation.Za.y;this.u.da.Kb(this.annotation);this.Iq(a)}}},mouseDoubleClick:function(){this.annotation&&
(this.annotation.finish(),this.finish())},Tr:function(a){this.annotation&&this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},tap:function(a){this.annotation&&0<this.annotation.getPath().length||l.AnnotationSelectTool.prototype.tap.call(this,a)},Nq:function(){for(;0<this.annotation.getPath().length;)this.annotation.Ek()},AC:function(a){this.yq=a}});l.Zg=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.$f);this.annotation=null;this.Am=!1;this.name=d||"PolygonCreateTool"};
l.Zg.prototype={Nq:function(){for(;0<this.annotation.getPath().length;)this.annotation.Ek()}};l.Zg.prototype=$.extend(new l.$g,l.Zg.prototype);l.Vp=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.$f);this.annotation=null;this.Am=!1;this.name=d||"PolygonCloudCreateTool"};l.Vp.prototype={mouseLeftDown:function(){l.Zg.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};l.Vp.prototype=$.extend(new l.Zg,
l.Vp.prototype);var p={scale:"1 in = 1 in",axis:[{factor:.0138889,unit:"in",decimalSymbol:".",thousandsSymbol:",",display:"D",precision:100,unitPrefix:"",unitSuffix:"",unitPosition:"S"}],distance:[{factor:1,unit:"in",decimalSymbol:".",thousandsSymbol:",",display:"D",precision:100,unitPrefix:"",unitSuffix:"",unitPosition:"S"}],area:[{factor:1,unit:"sq in",decimalSymbol:".",thousandsSymbol:",",display:"D",precision:100,unitPrefix:"",unitSuffix:"",unitPosition:"S"}]};l.Vs=function(d,b){l.Wg.call(this,
d);c(this);this.name=b||"DistanceMeasurementCreateTool";this.IT="LineDimension";this.Measure=a(p);this.Sv=this.hH=!1};l.Vs.prototype=$.extend(new l.Wg,{NW:function(a){this.hH=a},mouseLeftDown:function(d){this.Sv?(this.finish(),this.Sv=!1):(l.Wg.prototype.mouseLeftDown.call(this,d),this.annotation&&(this.annotation.caption="yes",this.annotation["caption-style"]="Top",this.annotation.IT=this.IT,this.annotation.Measure=a(this.Measure),this.annotation.nj("OpenArrow"),this.annotation.ip("OpenArrow")))},
mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation)if(this.Sv){var d=this.annotation.End;a=this.Ud(this.Gf(a));null!==a&&a.pageIndex===this.annotation.PageNumber-1&&(this.annotation.leaderLength=Math.sqrt(Math.pow(a.x-d.x,2)+Math.pow(a.y-d.y,2))*Math.sin(this.annotation.Yl()-Math.atan2(a.y-d.y,a.x-d.x)),this.annotation.adjustRect(),this.u.da.Kb(this.annotation))}else l.Wg.prototype.mouseMove.call(this,a)},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,
a);this.annotation&&(this.hH?this.jJ(this.annotation)?(this.u.Da().Rd(this.annotation),this.annotation=null):this.Sv=!0:this.finish())}});l.Xx=function(d,b){l.$g.call(this,d);c(this);this.name=b||"PerimeterMeasurementCreateTool";this.IT="PolyLineDimension";this.Measure=a(p)};l.Xx.prototype=$.extend(new l.$g,{mouseLeftDown:function(d){l.$g.prototype.mouseLeftDown.call(this,d);this.annotation&&(this.annotation.Measure=a(this.Measure),this.annotation.IT=this.IT)}});l.Cx=function(d,b){l.Zg.call(this,
d);c(this);this.name=b||"AreaMeasurementCreateTool";this.IT="PolygonDimension";this.Measure=a(p)};l.Cx.prototype=$.extend(new l.Zg,{mouseLeftDown:function(d){l.Zg.prototype.mouseLeftDown.call(this,d);this.annotation&&(this.annotation.Measure=a(this.Measure),this.annotation.IT=this.IT)}});l.CalloutCreateTool=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.Ha,Annotations.Ha.Kc.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt";
this.defaults.Width=150;this.defaults.Height=30;this.name=d||"CalloutCreateTool"};l.CalloutCreateTool.prototype=$.extend(new l.$g,{lineCount:2,Gr:function(){return!!this.u.Da().uA().no},mouseLeftDown:function(a){if(this.Gr())this.annotation=null;else if(l.$g.prototype.mouseLeftDown.call(this,a),null!==this.annotation&&(this.annotation.CalloutLineCount=this.lineCount,this.annotation.getPath().length>=this.annotation.CalloutLineCount+1)){this.annotation.getPath().length>this.annotation.CalloutLineCount+
1&&this.annotation.Ek();var d=this.annotation.getPath()[this.annotation.CalloutLineCount],c=90*this.u.hd(this.annotation.PageNumber),b=this.defaults.Width,g=this.defaults.Height/2,e=this.u.ld(this.annotation.rb()),f=this.u.kd(this.annotation.rb());d.x+b>e&&(d.x-=b);d.y+g>f?d.y-=g:0>d.y-g&&(d.y+=g);90===c||270===c?(this.annotation.wb(d.x-g,d.y),this.annotation.wb(d.x+g,d.y+b)):(this.annotation.wb(d.x,d.y-g),this.annotation.wb(d.x+b,d.y+g));this.annotation.Rotation=c;d=this.defaults.TextColor;this.annotation.TextColor=
new Annotations.Color(d.R,d.G,d.B,d.A);this.annotation.FontSize=this.defaults.FontSize;this.u.da.Kb(this.annotation);this.finish();a.preventDefault()}},mouseDoubleClick:function(a){this.annotation||l.Tool.prototype.mouseDoubleClick.call(this,a)},Tr:function(){null!==this.annotation&&(this.Nq(),this.u.da.Rd(this.annotation),this.annotation=null)},contextMenu:function(a){a.preventDefault()}});l.an=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.Ha);this.defaults.StrokeThickness=
0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt";this.name=d||"FreeTextCreateTool"};l.an.JC=function(a){l.an.prototype.zn=a};l.an.prototype=$.extend(new l.GenericAnnotationCreateTool,{initialText:"Insert text here",zn:function(){return this.initialText},Gr:function(){var a=this.u.Da().uA().no,d=a&&a.length?document.body.contains(a[0]):!1;return!!a&&d},mouseLeftDown:function(a){var d=0<this.u.Da().Ie().length;l.GenericAnnotationCreateTool.prototype.mouseLeftDown.call(this,
a);this.isSelecting()||(this.Gr()||d?this.annotation=null:this.annotation&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness,this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.kp(Annotations.Ha.Kc.FreeText),this.annotation.Nh(this.zn()),this.annotation.Rotation=90*this.u.hd(this.annotation.PageNumber),a=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.FontSize=this.defaults.FontSize))},mouseMove:function(a){l.AnnotationSelectTool.prototype.mouseMove.call(this,
a);if(!this.isSelecting()&&!this.Gr()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){var d=this.pageCoordinates[0],c=this.pageCoordinates[1];null!==c&&null!==d&&d.pageIndex===c.pageIndex&&(d=new Annotations.Rect(d.x,d.y,c.x,c.y),d.normalize(),this.annotation.Fg(d),this.annotation.Jm(new Annotations.Rect(0,0,0,0)),this.u.da.Kb(this.annotation),this.Iq(a))}},mouseLeftUp:function(a){l.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);if(!this.isSelecting()){if(this.Qb&&this.annotation){a=
this.annotation.Aa();var d=this.annotation.ya(),c=2*(this.annotation.getRectPadding()+1);if(a<=c||d<=c){this.annotation=null;return}}if(this.Gr())this.annotation=null;else if(this.annotation){a=this.annotation.Aa();d=this.annotation.ya();c=2*(this.annotation.getRectPadding()+1);if(a<=c||d<=c)this.annotation.NC(1),this.annotation.jp(1),this.annotation.Rotation=90*this.u.hd(this.annotation.PageNumber),this.annotation.JW(!0);a=this.defaults.FillColor;this.annotation.FillColor=new Annotations.Color(a.R,
a.G,a.B,a.A);a=this.annotation.getRectPadding();this.annotation.Jm(new Annotations.Rect(a,a,a,a));this.u.da.Kb(this.annotation);this.u.da.ih(this.annotation);this.trigger("annotationAdded",[this.annotation]);this.annotation=null}}}});l.Ox=function(a,d){l.GenericAnnotationCreateTool.call(this,a,b.Annotations.FreeHandAnnotation);this.name=d||"EraserTool";this.defaults={StrokeColor:new Annotations.Color(205,205,205),StrokeThickness:20,Opacity:.25};this.Qv=!1;this.nx=[];this.overrideSelection=!0};l.Ox.prototype=
$.extend(new l.GenericAnnotationCreateTool,{mouseLeftDown:function(a){this.Qv=!0;l.GenericAnnotationCreateTool.prototype.mouseLeftDown.call(this,a);this.annotation&&this.annotation.wb(this.pageCoordinates[1].x,this.pageCoordinates[1].y);m(this.u,"crosshair")},complete:function(){var a=this,d=[];if(this.annotation&&0<this.annotation.He().length){var c=this.nx.map(function(d){return a.docViewer.Da().Ef(d)}),b=this.defaults.StrokeThickness/2;this.annotation.He().forEach(function(g){for(var e=1,f=g.length;e<
f;e++)for(var m=g[e-1],h=g[e],l=0;l<c.length;l++){var n=c[l];a.FE(n.He(),m,h,b);n.He()&&0===n.He().length?a.docViewer.da.Rd(n):(n.IsModified=!0,d.push(n))}});this.u.da.Rd(this.annotation);d.length&&this.u.da.trigger("annotationChanged",[d,"modify"])}this.Qv=!1;this.nx=[];this.ac=this.annotation=null},Tr:function(){this.complete()},switchIn:function(){l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!1;l.Tool.ENABLE_AUTO_SWITCH=!1;m(this.u,"crosshair")},switchOut:function(a){l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=
!0;l.Tool.ENABLE_AUTO_SWITCH=!0;this.complete();l.GenericAnnotationCreateTool.prototype.switchOut.call(this,a)},mouseLeftUp:function(){this.Qv=!1;this.annotation&&(this.annotation.wb(this.pageCoordinates[1].x,this.pageCoordinates[1].y),this.complete())},mouseMove:function(a){if(this.Qv&&this.annotation&&1<this.annotation.getPath().length)for(var d=this._getList(this.annotation.sb()),c=this.annotation.getPath().concat(),g=c[c.length-2],c=c[c.length-1],e=this.defaults.StrokeThickness/3,f=[],m=0,h=d.length,
n=[],k=function(a){return function(){n[a]=!0}};m<h;m++){var q=d[m];if(this.u.Da().Rc(q)){var p=[];if(q instanceof Annotations.yj||q instanceof Annotations.$f)p.push(q.getPath());else if(q instanceof Annotations.Gd)p.push([q.vI(),q.TH()]);else if(q instanceof Annotations.FreeHandAnnotation)p=q.He().map(function(a){return a.slice()});else{var G=q.Gc();p.push([new Annotations.Point(G.x1,G.y2),new Annotations.Point(G.x1,G.y1),new Annotations.Point(G.x2,G.y1),new Annotations.Point(G.x2,G.y2),new Annotations.Point(G.x1,
G.y2)])}var G=!1,G=q.FillColor&&1===q.FillColor.A?b.utils.isPointInQuad(c,p[0]):this.FE(p.concat(),g,c,e),p=!(q instanceof Annotations.FreeHandAnnotation),H=-1===this.nx.indexOf(q.Id);G&&(p||H)&&(G={},G.annotation=q,G.skipAnnotation=k(m),this.trigger("erasingAnnotation",G),!n[m]&&p?(this.u.Da().Rd(q),f.push(m)):!n[m]&&H&&this.nx.push(q.Id));0<f.length&&f.forEach(function(a){d.splice(a,1)})}}l.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.annotation&&null!==this.pageCoordinates&&null!==
this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===this.pageCoordinates[1].pageIndex&&(this.annotation.wb(this.pageCoordinates[1].x,this.pageCoordinates[1].y),this.u.da.Kb(this.annotation))},_getList:function(a){this.ac||(this.ac=this.u.Da().Ec().filter(function(d){return d.sb()===a}));return this.ac},FE:function(a,d,c,g){var e=!1;if(!a||!Array.isArray(a))return e;for(var f=a.length-1;0<=f;--f){var m=b.utils.getQuadFromPoints(d,c,g),h=a[f];if(!h||!Array.isArray(h))break;if(!h.length)break;
if(1===h.length&&b.utils.isPointInQuad({x:h[0].x,y:h[0].y},m))a.splice(f,1),e=!0;else for(var l=h.length-1;0<l;--l){var n=h[l-1],k=h[l],q=b.utils.isPointInQuad(n,m),p=b.utils.isPointInQuad(k,m);!q&&p?(e=b.utils.returnPointThatIntersectsQuad(m,k,n),h.pop(),h.push(e[0]),e=!0):q&&p?(h.pop(),e=!0):q&&!p?(n=b.utils.returnPointThatIntersectsQuad(m,n,k),l===h.length-1?h.pop():(e=b.utils.splitInkListBetween(a,l-1,f),e.unshift(n[0]),a.push(e),1===h.length&&a.splice(f,1),e=!0)):q||p||(n=b.utils.returnPointThatIntersectsQuad(m,
n,k))&&2===n.length&&(e=b.utils.splitInkListBetween(a,l-1,f),h.push(n[0]),e.unshift(n[1]),a.push(e),e=!0)}}return e}});l.nf=function(a,d){l.Tool.call(this,a);this.name=d||"MarqueeZoomTool";this.Nj=!0};l.nf.PX=function(a){l.nf.prototype.OE=a};l.nf.eX=function(a){l.nf.prototype.du=a};l.nf.fX=function(a){l.nf.prototype.fu=a};l.nf.prototype=$.extend(new l.Tool,{fu:Number.MIN_VALUE,du:Number.MAX_VALUE,switchIn:function(){l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!1;l.Tool.ENABLE_AUTO_SWITCH=!1;m(this.u,"zoom-in");
this.u.Km("auto")},switchOut:function(){l.Tool.prototype.switchOut.call(this);l.Tool.ENABLE_ANNOTATION_HOVER_CURSORS=!0;l.Tool.ENABLE_AUTO_SWITCH=!0;this.u.Km("none")},keyDown:function(a){if(a.metaKey||a.ctrlKey)this.Nj=!1,m(this.u,"zoom-out")},qJ:function(){this.Nj=!0;m(this.u,"zoom-in")},mouseLeftDown:function(a){l.Tool.prototype.mouseLeftDown.call(this,a);a=this.u.bf();!this.pageCoordinates[0]||!this.Nj&&a<=this.fu||this.Nj&&a>=this.du||(this.sB=!0,this.Nj?m(this.u,"zoom-in"):m(this.u,"zoom-out"))},
mouseMove:function(a){l.Tool.prototype.mouseMove.call(this,a);a=this.pageCoordinates;this.sB&&this.Nj&&a[0].pageIndex===a[1].pageIndex&&(this.mR=this.pageCoordinates[1],e([this.Zd,this.Ib],a,this.u))},mouseLeftUp:function(a){l.Tool.prototype.mouseLeftUp.call(this,a);if(this.sB){this.sB=!1;var d=Math.abs(this.Ib.x-this.Zd.x),c=Math.abs(this.Ib.y-this.Zd.y);a=this.u.bf();15>d&&15>c?(d=this.OE(a),this.Nj||(d-=2*(d-a)),d=Math.max(this.fu,Math.min(this.du,d)),this.u.rM(d,0,0)):this.Nj&&(d=a*this.zO(d,
c),d=Math.max(this.fu,Math.min(this.du,d)),this.u.Ax(d),a=this.xO([this.pageCoordinates[0],this.mR]),d=this.u.yb().offset(),this.u.scrollTo(a.x-d.left,a.y-d.top));f()}},OE:function(a){var d={"0.075":[Number.MIN_VALUE,.8],"0.25":[.8,1.5],1:[1.5,3.5],2:[3.5,8],4:[8,32],8:[32,64],16:[64,Number.MAX_VALUE]},c=Object.keys(d),b,g,e;for(g=0;g<c.length;g++)if(e=d[c[g]],a>=e[0]&&a<=e[1]){b=c[g];break}return a+parseFloat(b)},zO:function(a,d){var c=this.u.yb(),b=c.width(),c=c.height();return Math.min(b/a,c/d)},
xO:function(a){var d=a[1].pageIndex,c=this.u.hd(d+1),b;0===c?b={x:Math.min(a[0].x,a[1].x),y:Math.min(a[0].y,a[1].y)}:1===c?b={x:Math.min(a[0].x,a[1].x),y:Math.max(a[0].y,a[1].y)}:2===c?b={x:Math.max(a[0].x,a[1].x),y:Math.max(a[0].y,a[1].y)}:3===c&&(b={x:Math.max(a[0].x,a[1].x),y:Math.min(a[0].y,a[1].y)});return this.u.dm().gc().hf(b,d)}})})(window);
(function(b){function f(a,c){this.qc=a;this.u=c;this.onAnnotationHover=function(c,b){var g=a.hr(b),e=a.Ec().filter(function(a){return a.IsHovering});e.forEach(function(a){a.IsHovering=!1});g&&g.Listable&&g.IsHoverable&&(g.IsHovering=!0,e.push(g));a.wi(e)};this.u.on("mouseMove.hover",this.onAnnotationHover)}function e(a){var c=this;this.qc=a;this.no=null;this.onEditBoxAnnotationChanged=function(a,d,b){for(var e=0;e<d.length;++e){var f=d[e];"add"===b&&c.HI(f)&&c.qc.jz(f)?(c.VI(f),a.imported||(c.tH(f),
f.Ab.select(),f.Ab[0].setSelectionRange(0,99999))):"delete"===b&&f.Ab&&(f.Ab.remove(),delete f.Ab)}};this.onEditBoxAnnotationDoubleClicked=function(a,d){c.qc.jz(d)&&c.HI(d)&&(d.Ab||c.VI(d),c.no&&d.Ab.val()!==d.rh()&&c.qc.FC(d,d.Ab.val()),c.tH(d))};this.qc.on("annotationChanged.editbox",this.onEditBoxAnnotationChanged);this.qc.on("annotationDoubleClicked.editbox",this.onEditBoxAnnotationDoubleClicked)}function c(a){this.qc=a;this.Gm=[]}var a=window.o;a.ga=function(a){if(!a)throw Error("AnnotationManager requires DocumentViewer to initialize");
var g=this;g.Ou="";g.mB=!1;g.readOnly=!1;g.P_=!1;g.DF=!0;g.u=a;g.eh=new c(g);g.g_=new f(g,a);g.DE=new e(g);g.Fl=new b.o.YN(g);g.init();g.qh=new b.Annotations.O.Sg(this);g.SF=function(a){return a.Author};g.bC={get:function(a,d){return this[a]&&this[a][d]},set:function(a,d,c){this[a]=this[a]||{};this[a][d]=c},"delete":function(a,d){delete this[a][d]}};g.Xu={get:function(a,d){return this[a]&&this[a][d]},set:function(a,d,c){this[a]=this[a]||{};this[a][d]=c},"delete":function(a,d){delete this[a][d]}};
a.on("contentRemoved.annotManager",function(){g.ac.forEach(function(a){a.trigger("contentRemoved")})});a.on("documentLoaded",function(){g.RQ()});g.H_={};g.Xj={line:[Annotations.Gd],circle:[Annotations.Xk],square:[Annotations.Aj],freetext:[Annotations.Ha],stamp:[Annotations.hl],text:[Annotations.il],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.yj],polygon:[Annotations.$f],strikeout:[Annotations.nn],highlight:[Annotations.Yh],redact:[Annotations.Jd],underline:[Annotations.pn],squiggly:[Annotations.mn],
caret:[Annotations.Fp],widget:[Annotations.ll,Annotations.Qg,Annotations.vj,Annotations.zj,Annotations.Uh,Annotations.bl,Annotations.ag],link:[Annotations.zd],custom:[Annotations.Ip]};g.controlPointSize=8;g.controlPointHitBoxScale=1;g.on("annotationSelected",function(a,d,c){var b=this;if(d)if("selected"===c){var e=[];d.forEach(function(a){e=e.concat(g.BA(a))});e=e.filter(function(a){return!b.Oi(a)});b.Ww(e)}else if("deselected"===c){var f=[];d.forEach(function(a){f=f.concat(g.BA(a))});f=f.forEach(function(a){b.Oi(a)&&
b.Ol(a)})}});g.on("annotationChanged",function(a,d,c){"add"===c&&d.forEach(function(a){if(a.Listable&&!a.ToolName)switch(a.elementName){case "line":a.ToolName=a.Measure&&"LineDimension"===a.IT?"AnnotationCreateDistanceMeasurement":"None"===a.uh()&&"None"===a.af()?"AnnotationCreateLine":"AnnotationCreateArrow";break;case "circle":a.ToolName="AnnotationCreateEllipse";break;case "square":a.ToolName="AnnotationCreateRectangle";break;case "freetext":a.ToolName=a.vh()===Annotations.Ha.Intent.FreeTextCallout?
"AnnotationCreateFreeText":"AnnotationCreateCallout";break;case "stamp":a.ToolName="AnnotationCreateStamp";break;case "ink":a.EZ===Annotations.ja.Dc("signature")?a.ToolName="AnnotationCreateSignature":a.ToolName="AnnotationCreateFreeHand";break;case "polyline":a.ToolName=a.Measure&&"PolyLineDimension"===a.IT?"AnnotationCreatePerimeterMeasurement":"AnnotationCreatePolyline";break;case "polygon":a.ToolName="cloudy"===a.PN&&"PolygonCloud"===a.Kc?"AnnotationCreatePolygonCloud":a.Measure&&"PolygonDimension"===
a.IT?"AnnotationCreateAreaMeasurement":"AnnotationCreatePolygon";break;case "strikeout":a.ToolName="AnnotationCreateTextStrikeout";break;case "highlight":a.ToolName="AnnotationCreateTextHighlight";break;case "underline":a.ToolName="AnnotationCreateTextUnderline";break;case "squiggly":a.ToolName="AnnotationCreateTextSquiggly";break;case "text":a.ToolName="AnnotationCreateSticky";break;case "redact":a.ToolName="AnnotationCreateRedaction"}})});g.on("annotationChanged",function(a,d,c,b){if(!b&&!a.h0&&
Annotations.ja.extraSelectorsEnabled&&d&&0!==d.length&&!(1<d.length)){var e=d[0],f=g.u.getDocument(),p=e.rb();if(-1!==p&&g.u.Jo&&0!==g.u.dj.length&&e.Jk())if(g.u.dj[g.u.dj.length-1][0]!==p)g.u.Jo=null,g.u.dj=[];else{var u=g.u.dj.pop(),r=function(){if(e&&u&&g.u.Jo){var a=g.u.getDocument();a===f&&g.Ef(e.qZ)&&(a=new XODText.Cj(a),g.u.Jo.apply(a,u),e.TextIndices=a.bu,e.SurroundingTexts=a.cu,e.lb(!0),g.trigger("annotationChanged",[[e],"modify",!0]))}};f.dc().then(function(){var a=g.u.getDocument();if(a===
f){var d=Annotations.ja.NG(p,a.xb());a.Qr(d).then(r)}})}}})};a.ga.prototype={init:function(){this.ac=[];this.Hz=[];this.zq=[];this.Qu={};this.eh.Sd();this.Dk=null},tT:function(a,c){function b(a){a.nr().forEach(function(a){e(a)})}function e(c){a.wq(c);var b=c.InReplyTo;c.InReplyTo=a.Id;c.ReplyType="group";b&&c.InReplyTo!==b&&f.Ef(b).Fz(c)}var f=this;c.forEach(function(c){c!==a&&(c.InReplyTo?e(c):(e(c),b(c)))});this.trigger("annotationChanged",[c,"modify"])},UL:function(a){if(0!==a.length){var c=this;
a.forEach(function(a){if("group"===a.ReplyType){var d=c.Ef(a.InReplyTo);d&&d.Fz(a);a.InReplyTo=null;a.ReplyType=null}});this.trigger("annotationChanged",[a,"modify"])}},xS:function(a){var c=0,b=[];a.forEach(function(a){a=a.InReplyTo||a.Id;0>b.indexOf(a)&&(b.push(a),c++)});return c},BA:function(a){var c=[];if(a.eJ()){if(a=this.Ef(a.InReplyTo))return c.push(a),c.concat(a.nr())}else c=a.nr(),c.push(a);return c},RQ:function(){this.co=!1},am:function(){return this.Ou},CC:function(a){this.Ou=a;this.trigger("updateAnnotationPermission")},
mS:function(){return this.mB},XW:function(a){this.mB=a;this.trigger("updateAnnotationPermission")},nI:function(){return this.readOnly},yX:function(a){this.readOnly=a;this.trigger("updateAnnotationPermission")},KY:function(){return this.DF},KQ:function(){this.DF=!1;this.DE.disable()},wX:function(a){this.FG=a},eG:function(a){return(this.FG?this.FG(a.Author,a):this.mB||a.Author===this.Ou||null===a.Author||"undefined"===typeof a.Author)&&!this.readOnly&&!a.ReadOnly},Rc:function(a){return this.eG(a)&&
!a.Locked},jz:function(a){return this.eG(a)&&!a.LockedContents},HX:function(a){this.JL=a},ke:function(){return this.qh},sK:function(a){a=a.map(Number);var c=[];this.ac=this.ac.filter(function(b){return-1!==a.indexOf(b.PageNumber)&&b.ZH()?(c.push(b),b.px(),!1):!0});if(0<c.length){var b=this;setTimeout(function(){b.trigger("annotationChanged",[c,"delete"])},0)}},XV:function(a){var c=this;a.on("layoutChanged",function(a,d){if(d.removed&&0<d.removed.length){for(var b=[],e=0,f=c.ac.length;e<f;e++)-1<d.removed.indexOf(c.ac[e].PageNumber)&&
b.push(c.ac[e]);c.Tq(b,!1,!0)}c.ac.forEach(function(a){var c=d.moved[a.PageNumber];c&&(a.PageNumber=c)})});a.on("pageContentChanged",function(a,d){0<d.length&&c.sK(d)});a.on("pageDiff",function(a,d){var b={};c.ac.forEach(function(a){var d=a.sb();d in b?b[d].push(a):b[d]=[a]});d.forEach(function(a){var d=a.before;a=a.after;var c=b[a.pageNum];if(c){var g=new XODText.Matrix2D;g.initMatrix(a.matrix);g.concat(d.Wa.inverse());c.forEach(function(a){var d=a.IsModified,c=a.Gc(),b=c.x1,e=c.y1,f=c.x2,m=c.y2;
a.Rh(g);d||c.x1!==b||c.x2!==f||c.y1!==e||c.y2!==m||(a.IsModified=d)})}})})},vL:function(a){return(!(a instanceof Annotations.HTMLAnnotation)||a instanceof Annotations.zj)&&a.og()},Td:function(a,c,e,f){var k=a;_.isObject(a)||(k={pageNumber:a,overrideCanvas:c,majorRedraw:e,overrideContainer:f});a=k.pageNumber;c=k.namespace||"default";k.namespace=c;f=b.o.pa.lk(a-1);k.Vn=f;if(!this.Xu.get(f,c))return this.OU(k);this.bC.set(f,c,{Of:a,SU:e});return this.Xu.get(f,c)},OU:function(a){var c=a.pageNumber,e=
a.overrideCanvas,f=a.overrideContainer,k=a.majorRedraw,n=a.namespace,l=a.Vn,q=c-1;if(isNaN(q))throw Error("Invalid page index given");var p=this.u.tb(q);a=this.Zl(c);var u=!!e,r=e;!u&&this.u.jk(q)&&(r=this.u.$n(q))&&this.u.mp(q,$(r));if(!r)return Promise.resolve();var v=r.getContext("2d"),w=this.u.hd(q+1),A=90*w,B=this.u.jc(c-1);u||(A=this.u.em(q+1),this.SP(r,q,A));for(var z=f||b.o.pa.bB(q),x=Promise.resolve(),y=0;y<this.ac.length;y++){var F=this.ac[y];F.rb()===q&&(x=x.then(this.WG.bind(this,F,v,
B,A,w,a,u,e,k,z)))}this.Dk&&this.Dk.PageNumber===c&&(this.Ji(this.Dk)?this.Dk=null:x=x.then(this.WG.bind(this,this.Dk,v,B,A,w,a,u,e,k,z)));var K=this,k=x.then(function(){var a=K.u.getDocument();if(a){u||K.u.NI(q,r);K.Xu["delete"](l,n);var d=(K.u.Vd()-w)%4;a.Rl(r,q,!0,d);u||p!==K.u.tb(q)||K.u.Kw(q,r);if(a=K.bC.get(l,n))return K.bC["delete"](l,n),K.Td({pageNumber:a.Of,overrideCanvas:e,overrideContainer:f,majorRedraw:a.SU,namespace:n});u||K.trigger("annotationsDrawn",[c])}});this.Xu.set(l,n,k);return k},
SP:function(a,c,e){var f=this.u.vo(c),k=f.width,f=f.height;if(90===e||270===e)e=k,k=f,f=e;b.o.pa.Mq(a,k,f);this.trigger("annotationsCleared",[c+1])},TQ:function(a,c,b,e,f,n,l,q,p,u){var r=this;return new Promise(function(f){if(r.u.$q||a.fJ())if(q?a.Printable&&a.pm():a.pm()){if(p){var n=q?1:r.u.tb(a.PageNumber-1);r.Ji(a)&&a.render(u,r,n,q)}r.UQ(l,a,c,b,e).then(function(){f()})}else q||a.px(),f();else f()})},UQ:function(a,c,b,e,f){return!this.vL(c)||c.IsHovering?(c.draw(b,e,f),Promise.resolve()):a.sP[a.Yj.indexOf(c)].then(function(a){b.save();
return a.draw(b,c.og().offset).then(function(){b.restore()})})["catch"](function(){c.draw(b,e,f)})},WG:function(a,c,b,e,f,n,l,q,p,u){c.save();var r=this.u.tb(a.rb());this.SX(a,c,l);c.save();var v=this;return a.Sw().then(function(){return v.TQ(a,c,b,e,f,r,n,l,p,u)}).then(function(){c.restore();l||v.Rz(a,c,b);c.restore()})},SX:function(a,c,b){var e=this.u.tb(a.rb());!0===a.NoZoom&&(c.translate(a.Hi(),a.Ii()),b||(c.scale(1/e,1/e),window.o.Oo&&a.DateCreated<window.o.Oo?(b=this.u.Vd(a.PageNumber),0<b&&
(3===b?c.translate(a.Aa(),0):2===b?c.translate(a.Aa(),a.ya()):1===b&&c.translate(0,a.ya()),c.rotate(-1*b*Math.PI/2))):(a=this.u.hd(a.PageNumber),c.rotate(-1*a*Math.PI/2))))},Rz:function(a,c,b){if("undefined"!==typeof a.selectionModel){if(this.Oi(a)&&a.pm()){var e=new a.selectionModel(a,this.Rc(a)),f=this.u.tb(a.rb());!0===a.NoZoom&&(c.translate(-a.Hi(),-a.Ii()),f=1);e.draw(c,a,f,b)}}else(a=this.eh.c0(a))&&a.draw(c)},Zl:function(a){var c=this,b=this.Ec().filter(function(b){return b.PageNumber===a&&
c.vL(b)}),e=b.map(function(a){return a.og()});return{sP:this.u.getDocument().Zl(e,a),Yj:b}},Kb:function(a){this.Ji(a)||(this.Dk=a);return this.Td(a.PageNumber)},zX:function(d){this.Kb=_.throttle(a.ga.prototype.Kb.bind(this),d)},AU:function(a){this.u.oJ(a.sb()-1,[{x4:a.tv(),y4:a.Gv(),x2:a.qI(),y2:a.EH()}])},HT:function(a){this.MI([a])},MI:function(a){0!==a.length&&(a.forEach(function(a){a.Hidden=!0}),this.Sd(),this.wi(a),this.trigger("annotationHidden",[a,!0]))},VX:function(a){this.AL([a])},AL:function(a){a.forEach(function(a){a.Hidden=
!1});this.wi(a);this.trigger("annotationHidden",[a,!1])},Ji:function(a){return-1<this.ac.indexOf(a)},FC:function(a,c){a.Nh(c);this.trigger("annotationChanged",[[a],"modify"])},ih:function(a,c){this.jh([a],c)},jh:function(a,c){if(a){for(var b=0;b<a.length;++b){var e=a[b];0>=e.PageNumber&&console.warn("Invalid annotation PageNumber: "+e.PageNumber);this.ac.push(e);this.tL(e)}this.PC(a);0<a.length&&(b=$.Event("annotationChanged"),b.imported=c,this.trigger(b,[a,"add"]))}},vY:function(a){this.tL(a);if(a.Qi()){var c=
this.zo(a);this.trigger("setNoteText",[a,c])}else this.trigger("setNoteText",a)},tL:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c());a.Eg&&a.Eg(this.u);a.rk()&&a.Lb(a.Hb().value)},$O:function(a){var c=this;this.Ec().forEach(function(b){b.InReplyTo&&b.InReplyTo===a.Id&&(a.wq(b),c.trigger("addReply",[b,a,c.zo(a)]))})},PC:function(a){function c(a,d){return d.DateCreated-a.DateCreated}var b=[],e;for(e=0;e<
a.length;++e){var f=a[e];if(f instanceof Annotations.Annotation)if(f.Qi()){var n=this.Ef(f.InReplyTo);n&&(n.wq(f),this.trigger("addReply",[f,n,this.zo(n)]))}else b.push(f),this.$O(f)}for(e=0;e<b.length;++e)if(a=b[e],0!==a.zv().length)for(f=[],f.push({Wj:a,Kz:null});0<f.length;){var l=f.pop(),n=l.Wj;null!==l.Kz&&this.trigger("addReply",[n,l.Kz,a]);for(var l=n.zv().sort(c),q=0;q<l.length;++q)f.push({Wj:l[q],Kz:n})}},QX:function(a){if(a.Qi()){var c=this.Ef(a.InReplyTo);c&&(c.wq(a),this.trigger("addReply",
[a,c,this.zo(a)]))}},zo:function(a){for(;null!==a&&a.Qi();)a=this.Ef(a.InReplyTo);return a},kQ:function(a,c){var b=new Annotations.il;b.InReplyTo=a.Id;b.X=a.X;b.Y=a.Y;b.PageNumber=a.PageNumber;b.Author=this.am();b.Nh(c||"");a.wq(b);this.ih(b);return b},YL:function(a){this.Ji(a)&&this.Td(a.sb())},ez:function(a){return Annotations.ah.ez(a,this.u)},nB:function(){var d=this.u.getDocument(),d=d&&d.ZA();return this.oK&&(a.Pi()&&"pdf"===d||"blackbox"===d)},fU:function(){return this.oK},iR:function(a){this.oK=
a},dU:function(a){var c=this.u.getDocument();return a&&a instanceof Annotations.Jd&&!(c&&"blackbox"===c.ZA()&&c.xg())&&this.nB()},Rd:function(a,c,b){this.Tq([a],c,b)},Tq:function(a,c,b){var e=this;a.forEach(function(a){e.UL(a.nr())});var f={};if(b||c||!this.nI()){var n=[],l=!1;a=a.slice();for(var q=0;q<a.length;q++){var p=a[q];p===this.Dk&&(this.Dk=null);p.px();if(this.Ji(p))if(b||c||this.Rc(p)){this.eh.Ol(p);this.trigger("annotationSelected",[[p],"deselected"]);var u=this.ac.splice(this.ac.indexOf(p),
1);n.push(u[0]);p.IsAdded||c||this.Hz.push(u[0]);p.Qi()&&(p.II&&(u=this.zo(p),this.trigger("deleteReply",[p,u])),this.Ef(p.InReplyTo).Fz(p));p.zv().forEach(function(a){e.trigger("setNoteText",[a]);a.InReplyTo=null;e.PC([a])});f[p.sb()]=!0}else l=!0;else f[p.sb()]=!0}0<n.length&&(b=$.Event("annotationChanged"),b.imported=c,this.trigger(b,[n,"delete"]));l&&this.u.trigger("notify","permissionDelete");$.each(f,function(a){e.Td(parseInt(a,10))})}else this.u.trigger("notify","readOnlyDelete")},yY:function(){if(!this.readOnly){this.zq=
[];for(var a=this.Ie(),c=0;c<a.length;c++)if(!(a[c]instanceof Annotations.Cb)){var b=this.jA(a[c]);this.zq.push(b)}this.Bt=0}},CV:function(){if(!this.readOnly&&"undefined"!==typeof this.Bt){this.Bt++;for(var a=[],c=0;c<this.zq.length;c++){var b=this.jA(this.zq[c]);a.push(b);var e=this.u.$l(),f=this.u.v.ld(e-1),n=this.u.v.kd(e-1),f=new Annotations.Rect(0,0,f,n),n=b.Gc();b.sb()===e?n.translate(5*this.Bt,5*this.Bt):b.eL(e);n.fv(f);b.resize(n)}this.jh(a);this.zq=a;this.Sd();this.Ww(a)}},jA:function(a){function c(){return(65536*
(1+Math.random())|0).toString(16).substring(1)}var b=this.US(a);if(null===b)return null;var e=a.rb(),e=this.u.jc(e),f=e.inverse(),n=document.createElementNS("",a.elementName),n=a.serialize(n,f);a=new b;a.deserialize(n,e,this);a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();a.Author=this.Ou;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=!0;a.IsModified=!1;return a},HR:function(a){return a.nZ()},Oi:function(a){return this.eh.TF(a)},Fm:function(a){a.Listable&&this.Ji(a)&&(this.eh.Fm(a),
this.Td(a.sb()),this.trigger("annotationSelected",[[a],"selected"]))},Ww:function(a){var c=[],b={};if(a&&$.isArray(a)){for(var e=0;e<a.length;e++){var f=a[e];f.Listable&&this.Ji(f)&&(this.eh.Fm(f),b[f.sb()]=f.sb(),c.push(f))}var n=this;$.each(b,function(a){n.Td(parseInt(a,10))})}0<c.length&&this.trigger("annotationSelected",[c,"selected"])},Sd:function(){if(0!==this.Ie().length){this.eh.Sd();for(var a=this.u.ea.Xd(),c=0;c<a.length;c++)this.Td(a[c]+1);this.trigger("annotationSelected",[null,"deselected"])}},
Ol:function(a){this.eh.Ol(a);this.Td(a.sb());this.trigger("annotationSelected",[[a],"deselected"])},Ie:function(){return this.eh.Ie()},Ec:function(){return this.ac},Ef:function(a,c){c=c||this.ac;if(_.isUndefined(a)||_.isNull(a))return null;for(var b=0;b<c.length;b++)if(c[b].Id===a)return c[b];return null},AH:function(a,c,b){b=b||this.ac;if(_.isUndefined(a)||_.isNull(a))return[];for(var e=[],f=0;f<b.length;f++)b[f].Id===a&&e.push(b[f]);return _.isUndefined(c)?e:e.filter(function(a){return a.PageNumber-
1===c})},hr:function(a){a=this.kA(a);return 0<a.length?a[0]:null},kA:function(a){if(!this.u.$q)return[];var c=new window.ba.Tool(this.u);a=c.Ud({x:c.Gf(a).x,y:c.Gf(a).y});c=[];if(null!==a)for(var b=this.Ec(),e=new Annotations.Rect(a.x,a.y,a.x,a.y),f=b.length-1;0<=f;f--){var n=b[f];if(n.selectionModel&&n.pm()&&n.sb()-1===a.pageIndex){var l=Annotations.Bb.canvasVisibilityPadding,q=n.Gc();q.translate(-l,-l);q.x2+=2*l;q.y2+=2*l;if(window.utils.isRectIntersecting(q,e)||n.IsClickableOutsideRect){var l=
this.u.tb(n.rb()),q=this.u.jc(n.rb()),p=this.u.hd(n.PageNumber),u=this.Oi(n),r=new n.selectionModel(n,this.Rc(n),u);r.testSelection(n,a.x,a.y,q,l,p)?c.push(n):u&&r.zs(n,l,a.x,a.y)&&c.push(n)}}}return c},NH:function(a,c){return this.eh.NH(a,c)},dv:function(a){this.u.VF||console.warn("exportAnnotations was called before all annotations were loaded.");return this.Fl.LN(a)},mv:function(){return this.Fl.mv()},pH:function(a){this.PC(a);var c=this.Ec().filter(function(a){return a instanceof Annotations.ag}),
b=this.Ec().filter(function(a){return a instanceof Annotations.FreeHandAnnotation});c.forEach(function(a){for(var d=0;d<b.length;d++)if(a.Vv(b[d],{Wy:!0})){a.freeHandAnnot=b[d];break}});this.u.oI().cj("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(a.map(function(a){return a.sb()-1}))})},OT:function(a,c){var e=b.Annotations.ca.Ar(a),e=this.Fl.UM(e,c&&c.XI);this.pH(e);return e},SI:function(a,c,e){c=c||function(){};var f=this;a=b.Annotations.ca.Ar(a);e=$.extend({jm:function(){return f.co},
batchSize:100,batchDelay:0},e);this.Fl.VM(a,function(a){f.co?c([]):(a=a.Yj,f.pH(a),c(a))},e)},Ho:function(a){a=b.Annotations.ca.Ar(a);a=this.Fl.Ho(a);var c=[];a.yu&&0<a.yu.length&&(c=c.concat(a.yu),this.QX(a.yu[0]));a.Gz&&0<a.Gz.length&&(c=c.concat(a.Gz));a.HB&&0<a.HB.length&&(c=c.concat(a.HB));return c},wi:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var c=[],b=0;b<a.length;b++)c.push(this.Td(a[b],void 0,!0));return Promise.all(c)},fd:function(){this.Ec().forEach(function(a){a.off();
a.Ab&&a.Ab.off();a.innerElement&&a.innerElement.off();a.element&&a.element.off()});this.init();this.co=!0;this.qh.fd();return Promise.resolve()},WV:function(a,c){if("string"!==typeof a||!c)return!1;"undefined"===typeof this.Xj[a]&&(this.Xj[a]=[]);this.Xj[a].push(c);return!0},FQ:function(a,c){if("string"!==typeof a||!c)return!1;this.Xj[a]=$.grep(this.Xj[a],function(a){return a!==c});return!0},VS:function(){return this.Xj},US:function(a){if(!a||!a.elementName)return null;var c=this.Xj[a.elementName];
if(c&&0<c.length)for(var b=0;b<c.length;b++){var e=c[b];if(a instanceof e)return e}return null},HU:function(a){var c=this.Qu[a];if(c){var b=c.length;a=this.u.jc(a);for(var e=[],f=0;f<b;++f){var n=c[f].Wj,l=c[f].data;n.isImporting=!0;n.deserialize(l,a,this);n.isImporting=!1;n.IsAdded=!1;n.IsModified=!1;e.push(n)}this.jh(e,!0);this.wi(e)}},uA:function(){return this.DE},HW:function(a,c){var b="StrokeColor TextColor FillColor FontSize Opacity StrokeThickness Precision Scale".split(" ").reduce(function(c,
b){if(a[b]||0===a[b])c[b]=a[b];return c},{}),e=c(b);e&&(Object.keys(e).forEach(function(c){a[c]=e[c]}),this.YL(a),this.trigger("annotationChanged",[[a],"modify"]))},SK:function(a){this.SF=a},XR:function(a){return this.SF(a)},kX:function(a){window.o.Oo=a}};$.extend(a.ga.prototype,b.utils.eventHandler);c.prototype={Fm:function(a){this.TF(a)||this.Gm.push(a)},Ol:function(a){this.Gm=$.grep(this.Gm,function(c){return c!==a})},Sd:function(){this.Gm=[]},TF:function(a){for(var c=0;c<this.Gm.length;c++)if(a===
this.Gm[c])return!0;return!1},Ie:function(){return this.Gm.slice()}};e.prototype={disable:function(){this.qc.off("annotationChanged.editbox");this.qc.off("annotationDoubleClicked.editbox")},HI:function(a){return a instanceof Annotations.Ha},VI:function(a){var c=this.qc,b=this;a.Ab=$('<textarea class="freetext">');a.Ab.on("focus input",function(){a.ZF&&b.BP(a)});a.Ab.on("blur DOMNodeRemovedFromDocument",function(){b.no===a.Ab&&(b.no=null,a.vh()!==Annotations.Ha.Intent.FreeTextCallout&&b.jW(a,b.xR),
a.Ab.hide(),c.FC(a,a.Ab.val()),c.wi([a]),setTimeout(function(){c.Fm(a)},0))});a.Ab.on("touchstart touchmove touchend mousedown mousemove mouseup",function(a){a.stopPropagation()})},BP:function(a){var c=a.rb(),e=this.qc.u.ld(c),f=this.qc.u.kd(c),k=this.qc.u.tb(c),c=a.Ab[0];c.style.width=0;c.style.overflow="hidden";c.style.whiteSpace="nowrap";b.utils.isFirefox&&(c.style.whiteSpace="pre");var n=c.scrollWidth+2,l=this.uS(a,k,e,f);n>=l&&(c.style.whiteSpace="normal",n=l);c.style.width=n+"px";c.style.height=
0;if(b.utils.isFirefox||b.utils.ie)c.style.whiteSpace="pre-wrap";n=c.scrollHeight+1;a=this.tS(a,k,e,f);n>=a&&(c.style.overflow="auto",n=a);c.style.height=n+"px"},uS:function(a,c,b,e){switch(a.Rotation){case 90:a=this.Ph*c;break;case 180:a=this.Oh*c;break;case 270:a=(e-this.Ph)*c;break;default:a=(b-this.Oh)*c}return a},tS:function(a,c,b,e){switch(a.Rotation){case 90:a=(b-this.Oh)*c;break;case 180:a=this.Ph*c;break;case 270:a=this.Oh*c;break;default:a=(e-this.Ph)*c}return a},jW:function(a,c){var b=
a.getRectPadding(),e=a.rb(),f=a.Hi(),n=a.Ii(),l=this.qc.u.tb(e),q=c/l,p=parseFloat(a.Ab[0].style.width)/q,q=parseFloat(a.Ab[0].style.height)/q,e=this.qc.u.jc(e),e=2*a.ik(e),p=p/l+e,l=q/l+e;switch(a.Rotation){case 90:q=p;p=l;l=q;n=this.Ph-l;break;case 180:f=this.Oh-p;n=this.Ph-l;break;case 270:q=p,p=l,l=q,f=this.Oh-p}a.rL(f);a.sL(n);a.NC(p);a.jp(l);a.Jm(new Annotations.Rect(b,b,b,b));this.qc.wi([a])},tH:function(a){var c=a.rb(),e=b.o.pa.bB(c);e.append(a.Ab);var f=this.qc.u.tb(c);a.Ab.val(a.rh()||"");
0<e.length&&(this.no=a.Ab,this.xR=f,a.Nh(""));var e=this.qc.u.jc(c),c=Annotations.ja.Eq(e,parseFloat(a.FontSize)||12)*f*.75+a.AA(),e=a.ik(e)*f,k=Math.ceil(1.598*parseFloat(c)),n=a.getPath().slice(-2),l=n[0].x*f,q=Math.min(n[0].y,n[1].y)*f,p=Math.abs(n[1].x-n[0].x)*f,n=Math.abs(n[1].y-n[0].y)*f,u=360-a.Rotation;if(90===u||270===u)var r=p,p=n,n=r;var r=0,v=-k/2+.66*parseFloat(c);switch((360-u)%360){case 90:r=-1.5*f;v+=p+1.7*f;break;case 180:r+=p+.1*f;v+=n+2.7*f;break;case 270:r+=n+1.5*f,v=0}r="translate("+
r+"px,"+v+"px) rotate("+u+"deg)";u=Math.abs(u%360/90);u===b.o.Ga.oh?(l+=e,q+=e):u===b.o.Ga.je?(l-=e,q+=e):u===b.o.Ga.jo?(l-=e,q-=e):u===b.o.Ga.$e&&(l+=e,q-=e);u=1>a.FillColor.A?new Annotations.Color(255,255,255,0):a.FillColor;a.Ab.css({top:q,left:l,width:p-2*e,height:n-2*e,font:c+" "+a.Font,color:a.TextColor.toString(),background:u.toString(),transform:r,"transform-origin":"top left","line-height":b.utils.ie?1:k+"px","padding-top":b.utils.ie?Math.max(1,1+1.5*(f-1)):0});this.qc.wi([a]);this.eY(a,f);
window.utils.isIOS&&this.CL(a);var w=this;setTimeout(function(){w.qc.Ol(a);window.utils.isIOS||w.CL(a)},0)},eY:function(a,c){this.Oh=a.Hi();this.Ph=a.Ii();var b=parseFloat(a.Ab[0].style.width)/c,e=parseFloat(a.Ab[0].style.height)/c;if(0!==b)var f=this.qc.u.jc(a.rb()),f=2*a.ik(f),b=b+f,e=e+f;switch(a.Rotation){case 90:this.Ph+=b;break;case 180:this.Oh+=b;this.Ph+=e;break;case 270:this.Oh+=e}},CL:function(a){a.Ab.show().focus()}}})(window);
(function(b){b.fe={BJ:function(b,e,c,a){return null===b||null===e||null===c||null===a?null:{x1:b,y1:e,x2:b+c,y2:e+a}},U0:function(b,e){if(!e||!b)return!1;var c,a;"undefined"!==typeof e.x1&&"undefined"!==typeof e.y1&&"undefined"!==typeof e.x2&&"undefined"!==typeof e.y2||console.warn("rect points are undefined");c=b.x>=e.x1&&b.x<=e.x2;a=b.y>=e.y1&&b.y<=e.y2;return c&&a},TV:function(b,e){return b&&e?b.x1<=e.x2&&b.x2>=e.x1&&b.y1<=e.y2&&b.y2>=e.y1?!0:!1:!1},O0:function(b,e,c,a,d){b=d.W(new XODText.Hd(b,
e));c=d.W(new XODText.Hd(c,a));return{x:Math.min(b.x,c.x),y:Math.min(b.y,c.y),w:Math.abs(b.x-c.x),cf:Math.abs(b.y-c.y)}},Math:{DU:function(b,e,c,a){function d(a,c,d){return(d.y-a.y)*(c.x-a.x)>(c.y-a.y)*(d.x-a.x)}return d(b,c,a)!==d(e,c,a)&&d(b,e,c)!==d(b,e,a)},Yl:function(b,e){var c=Math.atan(Math.abs(b.y-e.y)/Math.abs(b.x-e.x));e.x<b.x&&e.y>b.y?c=Math.PI-c:e.x<=b.x&&e.y<b.y?(c=Math.PI-c,c*=-1):e.x>=b.x&&e.y<b.y&&(c*=-1);0===c&&b.x>e.x&&(c=Math.PI);return c},pW:function(b,e,c){c=c||{x:0,y:0};var a=
b.x-c.x;b=b.y-c.y;return{x:Math.cos(e)*a-Math.sin(e)*b+c.x,y:Math.sin(e)*a+Math.cos(e)*b+c.y}},jG:function(b,e,c){c=void 0!==c?c:Infinity;e=void 0!==e?e:-Infinity;return Math.max(Math.min(b,c),e)},FR:function(b,e){return Math.atan2(e,b)},OS:function(b){if(!(3>b.length)){for(var e=b[0],c=0,a=1;a<b.length;a++)var d=b[a],c=c+(d.x-e.x)*(d.y+e.y),e=d;return 0<=c?1:-1}},dQ:function(b){for(var e=[],c=0;c<b.length;c++)e.push({x:b[c].x,y:b[c].y});return e},aK:function(b){if(1>b.length)return!1;var e=Math.abs(b[b.length-
1].y-b[0].y);return 1.2358E-4<Math.abs(b[b.length-1].x-b[0].x)||1.2358E-4<e?!0:!1},rotationMatrix:function(b){var e=Math.cos(b);b=Math.sin(b);return{m_a:e,m_b:-b,m_c:b,m_d:e,m_h:0,m_v:0}},translate:function(b,e,c){b.m_h+=e;b.m_v+=c;return b},W:function(b,e,c){return{x:e*b.m_a+c*b.m_c+b.m_h,y:e*b.m_b+c*b.m_d+b.m_v}},wP:function(b,e,c,a,d,g,m,h,k,n,l){0>d&&(d=-d);0>g&&(g=-g);var q=(b-n)/2,p=(e-l)/2,u=Math.cos(m),r=Math.sin(m),v=u*q+r*p,q=-r*q+u*p,p=d*d,w=g*g,A=v*v,B=q*q,z=A/p+B/w;1<z&&(d*=Math.sqrt(z),
g*=Math.sqrt(z),p=d*d,w=g*g);if(z=p*B+w*A){p=(p*w-p*B-w*A)/z;h=(h===k?-1:1)*Math.sqrt(0>p?0:p);w=d*q/g*h;A=h*-(g*v/d);h=(b+n)/2+(u*w-r*A);u=(e+l)/2+(r*w+u*A);r=(v-w)/d;p=(q-A)/g;w=(-v-w)/d;q=(-q-A)/g;A=Math.sqrt(r*r+p*p);v=(0>p?-1:1)*Math.acos(r/A);A=Math.sqrt((r*r+p*p)*(w*w+q*q));p=(0>r*q-p*w?-1:1)*Math.acos(Math.max(Math.min((r*w+p*q)/A,1),-1));!k&&0<p?p-=2*Math.PI:k&&0>p&&(p+=2*Math.PI);q=[];r=!1;if(1E-9>Math.abs(p))k=4,r=!0,q[0]=d*Math.cos(v),q[1]=g*Math.sin(v),q[2]=d*Math.cos(v+p),q[3]=g*Math.sin(v+
p);else{w=0;k=2;B=!1;do{0>p?(z=w,A=.5*-Math.PI,w-=.5*Math.PI,w<=p+.01&&(A=p-z,B=!0)):(z=w,A=.5*Math.PI,w+=.5*Math.PI,w>=p-.01&&(A=p-z,B=!0));var x=Math.cos(A/2),y=Math.sin(A/2),F=4*(1-x)/3,K=y-F*x/y,z=[],E=[];z[0]=x;E[0]=-y;z[1]=x+F;E[1]=-K;z[2]=x+F;E[2]=K;z[3]=x;E[3]=y;x=Math.sin(v+A/2);y=Math.cos(v+A/2);for(F=0;4>F;F++)q[k-2+2*F]=d*(z[F]*y-E[F]*x),q[k-1+2*F]=g*(z[F]*x+E[F]*y);k+=6;v+=A}while(!B&&26>k)}d=this.rotationMatrix(-m);this.translate(d,h,u);for(g=2;g<k-2;g+=2)m=void 0===q[g]?this.W(d,0,
0):this.W(d,q[g],q[g+1]),q[g]=m.x,q[g+1]=m.y;q[0]=b;q[1]=e;2<k&&(q[k-2]=n,q[k-1]=l);if(r)a.push("l"),a.push("l"),c.push(q[0]),c.push(q[1]),c.push(q[2]),c.push(q[3]);else for(a.push("l"),c.push(q[0]),c.push(q[1]),b=2;b<k;b+=6)a.push("c"),c.push(q[b]),c.push(q[b+1]),c.push(q[b+2]),c.push(q[b+3]),c.push(q[b+4]),c.push(q[b+5])}},crossProduct:function(b,e){return b.x*e.y-b.y*e.x},G0:function(b){return 1E4*(b+2*Math.PI)%2*Math.PI*1E4/1E4}}}})(window);
(function(b){function f(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.$b=a;this.Wi=null}function e(a,c){this.mD=a;this.bv=c||function(){return!0}}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();e.prototype.$r=function(a,b,g){a=this.mD;a.writeStartElement("field");a.writeAttributeString("name",c.escape(b));b=g.value;_.isNull(b)||(a.writeStartElement("value"),a.writeString(c.escape(b)),
a.writeEndElement());a.writeEndElement()};e.prototype.tw=function(a,b,g){a=c.escape(b);b=this.mD;g.value&&(b.writeStartElement("field"),b.writeAttributeString("name",a),b.writeStartElement("value"),b.writeString(c.escape(g.value)),b.writeEndElement(),b.writeEndElement());b.writeStartElement("field");b.writeAttributeString("name",a)};e.prototype.OB=function(){this.mD.writeEndElement()};f.prototype={$F:function(a){return a&&0<a.getElementsByTagName("annots").length?(c.RH(a,"link"),c.RH(a,"widget"),
a.getElementsByTagName("annots")[0].childNodes):[]},wA:function(a){return a?a.querySelector("xfdf > fields"):null},gI:function(a){return a&&(a=a.getElementsByTagName("pdf-info"),0<a.length)?a[0]:null},JF:function(a,c,g){var e=this;b.pf.parse(new b.Ve(a),function(a){return e.$b.u.jc(a-1)},function(a){var b=e.$b,g=b.qh,f=b.u;if(f.getDocument()){g.UK(a.calculationOrder);var q=a.fields;Object.keys(q).forEach(function(a){var c=q[a],b=g.sr(c.name),d=c.widgets.reduce(function(a,c){return"Off"!==c.appearance&&
c.appearance||a},null),b=b.Xa();d&&d!==b&&(b=d);c.Oe(b,!0);g.vu(q[a],!0)});b.jh(a.widgets,!0);b.jh(a.custom,!0);f=f.getDocument();f.tu(a.documentActions);for(var b=a.pages,f=f.Sb(),p=0;p<b.length;++p){var u=b[p],r=Number(u.number);0<r&&r<f.length+1?f[r-1].tu(u.actions):console.warn("Invalid page number on PDFInfo page:",r)}c(a)}},g)},UM:function(a,c){function g(){var c=e.gI(a);c&&e.JF(c,function(a){f=a.widgets;f=f.concat(a.custom)},!0)}var e=this,f=[],k=this.$F(a),n=this.wA(a);n?this.Zy(new b.Ve(n),
g,!0):g();return null!==k?f.concat(this.Bx(k,!0,c)):f},VM:function(a,c,g){function e(){var b=f.gI(a);b?f.JF(b,function(a){f.HF(k,function(b){b.Yj=b.Yj.concat(a.widgets);b.Yj=b.Yj.concat(a.custom);c(b)},g)}):f.HF(k,function(){c.apply(this,arguments)},g)}var f=this,k=this.$F(a),n=this.wA(a);n?this.Zy(new b.Ve(n),e,!1):e()},Ho:function(a){var c={};if(a){var g=this.wA(a);g&&this.Zy(new b.Ve(g),function(){},!0);var g=a.getElementsByTagName("add"),e=a.getElementsByTagName("modify");a=a.getElementsByTagName("delete");
0<g.length&&(c.yu=this.Bx(g[0].childNodes,!0));0<a.length&&(c.Gz=this.BM(a[0]));0<e.length&&(c.HB=this.$M(e[0].childNodes))}return c},BM:function(a){var c=[];a=a.getElementsByTagName("id");for(var b=0;b<a.length;++b){var e=this.$b.Ef(a[b].textContent);e&&(c.push(e),this.$b.Rd(e,!0))}return c},$M:function(a){return this.Bx(a,!0)},Bx:function(a,c,b){var e=[];this.GF(a,e,0,a.length,c,b);return e},ih:function(a,c,b,e,f){var k=this.$b,n=null,l=!1,q=k.Xj[a];if(q){var p=c.getAttribute("page"),p=parseInt(p,
10),u;p<k.u.xb()&&(u=k.u.jc(p));for(var r=0;r<q.length;r++)if(q[r].prototype.li(c)){n=null;if(b){b=c.getAttribute("name");var v=parseInt(c.getAttribute("page"),10),n=this.$b.AH(b,v)[0];if(!n&&this.$b.AH(b,v,e)[0])break}if(!n){var w;"widget"===a&&(a=c.getAttribute("title"),w=k.qh.sr(a));n=new q[r](w);l=!0}try{if(u)n.isImporting=!0,n.deserialize(c,u,k),n.isImporting=!1;else return k.Qu[p]||(k.Qu[p]=[]),k.Qu[p].push({data:c,Wj:n}),{Wj:null,uL:!1};n.VW(f)}catch(A){console.warn("Error parsing annotation",
A);l=!1;n=null;break}l||k.vY(n);n.IsAdded=!1;n.IsModified=!1;break}}else console.warn("Unsupported annotation type.",a);return{Wj:n,uL:l}},GF:function(a,b,g,e,f,k){for(var n=[],l=[];g<e;++g)if(a[g].nodeType===Node.ELEMENT_NODE){var q=this.ih(c.uv(a[g]),a[g],f,b,k),p=q.Wj;p&&(b.push(p),q.uL?n.push(p):l.push(p))}0<n.length&&(this.$b.jh(n,!0),n.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}));0<l.length&&(a=$.Event("annotationChanged"),a.imported=!0,this.$b.trigger(a,[l,"modify"]))},Zy:function(a,
c,g){function e(c){var b=a.K("name");if(!b)return console.warn("Invalid field name part:",b,a.current),null;c=c?c+"."+b:b;var b={name:c},d=[b],g=null;for(a.oa();a.advance();){var f=a.va();switch(f){case "value":_.isNull(g)?g=a.current.textContent:(_.isArray(g)||(g=[g]),g.push(a.current.textContent));break;case "field":(f=e(c))&&0<f.length&&(d=d.concat(f));break;default:console.warn("unknown field child node: ",f)}}a.Ca();_.isNull(g)||(b.value=g);return d}var f=this.$b.qh;a.oa();a.advance()?b.busyLoop(function(){"field"===
a.va()&&e("").forEach(function(a){f.vu(a,!0)});var c=a.advance();c||a.Ca();return c},c,g):c()},VJ:function(a){var c=[];$(a).each(function(a,b){c.push(b.textContent.trim())});return c},HF:function(a,c,b){function e(){if(b.jm())c({Yj:[]});else{f.GF(a,q,k,Math.min(k+l,a.length),!0,b.XI);if(k>n){n+=1E3;for(var p=f.$b.u.dm().Xd(),u=0;u<p.length;u++)f.$b.Td(p[u]+1)}setTimeout(function(){k+=l;k<a.length?e():c({Yj:q})},b.batchDelay)}}var f=this,k=0,n=1E3,l=2*b.batchSize,q=[];e()},nt:function(a,c,b){var e=
this.$b.u.jc(a.sb()-1).inverse(),f=document.createElementNS("",a.elementName);a.serialize(f,e,b);a=new XMLSerializer;f.mH&&this.Wi.push(f.mH);f=a.serializeToString(f);c.writeString(f)},HN:function(a){var c=this.$b,g=c.ke(),e=c.u,f=e.getDocument(),k=[];g.Is({$r:function(a,c,b){void 0!==b.type&&k.push(b)},tw:function(a,c,b){void 0!==b.type&&k.push(b)}});var n=f.Sb().map(function(a,c){return{number:c+1,actions:a.hk()}}).filter(function(a){return 0<Object.keys(a.actions).length});b.pf.write(a,{calculationOrder:g.iz,
widgets:c.Ec().filter(function(a){return a.rk()}),fields:k,documentActions:f.hk(),pages:n},function(a){return 1>a?(console.warn("Invalid page number:",a),a=new XODText.Matrix2D,a.initMatrix(1,0,0,1,0,0),a):e.jc(a-1)})},LN:function(a){var b=this;a=a||{};var g=new XMLWriter("UTF-8","1.0");g.formatting="none";this.Wi=[];var e,f,k;a.annotList?(e=a.fields||!1,f=a.widgets||!1,k=a.links||!1):(e=!1!==a.fields,f=!1!==a.widgets,k=!1!==a.links);g.writeStartDocument();g.writeStartElement("xfdf");g.writeAttributeString("xmlns",
"http://ns.adobe.com/xfdf/");g.writeAttributeString("xml:space","preserve");f&&this.HN(g);e&&this.EN(g);g.writeStartElement("annots");e=this.$b;a=a.annotList||e.Ec();for(var n=0;n<a.length;++n)e=a[n],e instanceof Annotations.zd?k&&this.nt(e,g,!0):e instanceof Annotations.WidgetAnnotation||this.nt(e,g,!0);g.writeEndElement();g.writeEndElement();this.IN(g);g=g.flush();n=0;this.Wi.length&&(g=g.replace(c.AK,function(){return b.Wi[n++]}));this.Wi=null;return g},IN:function(a){var c=this.$b;a.writeStartElement("pages");
var b=c.u.getDocument().Sb();if(b){var e=c.u.jc(0);a.writeStartElement("defmtx");a.writeAttributeString("matrix",""+(e.m_a+","+e.m_b+","+e.m_c+","+e.m_d+","+e.m_h+","+e.m_v));a.writeEndElement();for(var f=1;f<b.length;++f){var k=c.u.jc(f);if(!k.iH(e)){a.writeStartElement("pgmtx");var n="",n=n+(k.m_a+","+k.m_b+","+k.m_c+","+k.m_d+","+k.m_h+","+k.m_v);a.writeAttributeString("matrix",n);a.writeAttributeString("page",f.toString());a.writeEndElement()}}}a.writeEndElement()},CN:function(a){a.writeStartElement("add");
for(var c=this.$b.Ec(),b=0;b<c.length;++b){var e=c[b];e.IsAdded&&(this.nt(e,a),e.IsAdded=!1)}a.writeEndElement()},GN:function(a){a.writeStartElement("modify");for(var c=this.$b,b=c.Ec(),e=0;e<b.length;++e){var f=b[e];f.IsModified&&c.Rc(f)&&(this.nt(f,a),f.IsModified=!1)}a.writeEndElement()},DN:function(a){a.writeStartElement("delete");for(var c=this.$b,b=this.KM(),e=0;e<b.length;++e)a.writeStartElement("id"),a.writeAttributeString("page",b[e].Jb),a.writeString(b[e].id),a.writeEndElement();c.Hz.length=
0;a.writeEndElement()},EN:function(a){a.writeStartElement("fields");this.$b.qh.Is(new e(a));a.writeEndElement()},FN:function(a){a.writeStartElement("fields");var c=[];this.$b.qh.Is(new e(a,function(a){c.push(a);return a.IsModified}));c.forEach(function(a){a.IsModified=!1});a.writeEndElement()},JN:function(a){var c=new XMLWriter("UTF-8","1.0");c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");
c.writeStartElement("fields");var g=new b.Annotations.O.Sg;a.forEach(function(a){g.vu(a)});g.Is(new e(c));c.writeEndElement();c.writeEndElement();a=c.flush();return a=a.replace(/\t/g,"")},KN:function(a){for(var c=[],b=0;b<a.length;++b){var e=a[b];_.isUndefined(e.name)||c.push(e.name+"="+encodeURIComponent(e.value))}return c.join("&")},mv:function(){var a=this;this.Wi=[];var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");
b.writeAttributeString("xml:space","preserve");this.FN(b);this.CN(b);this.GN(b);this.DN(b);b.writeEndElement();var b=b.flush(),b=b.replace(/\t/g,""),g=0;this.Wi.length&&(b=b.replace(c.AK,function(){return a.Wi[g++]}));this.Wi=null;return b},KM:function(){return _.map(this.$b.Hz,function(a){return{id:a.Id,Jb:a.rb()}})}};b.o.YN=f;var c={AK:/<replace-element-please ?\/>|<replace-element-please><\/replace-element-please>/g,bW:"replace-element-please",Ar:function(a){if("string"===typeof a){for(var c=(new DOMParser).parseFromString(a,
"text/xml"),b=c.getElementsByTagName("contents-richtext"),e=0,f=0;0<(e=a.indexOf("<contents-richtext>",e));++f)if(f<b.length){var k=a.indexOf("</contents-richtext>",e);b[f].qV=a.substring(e+19,k);e=k}else{console.warn("contents-richtext: More elements found by searching!");break}f<b.length&&console.warn("contents-richtext More elements found by getElementsByTagName!");return c}return a},$C:function(a){var c;c="D:"+a.getFullYear().toString();c+=this.ge((a.getMonth()+1).toString());c+=this.ge(a.getDate().toString());
c+=this.ge(a.getHours().toString());c+=this.ge(a.getMinutes().toString());c+=this.ge(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?c+="Z00'00'":(0>a?(c+="+",a*=-1):c+="-",c+=this.ge(parseInt(a/60,10).toString())+"'",c+=this.ge((a%60).toString())+"'");return c},toDateString:function(a){return a.getFullYear().toString()+"-"+this.ge((a.getMonth()+1).toString())+"-"+this.ge(a.getDate().toString())+" "+this.ge(a.getHours().toString())+":"+this.ge(a.getMinutes().toString())+":"+this.ge(a.getSeconds().toString())},
ge:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,c){_.isUndefined(c)&&(c=2);return parseFloat(a.toFixed(c)).toString()},getAttribute:function(a,c){return a.getAttribute(c)||a.getAttribute(c.toLowerCase())},uv:function(a){return a.localName||a.baseName||a.nodeName},RH:function(a,c){var b=[],e=a.getElementsByTagName(c);if(0===e.length)return b;for(var f=0;f<e.length;++f){var k=e[f].outerHTML||e[f].xml;
if(_.isUndefined(k)||0!==k.indexOf("<"+c+" "))k=(new XMLSerializer).serializeToString(e[f]);0>k.indexOf("</"+c+">")&&"/"!==k.charAt(k.length-2)&&(k=k.slice(0,k.length-1)+"/"+k.slice(k.length-1));b.push(k)}return b},e0:function(a){return c.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},DR:function(a){return c.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},ER:function(a){if(!a)return null;var b=c.getAttribute(a,"ActionType");return b?b:(a=c.xA(a))?
c.uv(a):null},xA:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?a[0]:null},po:function(a,b,g){b=c.getAttribute(a,b);_.isNull(b)&&(b=a.getElementsByTagName(g),b=0<b.length?b[0].textContent:null);return b},k_:function(a,c,b){b=b.W({x:_.isNull(a)?0:parseFloat(a),y:_.isNull(c)?0:parseFloat(c)});return{x:_.isNull(a)?null:b.x,y:_.isNull(c)?null:b.y}},K_:function(a,c,b){a=a.split(";");for(var e=[],f=0;f<a.length;++f){var k=a[f].split(","),k=new XODText.Hd(k[0],
k[1]),k=new Annotations.Point(k.x,k.y);c.W(k);"function"===typeof b&&b(k);e.push(k)}return e},Zw:function(a,b,g){if("undefined"===typeof g||null===g)g=",";if(!(a instanceof Annotations.Point))return null;a=new Annotations.Point(a.x,a.y);b&&b.W(a);return c.toFixed(a.x)+g+c.toFixed(a.y)},MG:function(a,c,b){if("undefined"===typeof b||null===b)b=",";if("string"!==typeof a)return null;a=a.split(b);b=null;2===a.length?(b=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),c&&c.W(b)):console.warn("Invalid serialized string format.");
return b},gp:function(a,b,g,e){if("undefined"===typeof e||null===e)e=";";if("undefined"===typeof g||null===g)g=",";for(var f="",k=0;k<a.length;k++){var n=new Annotations.Point(a[k].x,a[k].y);b&&b.W(n);f+=c.toFixed(n.x)+g;f+=c.toFixed(n.y)+e}return f.substring(0,f.length-1)},Pl:function(a,c,b,e){var f=[];if("undefined"===typeof e||null===e)e=";";if("undefined"===typeof b||null===b)b=",";if(!a)return f;var k;a=a.split(e);if(e===b)for(e=0;e+1<a.length;e+=2)k=new Annotations.Point(a[e],a[e+1]),c&&c.W(k),
f.push(k);else for(e=0;e<a.length;++e)k=a[e].split(b),k=new Annotations.Point(k[0],k[1]),c&&c.W(k),f.push(k);return f},yC:function(a,b,e){if("undefined"===typeof e||null===e)e=",";var f=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);b.W(f);b.W(a);return c.toFixed(f.x,6)+e+c.toFixed(f.y,6)+e+c.toFixed(a.x,6)+e+c.toFixed(a.y,6)},Su:function(a,c,b){if("undefined"===typeof b||null===b)b=",";b=a.split(b);a=new Annotations.Point(b[0],b[1]);b=new Annotations.Point(b[2],b[3]);c&&(c.W(a),
c.W(b));return new Annotations.Rect(a.x,a.y,b.x,b.y)},wC:function(a,b,e){var f=new XODText.Matrix2D;f.initMatrix(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return c.yC(a,f,e)},LG:function(a,b,e){var f=new XODText.Matrix2D;f.initMatrix(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return c.Su(a,f,e)},c1:function(a,b){for(var e="",f=0;f<a.length;f++){var h=a[f],h=new Annotations.Point(h.x,h.y);b.inverse().W(h);e+=c.toFixed(h.x)+",";e+=c.toFixed(h.y)+";"}return e.substring(0,e.length-1)},L_:function(a,c){var b=a.split(","),e=new Annotations.Point(b[0],
b[1]),b=new Annotations.Point(b[2],b[3]);"undefined"!==typeof c&&(c.W(e),c.W(b));return new Annotations.Rect(e.x,e.y,b.x,b.y)},d1:function(a,b){var e=new Annotations.Point(a.x1,a.y1),f=new Annotations.Point(a.x2,a.y2),h=b.inverse();h.W(e);h.W(f);return c.toFixed(e.x)+","+c.toFixed(e.y)+","+c.toFixed(f.x)+","+c.toFixed(f.y)},Dg:function(a){if("undefined"===typeof a||null===a||!(a instanceof Annotations.Color)||0===a.A)return null;var c=a.R.toString(16).toUpperCase();2>c.length&&(c="0"+c);var b=a.G.toString(16).toUpperCase();
2>b.length&&(b="0"+b);a=a.B.toString(16).toUpperCase();2>a.length&&(a="0"+a);return"#"+c+b+a},ek:function(a){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},Iz:function(a){if(a){var c=new Date(Date.UTC(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0));
a=a.substring(16);if(7===a.length){var b=a.substring(0,1);if("Z"!==b){var b="-"===b?1:-1,e=parseInt(a.substring(4,6),10);c.setUTCHours(c.getUTCHours()+b*parseInt(a.substring(1,3),10));c.setUTCMinutes(c.getUTCMinutes()+b*e)}}return c}},GH:function(a,b,e){a="#"+c.ge(a.toString(16));a+=c.ge(b.toString(16));return a+=c.ge(e.toString(16))},zW:function(a,c){return"/"+a.replace(/ /g,"")+" "+c+" Tf"},cT:function(a){return 1<a.split(" ").length?"'"+a+"'":a},yW:function(a){return"font: "+c.cT(a.Font)+" "+a.zA()+
"pt; text-align: "+a.TextAlign+"; color: "+c.Dg(a.TextColor)},b1:function(a){return"font-family: "+a.Font+"; font-size: "+a.zA()+"pt; text-align: "+a.TextAlign+"; color: "+c.Dg(a.TextColor)},AQ:["Tf","rg"],ZB:function(a){var b={ve:a};if(!_.isNull(a))for(a=a.split(" ");0<a.length;){var e=a.pop();if(-1!==c.AQ.indexOf(e))switch(e){case "Tf":var e=a.pop(),f=a.pop().slice(1);b.font={size:e+"pt",name:c.bs(f),X0:f};break;case "rg":var e=parseInt(255*a.pop(),10),f=parseInt(255*a.pop(),10),h=parseInt(255*
a.pop(),10);b.color=c.GH(h,f,e)}}return b},A_:function(a){if(4===a.length)return{r:parseInt(a.charAt(1),16)/16,g:parseInt(a.charAt(2),16)/16,b:parseInt(a.charAt(3),16)/16};if(7===a.length)return{r:parseInt(a.slice(1,3),16)/255,g:parseInt(a.slice(3,5),16)/255,b:parseInt(a.slice(5,7),16)/255}},wV:function(a){var b={};_.isNull(a)||a.split(";").forEach(function(a){a=a.split(":");if(!(2>a.length)){var e=a[0].trim();a=a[1].trim();switch(e){case "text-align":b.textAlign=a;break;case "color":a.startsWith("rgb")?
(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(a),null!==a&&(b.color=c.GH(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):b.color=a;break;case "font":var e=a.split(" "),f=e[0],k=e[1];"'"===a[0]&&(f=a.slice(1,a.lastIndexOf("'")),k=e[e.length-1]);b.font={name:c.bs(f),size:k}}}});return b},bs:function(a){function c(b,d){var e=a;0===e.indexOf(b)&&(e=d);return e}a=c("Arial","Arial");a=c("Courier","Courier");a=c("Helv","Arial");return a=c("Times","Times New Roman")},XJ:function(a){return 0<a.indexOf("Bold")?
"bold":"normal"},WJ:function(a){return 0<a.indexOf("Italic")||0<a.indexOf("Oblique")?"italic":"normal"},HQ:function(a){var c=[];a=a.split(";");for(var b=0;b<a.length;++b){var e=a[b].split(",");2===e.length&&0<e[0].length&&0<e[1].length&&c.push(e)}return c},BW:function(a){for(var c="",b=0;b<a.length;b++)c+=a[b][0]+",",c+=a[b][1]+";";return c.substring(0,c.length-1)},AW:function(a){for(var c=[],b=0;b<a.length;b++){var e=[];e.push(this.escape(a[b][0]));e.push(this.escape(a[b][1]));c.push(e)}return c},
Gk:function(a,c,b){_.isUndefined(b)||_.isNull(b)||(a[c]=b)},cL:function(a,c,b){_.isUndefined(b)||_.isNull(b)||(a[c]=Number(b))},zb:function(a,c,b){_.isUndefined(b)||_.isNull(b)||a.setAttribute(c,b)},Yw:function(a){var c=this,b=document.createElementNS("","measure");this.zb(b,"scale",a.scale);var e=document.createElementNS("","axis");a.axis.forEach(function(a){e.appendChild(c.xC(a))});var f=document.createElementNS("","distance");a.distance.forEach(function(a){f.appendChild(c.xC(a))});var k=document.createElementNS("",
"area");a.area.forEach(function(a){k.appendChild(c.xC(a))});b.appendChild(e);b.appendChild(f);b.appendChild(k);return b},Ru:function(a){var c,b,e={};this.Gk(e,"scale",a.getAttribute("scale"));e.axis=[];c=a.querySelector("axis").querySelectorAll("numberformat");for(b=0;b<c.length;b++)e.axis.push(this.Jz(c[b]));e.distance=[];c=a.querySelector("distance").querySelectorAll("numberformat");for(b=0;b<c.length;b++)e.distance.push(this.Jz(c[b]));e.area=[];c=a.querySelector("area").querySelectorAll("numberformat");
for(b=0;b<c.length;b++)e.area.push(this.Jz(c[b]));return e},xC:function(a){var c=document.createElementNS("","numberformat");this.zb(c,"factor",a.factor);this.zb(c,"unit",a.unit);this.zb(c,"decimal-symbol",a.decimalSymbol);this.zb(c,"thousands-symbol",a.thousandsSymbol);this.zb(c,"display",a.display);this.zb(c,"precision",a.precision);this.zb(c,"unit-prefix",a.unitPrefix);this.zb(c,"unit-suffix",a.unitSuffix);this.zb(c,"unit-position",a.unitPosition);return c},Jz:function(a){var c={};this.cL(c,"factor",
a.getAttribute("factor"));this.Gk(c,"unit",a.getAttribute("unit"));this.Gk(c,"decimalSymbol",a.getAttribute("decimal-symbol")||".");this.Gk(c,"thousandsSymbol",a.getAttribute("thousands-symbol")||",");this.Gk(c,"display",a.getAttribute("display")||"D");this.cL(c,"precision",a.getAttribute("precision")||100);this.Gk(c,"unitPrefix",a.getAttribute("unit-prefix")||"");this.Gk(c,"unitSuffix",a.getAttribute("unit-suffix")||"");this.Gk(c,"unitPosition",a.getAttribute("unit-position")||"S");return c}};b.Annotations.ca=
c})(window);
(function(b){b.o=b.o||{};var f=b.o;f.jy=function(b){this.v=b;this.J=[];this.yk={};this.Lv=f.Ga.oh;this.sg=1;if(b){this.jC();this.kC();var c=this;b.on("pagesDiff",function(a,b){c.trigger("pageDiff",[b]);c.trigger("pageContentChanged",[b.filter(function(a){return a.after.contentChanged}).map(function(a){return a.after.pageNum})])});b.on("pagesUpdated",function(a,b){function e(a){var c={};Object.keys(a).forEach(function(b){c[b]=a[b].Ma});return c}var f=e(c.yk);c.jC();c.kC();f=c.IP(f,e(c.yk));f.contentChanged=
b.filter(function(a){return a.contentChanged}).map(function(a){return a.pageNum});c.trigger("layoutChanged",[f])})}};f.jy.prototype=$.extend({s_:function(){return this.J.length},IP:function(b,c){var a={added:[],removed:[],moved:{}},d={};Object.keys(b).forEach(function(a){d[a]=d[a]||{};d[a].before=b[a]});Object.keys(c).forEach(function(a){d[a]=d[a]||{};d[a].after=c[a]});Object.keys(d).forEach(function(c){c=d[c];c.before&&!c.after?a.removed.push(c.before):!c.before&&c.after?a.added.push(c.after):c.before&&
c.after&&c.before!==c.after&&(a.moved[c.before]=c.after)});return a},jC:function(){var b=this.v.wo(),c={};b.forEach(function(a){c[a]=!0});var a=this.yk;Object.keys(a).forEach(function(b){b in c||delete a[b]});b.forEach(function(c){a[c]||(a[c]={rotation:null,zoom:null,Lg:null,Mg:null,Gg:null,kj:null,fp:null,Zc:null,Ma:null,id:c})})},kC:function(){for(var b=this.v.numPages,c=this.v,a=[],d=0;d<b;++d){var g=this.yk[c.ur(d)];g.Ma=d+1;a.push(g)}this.J=a},EC:function(b){this.Lv=b},X_:function(){return this.Lv},
lj:function(b){this.sg=b;this.trigger("zoomChanged",[b])},Y_:function(){return this.sg},fL:function(b,c){var a=this.J[b];if(a)a.fp=c;else throw Error("Invalid page text selected "+b);},HS:function(b){var c=this.J[b];if(c)return c.fp;throw Error("Selected text requested for invalid page index: "+b);},IS:function(b){var c=this.J[b];if(c)return c.Gg.map(function(a){return{x1:a.x1,x2:a.x2,x3:a.Qm,x4:a.Rm,y1:a.y1,y2:a.y2,y3:a.Sm,y4:a.Tm}});throw Error("Selected text quads requested for invalid page index: "+
b);},uz:function(){this.J.forEach(function(b){b.fp=null})},Dv:function(){return this.J.map(function(b){return b.fp}).filter(function(b){return null!==b}).join("\n")},UA:function(){var b={};this.J.filter(function(c){return null!==c.Gg}).forEach(function(c){b[c.Ma-1]=c.Gg.map(function(a){return{x1:a.x1,x2:a.x2,x3:a.Qm,x4:a.Rm,y1:a.y1,y2:a.y2,y3:a.Sm,y4:a.Tm}})});return b},Wd:function(b){var c=this.J[b];if(c){var a=this.v.ld(b);b=this.v.kd(b);var d=_.isNull(c.rotation)?this.Lv:c.rotation;if(d===f.Ga.je||
d===f.Ga.$e){var g=a,a=b;b=g}return{width:a,height:b,rotation:d,zoom:_.isNull(c.zoom)?this.sg:c.zoom,Lg:c.Lg,Mg:c.Mg,Gg:c.Gg,kj:c.kj,fp:c.fp,Zc:c.Zc,Ma:c.Ma,id:c.id}}return{width:0,height:0}},Xd:function(){for(var b=[],c=this.J.length,a=0;a<c;++a)b.push(this.Wd(a));return b},cx:function(b,c){var a=this.J[b];if(a)a.zoom=c;else throw Error("Invalid page index zoomed "+b);},CS:function(b){var c=this.J[b];if(c)return!_.isNull(c.zoom);throw Error("Invalid page index get has individual zoom "+b);},vs:function(b,
c){var a=this.J[b];if(a)a.rotation=c;else throw Error("Invalid page index rotated "+b);},sX:function(b,c){var a=this.J[b];if(a)a.Gg=c;else throw Error("Invalid page index set text quads "+b);},qX:function(b,c){var a=this.J[b];if(a)a.kj=[c];else throw Error("Invalid page index set search quads "+b);},CY:function(b,c){var a=this.J[b];if(a){var d=a.kj||[];d.push(c);a.kj=d}else throw Error("Invalid page index update search quads "+b);},sz:function(){this.J.forEach(function(b){b.kj=null})},mG:function(){this.J.forEach(function(b){b.Gg=
null})},DS:function(b){var c=this.J[b];if(c)return!!c.Gg||!!c.kj;throw Error("Invalid page index get has text quads "+b);},oX:function(b,c){var a=this.J[b];if(a)a.Lg=c.Lg,a.Mg=c.Mg;else throw Error("Tried to set offsets of invalid page"+b);},jS:function(){var b={};this.J.forEach(function(c,a){_.isNull(c.rotation)||(b[a]=c.rotation)});return b},VP:function(){this.J.forEach(function(b){b.rotation=null})},wH:function(b){this.J.forEach(function(c){_.isNull(c.rotation)||b(c)})},GC:function(b,c){var a=
this.J[b];if(a)a.Zc?c&&a.Zc[0]===c[0]||(window.o.pa.Wl(a.Zc[0]),a.Zc=c):a.Zc=c;else throw Error("Invalid page index set preview canvas "+b);},iI:function(){var b=[];this.J.forEach(function(c,a){_.isNull(c.Gg)&&_.isNull(c.kj)||b.push(a)});return b},FS:function(){var b=[];this.J.forEach(function(c,a){_.isNull(c.Gg)||b.push(a)});return b},XP:function(b){b=this.J[b];b.Zc&&(window.o.pa.Wl(b.Zc[0]),b.Zc=null)},YP:function(){this.J.forEach(function(b){b.width=0;b.height=0;b.Zc&&(window.o.pa.Wl(b.Zc[0]),
b.Zc=null)})},gJ:function(b){return!!this.yk[b]},md:function(b){var c=this.yk[b];if(c)return this.Wd(c.Ma-1);throw Error("Unknown page ID "+b);},Hf:function(b){var c=this.J[b];if(c)return c.id;throw Error("Page index is not loaded "+b);},fd:function(){this.off()}},b.utils.eventHandler)})(window);
(function(b){function f(c,a){this.handlers=c;this.state=_.isUndefined(a)?null:a;this.pi=[];this.gC=!0}function e(){this.vH=[];this.yH=[];this.aj={};this.Js=!1;Promise.resolve();Promise.resolve();this.co=!1;this.zu=null}f.prototype={cj:function(c){this.pi.push(c)},zL:function(){return 0<this.pi.length},wL:function(){return this.gC||0<this.pi.length},read:function(){this.state=this.handlers.read(this.state);this.gC=!1},write:function(){var c=this.pi;this.handlers.consolidateChanges&&(c=this.handlers.consolidateChanges(c));
this.pi=[];this.state=this.handlers.write(this.state,c);this.gC=!0}};e.prototype={fd:function(){this.Js=!1;window.cancelAnimationFrame(this.zu);this.zu=null;this.co=!0},rK:function(c,a,b,e){_.isUndefined(e)&&(e=!0);if(this.aj[c])throw Error("Tried to register pipeline "+c+" twice");this.aj[c]=new f(a,b);e&&this.nC()},BT:function(c){return!!this.aj[c]},NS:function(c){if(!this.aj[c])throw Error("Tried to get non-existent pipeline "+c);return this.aj[c]},nC:function(){var c=this;this.Js||this.co||(this.Js=
!0,this.zu=window.requestAnimationFrame(function(){try{c.zu=null;var a=Object.keys(c.aj).map(function(a){return c.aj[a]});a.forEach(function(a){a.wL()&&a.read()});a.forEach(function(a){a.zL()&&a.write()});var b=a.some(function(a){return a.wL()||a.zL()});c.Js=!1;b?c.nC():(c.yH.forEach(function(a){a()}),c.yH=[]);c.vH.forEach(function(a){a()});c.vH=[]}catch(e){var g=Object.keys(c.aj);0<g.length&&c.aj[g[0]].handlers.clearCacheIfFull();throw e;}finally{c.Js=!1}}))},cj:function(c,a){this.NS(c).cj(a);this.nC()}};
b.Up=e;b.AZ=f})((window.o?window.o:window.o={}).jn={});
(function(b){function f(a){this.dM=!0;this.Fr=this.Pw=this.yL=this.Kg=!1;this.Dd=[];this.Nc={};this.rl={};this.he=.5;this.u=a;this.v=null;this.Mw=Promise.resolve();this.Wv=!1;this.Yo=null;this.paused=!1;this.GB=null}function e(a){this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.te=this.canvas=null;this.Kh=this.gz=this.Cg=!1;this.xL=!0;this.Ic=this.gm=this.rp=this.request=null}function c(a,c){this.Fa=a;this.zk=c;this.eC=createPromiseCapability()}c.prototype={cancel:function(){var a=
this.Fa.Tc(this.zk);try{if(a.Kh){a.Ic&&(a.Ic.fG(),a.Ic.abort&&a.Ic.abort());if(a.request)try{this.Fa.v.mh(a.request)}finally{a.request=null,a.Ic=null}if(a.rp)try{this.Fa.v.ni(a.rp)}finally{a.rp=null}if(a.gm)try{this.Fa.v.mh(a.gm)}finally{a.gm=null}}}finally{a.Kh=!1,a.xL=!0,this.eC.resolve("canceled")}},VL:function(){this.cancel();var a=this.Fa.Tc(this.zk);a.Ic&&(a.Ic.Mb(void 0,this.Fa.u.N.md(this.zk).Ma-1),a.Ic=null)},render:function(a){var c=this;a.then(function(){c.eC.resolve("complete")})},PA:function(){return this.eC.promise}};
e.prototype={qr:function(a){return(this.canvas||a?1:0)*this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio*window.devicePixelRatio:1)*4},isValid:function(){return!!this.canvas||!b.o.pa.Nk},update:function(a){if(this.rotation!==a.rotation||this.zoom!==a.zoom)this.te=this.canvas=null,this.xL=!0;this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.Ma=a.Ma}};f.prototype={init:function(){this.pz();this.v=this.u.getDocument()},fd:function(){this.Fr=
!0;this.xs();return this.Mw},pz:function(){this.xs();Object.keys(this.Nc).forEach(this.Pv.bind(this))},ZP:function(){Object.keys(this.Nc).forEach(this.ZI.bind(this))},EX:function(a){this.yL=!!a},YI:function(a){var c=this.Nc[a];c&&(c.canvas&&(window.o.pa.Wl(c.canvas),c.canvas=null),c.Ic&&(c.Ic.Mb(),c.Ic=null),c.te=null);this.pp(a)},ZI:function(a){if(a=this.Nc[a])a.Cg=!1},Pv:function(a){this.YI(a);this.ZI(a)},Fu:function(a){var c=this.u,b=c.$l()-1;a=c.N.md(a).Ma-1;c=c.xb();b=a-b;0>b&&(b-=.5);return c-
Math.abs(b)},QA:function(a){return this.rl[a]||null},KF:function(a,b){var e=this;if(this.Tc(a).Kh)return this.QA(a);var f=new c(this,a);this.pp(a);var h;h=e.yL&&b?b.then(function(){if(!e.Pw)return e.yK(a,function(){})}):this.yK(a,function(){});f.render(h);return this.rl[a]=f},NR:function(){var a=this;return Object.keys(this.Nc).reduce(function(c,b){return c+a.Tc(b).qr()},0)},iP:function(a,c){for(var e=this.Tc(c),f=this,h=Object.keys(this.Nc).sort(function(a,c){return f.Fu(a)-f.Fu(c)}),k=this.NR(),
n=e.qr(a)+k,l=0;n>b.Xm&&l<h.length;)n-=this.Tc(h[l]).qr(),++l;if(n<b.Xm){for(k=0;k<l;++k)this.YI(h[k]);e.canvas=a}else console.warn("Could not fit "+c+" with size "+e.qr(a)+" into cache of size "+k+" with max size "+b.Xm)},Tc:function(a){if(this.u.N.gJ(a)){this.Nc[a]=this.Nc[a]||new e(this.u.N.md(a));var c=this.u.N.md(a);this.Nc[a].update(c);return this.Nc[a]}return this.Nc[a]?this.Nc[a]:new e({})},eZ:function(a){this.Pv(a)},Jr:function(a){return!!this.Tc(a).canvas},pause:function(){this.paused=!0},
resume:function(){this.paused=!1;var a=this.Nc;Object.keys(a).forEach(function(c){c=a[c];c.Ic&&(c.Ic.paused=!1,c.Ic.resume&&c.Ic.resume())})},vp:function(a){this.Dd=a||this.u.ea.Xd()},xP:function(a){var c=this;return a.some(function(a){return-1===c.Dd.indexOf(a)})||c.Dd.some(function(c){return-1===a.indexOf(c)})},WS:function(){var a=this;return Object.keys(this.Nc).map(function(c){return{id:c,page:a.Nc[c]}}).filter(function(a){return a.page.Cg}).map(function(c){return a.u.N.md(c.id).Ma-1})},TG:function(a){var c=
this.u.N.Hf(a),e=this.Tc(c);if(this.Kg){c=e.od;if(e.Kh||!e.Cg||!c)return!0;var e=this.u.ea,f=this.he/2;return(a=e.Bo(a,e.aB(f,f)))&&!b.utils.containsRect(c,a.od)}return!e.Kh&&!e.Cg},FI:function(a){for(var c=[],b=[],e=a.length,f=0;f<e;++f){var k=a[f];this.TG(k)?b.push(k):c.push(k)}return{TJ:c,YB:b}},fB:function(){var a=this;return a.Fr?[]:a.u.ea.Xd(a.he,a.he).some(function(c){return a.TG(c)})},QP:function(){!this.Yo&&this.fB()&&this.KG()},KG:function(){var a=this;this.Yo||(this.Yo=setTimeout(function(){this.Yo=
null;var c=a.u.ea.Xd(a.he,a.he);a.xs(c);a.Wv||(a.Mw=a.Mw.then(function(){return a.zK()})["catch"](function(c){console.error(c);a.Mw=Promise.resolve()}))},80))},FV:function(a){var c=this;return Promise.resolve().then(function(){var b=c.u.N.md(a).Ma-1,e=c.Tc(a);if(!e.canvas)throw Error("Tried to place uncached page from cache "+a);e.Cg=!0;c.u.Dq(e.canvas,b);c.gk(b,e);c.u.trigger("pageComplete",[b,e.canvas])})},XA:function(a){var c=this;return new Promise(function(b){var e=c.Tc(a),f=c.u.N.md(a).Ma-1;
e.rp||c.u.DT(f)?b():e.rp=c.v.EB(f,function(b){c.Tc(a).rp=null;c.u.WF(b,f,-1!==c.Dd.indexOf(f),!1)})})},iS:function(a){var c=this;return new Promise(function(e){var f=c.Tc(a),h=c.u.N.md(a).Ma-1;if(f.gm||c.u.zT(h))e();else{var k=b.utils.getCanvasMultiplier(),n=f.width,l=f.height,q=n>l?2E3/n:2E3/l,q=q/k;f.gm=c.v.cw({pageIndex:h,getZoom:function(){return q},getPageRotation:function(){return b.o.Ga.oh},drawComplete:function(a){c.v.$j(f.gm);f.gm=null;c.u.WF(a,h,-1!==c.Dd.indexOf(h),!0);e()},useProgress:!1,
isHighResThumb:!0})}})},zK:function(){var a=this;return this.Fr?Promise.resolve():Promise.resolve().then(function(){var c=a.u.ea.Xd(a.he,a.he),e=a.FI(c);a.xs(c);a.vK(e.TJ);a.Wv=!0;a.u.trigger("beginRendering");var f=Promise.resolve();!a.v.pk()&&b.o.pa.Nk||c.forEach(function(c){c=a.u.N.Hf(c);a.XA(c)});a.Pw=!1;return Promise.all(e.YB.map(function(c){c=a.u.N.Hf(c);return a.Jr(c)&&!a.Kg?a.FV(c):f=a.KF(c,f).PA()}))}).then(function(){a.Pw=!1;a.Wv=!1;var c=a.fB();a.u.trigger("finishedRendering",c);if(!a.Fr)return new Promise(function(c,
b){window.requestAnimationFrame(function(){try{var d;if(a.fB())return d=a.zK(),c(d);a.lU()&&a.HV();c()}catch(e){b(e)}})})})["catch"](function(c){a.Wv=!1;console.error(c);throw c;})},lU:function(){return b.o.pa.Nk&&(0!==b.hw||0!==b.gw)},HP:function(){var a=this;return _.range(a.u.xb()).map(function(c){return a.u.N.Hf(c)}).sort(function(c,b){return a.Fu(b)-a.Fu(c)})},cG:function(){var a=this,c=_.min(a.Dd),e=_.max(a.Dd),f=c-b.hw,h=e+b.gw,c=this.HP().filter(function(c){c=a.u.N.md(c).Ma-1;return f<c&&
h>c});if(a.Kg)return[c[0]];for(var e=[],k=c.length,n=0,l=0;l<k;++l){var q=a.Tc(c[l]),n=n+q.qr(!0);if(n<b.Xm)e.push(c[l]);else break}return e},JP:function(){var a=this;return a.Fr?[]:a.cG().filter(function(c){return!a.Tc(c).isValid()})},HV:function(){var a=this;return Promise.resolve().then(function(){return a.Kg?Promise.all(a.Dd.map(function(c){c=a.u.N.Hf(c);return a.iS(c)})):Promise.all(a.JP().map(function(c){return a.KF(c).PA()}))["catch"](function(a){console.error("error pre-rendering",a);throw a;
})})},yK:function(a,c){c=c||function(){};var b=this;return new Promise(function(e){b.$V(a,function(a){!a||a.type&&"Cancelled"===a.type||console.warn(a);e()},c)})},vK:function(a){var c=this,e=this.cG();a||(a=c.u.ea.Xd(c.he,c.he),a=c.FI(a).TJ);a&&a.length&&(a=a.map(function(a){return c.u.N.Hf(a)}),e=e.concat(a));Object.keys(this.Nc).forEach(function(a){var f=c.Tc(a);if(c.u.N.gJ(a)){var k=c.u.N.md(a).Ma-1;if(b.o.pa.Nk)-1===e.indexOf(a)&&(c.XL(a),f.Cg&&(c.u.YV(k),f.Cg=!1));else{var n=-1!==c.Dd.indexOf(k);
!f.Cg&&!f.gz||n||(b.o.pa.Wo(k),f.gz=!1,f.Cg=!1,c.XL(a))}}})},$V:function(a,c,e){var f=this,h=this.Tc(a);c=c||function(){};e=e||function(){};if(h.Kh)b.utils.warn("renderPage: Another request for page ID",a),c("renderPage: Another request for page ID "+a);else{var k=f.u.N.md(a),n=k.zoom,l=k.rotation;if(f.v!==f.u.getDocument())c("Document changed");else{var q=!0,p=null,u=!1,r,v=f.u.ea.xo(k.Ma-1);if(f.Kg||v&&v.viewportRender)if(v=f.u.ea,r=v.Bo(k.Ma-1,v.aB(f.he,f.he)),null===r){c("Page "+(k.Ma-1)+" no longer visible");
return}this.GB=window.setTimeout(function(){$("#pageContainer"+(k.Ma-1)).addClass("loading")},300);var w={pageIndex:this.u.N.md(a).Ma-1,getZoom:function(){return f.u.N.md(a).zoom},getPageRotation:function(){return f.u.N.md(a).rotation},finishedLoading:function(b,e){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(b)return console.warn("Error loading page "+a),c(Error("Error loading page "+a)),!1;q=null===h.Ic;h.Ic=e;f.paused&&h.Ic.pause();return!0},acquireResources:function(){return q},
resourcesLoaded:function(){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(!1===h.Kh)return!1;var b=f.u.N.md(a);n===b.zoom&&l===b.rotation||f.gk(b.Ma-1,h);return!0},drawComplete:function(e,g,l){f.v!==f.u.getDocument()||_.isNull(p)?c(Error("Document changed, or progress event not received")):(k=f.u.N.md(a),h.Kh=!1,h.Cg=!!u,h.te=l,h.od=r?r.od:null,u?f.u.trigger("pageComplete",[g,p]):b.o.pa.Wo(g),b.o.pa.Nk&&!f.Kg&&f.iP(p,a,k),f.v.$j(h.request),clearTimeout(this.GB),$("#pageContainer"+
(k.Ma-1)).removeClass("loading"),e=-1!==f.Dd.indexOf(g),f.v.nm()&&e&&f.gk(k.Ma-1,h),c())},drawProgressive:function(h){if(f.v!==f.u.getDocument())c(Error("Document changed"));else{var k=f.u.N.md(a),q=k.Ma-1;if(n===k.zoom){if(!_.isUndefined(r)){var v=$(h);v.css("top",r.ox.y+"px");v.css("left",r.ox.x+"px")}v=f.v.ic(q);p=b.o.pa.UH(h,q,n,l,w.getPageTransform(),v);u=!!f.u.Dq(p,q)}else b.utils.warn("bad zoom: "+q);$("#pageContainer"+(k.Ma-1)).removeClass("loading");f.u.trigger("pageProgressiveUpdate",[q,
p]);e(q)}},getPageTransform:function(){return f.u.ea.xo(k.Ma-1)},onError:function(a){c(a)},useProgress:!f.Kg&&b.o.mI(),renderRect:_.isUndefined(r)?void 0:r.od};h.request=-1;h.Kh=!0;h.request=f.v.cw(w);f.gk(k.Ma-1,h)}}},gk:function(a,c){this.u.gk(a);c.gz=!0},iQ:function(){for(var a=[],c=0;c<this.u.xb();++c){var e=this.u.N.Hf(c);a.push(e)}this.WL(a);this.xs();b.o.pa.hs()},WL:function(a){var c=this;Object.keys(this.Nc).forEach(function(b){if(-1===a.indexOf(b)){var e=c.rl[b];e&&(e.cancel(),e.VL(),delete c.rl[b]);
delete c.Nc[b]}else c.Nc[b].Cg=!1})},eD:function(a){this.v&&((this.Kg=this.dM&&a>this.v.vS())&&1<b.utils.getCanvasMultiplier()?this.he=0:this.he=.5)},xs:function(a){var c=this,e={};"undefined"!==typeof a&&$.each(a,function(a,b){e[c.u.N.Hf(b)]=!0});var f=[];Object.keys(this.rl).forEach(function(a){a in e&&b.o.pa.Nk?f[a]=c.rl[a]:c.pp(a)});this.rl=f;this.Pw=!0;clearTimeout(this.Yo);this.Yo=null},pp:function(a){var c=this.QA(a);clearTimeout(this.GB);$("#pageContainer"+a).removeClass("loading");c&&(this.Tc(a).Kh&&
(a=this.u.N.md(a).Ma-1,$(document.getElementById("pageContainer"+a)).find(".progressive").remove()),c.cancel(),b.o.pa.rz())},XL:function(a){(a=this.QA(a))&&a.VL()},MC:function(a){this.dM=!!a;this.eD()},kL:function(){}};b.o.yN=f})(window);
(function(b){function f(a,c){this.Mj=!a;this.height=this.width=0;this.Mh=null;a&&(this.width=c.width,this.height=c.height,this.rotation=c.rotation,this.Jb=c.Ma-1,this.zk=a,this.zoom=c.zoom,this.Zc=c.Zc)}function e(a,c){this.J=c;this.index=a;this.height=c.reduce(function(a,c){return c.ya()>a?c.ya():a},0);this.width=c.reduce(function(a,c){return a+c.Aa()},0)}function c(a){this.rows=a.rows;this.wm=a.wm;this.pj=a.pj;this.qd=a.qd;this.No=a.No;this.ri=a.ri;this.J=a.J;this.Lh=a.Lh;a=this.rows;this.width=
this.ri.reduce(function(a,c){return a+c},2*this.pj*this.wm);this.height=a.reduce(function(a,c){return a+c.ya()},this.rows.length*this.pj*2)}function a(a,c){var b=c.zoom,d=c.rotation,e=c.width*b,b=c.height*b,g=null;d===window.o.Ga.je||d===window.o.Ga.$e?(g="rotate("+90*d+"deg)",g=d===window.o.Ga.je?" translate("+e+"px, 0)  "+g:" translate(0,"+b+"px)  "+g,a.css("height",e),a.css("width",b)):(d===window.o.Ga.jo&&(g="translate("+e+"px,"+b+"px) scale(-1,-1)"),a.css("width",e),a.css("height",b));null!==
g&&a.css({position:"absolute",transform:g,"transform-origin":"top left","ms-transform":g,"ms-transform-origin":"top left","-moz-transform":g,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":g,"-o-transform":g,"-o-transform-origin":"top left"})}function d(a,c,b){if(c)for(c=a-1;0<=c;--c)b(c);else for(c=0;c<a;++c)b(c)}function g(a,c,b){var d=document.createElement("div");d.id="pageContainer"+a.mk();2===b?0===c?d.style.marginLeft="auto":1===c&&(d.style.marginRight=
"auto"):(d.style.marginLeft="auto",d.style.marginRight="auto");d.className="pageContainer";return d}function m(a,c,b){var d=document.createElement("div");d.id="pageSection"+a.mk();d.style.cssFloat="left";d.style.position="relative";d.className="pageSection";d.appendChild(g(a,c,b));return d}function h(a,c,b){var e=document.createDocumentFragment(),g=a.Sb();d(g.length,b,function(a){e.appendChild(m(g[a],a,c))});a=document.createElement("div");a.style.clear="both";e.appendChild(a);return e}function k(c,
b){if(b.Zc){var d=b.Zc,e=parseFloat(d.css("width")),g=parseFloat(d.css("height")),f=parseFloat(c.style.width)/e,m=d.attr("id");if(m&&0<=m.indexOf("hrthumb")){m=b.rotation;if(m===window.o.Ga.je||m===window.o.Ga.$e)f=parseFloat(c.style.width)/g;a(d,b)}d.each(function(){var a=$(this);a.css({top:parseFloat(a.css("top"))*f,width:e*f,height:g*f});c.appendChild(this)})}}function n(a,c,b){var d=Math.floor(c.ya())+"px";a.style.width=Math.floor(c.Aa())+"px";a.style.height=d;a.style.top=Math.floor(b-c.ya())/
2+"px";$(a).find("canvas").each(function(){window.o.pa.Wl(this)});$(a).children().detach();k(a,c)}function l(a,c,b,e,g,f){var m=c.Sb(),h=a;d(m.length,g,function(a){if(!h)throw Error("Tried to update non-existent page section");var d=h,g=m[a],l=c.ya();d.style.width=Math.floor(b[a])+"px";d.style.height=Math.floor(l)+"px";d.style.margin=e+"px";f||n(d.firstChild,g,l);h=h.nextSibling});return h=h.nextSibling}function q(a,c,b){var e=c.Sb(),g=a;d(e.length,b,function(a){if(!g)throw Error("Tried to skip non-existent page section");
k(g.firstChild,e[a]);g=g.nextSibling});return g=g.nextSibling}function p(a,c,b){var e=c.Sb().length,g=a;u(g);c=document.createRange();d(e,b,function(){if(!g)throw Error("Tried to remove non-existent page section");g=g.nextSibling;u(g)});b=g.nextSibling;c.setStartBefore(a);c.setEndAfter(g);c.deleteContents();return b}function u(a){$(a.querySelector(".pageContainer")).children().detach()}function r(a){this.pi=[];this.state=a}f.uG=function(a,c){var b=new f(null,{});b.Jb="b"+a;b.width=0;b.height=0;b.zoom=
c.zoom;b.rotation=0;b.Zc=null;b.GT=c.width;b.g0=c.height;return b};f.prototype={rI:function(){return this.Mh},bf:function(){return this.zoom},Vd:function(){return this.rotation},Aa:function(){return this.width*this.zoom},CA:function(){var a=this.width;this.Mj&&(a=this.GT);return a*this.zoom},ya:function(){return this.height*this.zoom},mk:function(){return this.Jb},oU:function(a){return this.Mj&&a.Mj||this.zk===a.zk},rB:function(a){return this.Mj!==a.Mj||!this.Mj&&(this.zk!==a.zk||this.Aa()!==a.Aa()||
this.ya()!==a.ya()||this.bf()!==a.bf()||this.Vd()!==a.Vd())}};e.prototype={Sb:function(){return this.J},ya:function(){return this.height},Aa:function(){return this.width},mk:function(){return this.index},rB:function(a){var c=a.Sb();return this.J.length!==a.Sb().length||this.J.some(function(a,b){return a.rB(c[b])})},pU:function(a){var c=a.Sb();return this.J.length===a.Sb().length&&this.J.every(function(a,b){return a.oU(c[b])})}};c.prototype={Sb:function(){return this.J},Aa:function(){return this.width},
ya:function(){return this.height},rI:function(a){return this.rows[a]}};r.prototype={make:function(a,c,b){this.pi.push({PB:a,kh:{Mh:c,kV:b}})},tP:function(a){var c=this,b=a.firstChild,d=[];a.style.width=Math.ceil(this.state.Aa())+"px";this.pi.forEach(function(e){switch(e.PB){case "addRow":d=d.concat(e.kh.Mh.Sb());b=c.LF(b,e.kh,a);break;case "updateRow":d=d.concat(e.kh.Mh.Sb());b=c.EY(b,e.kh,a);break;case "updateColumns":b=c.xY(b,e.kh,a);break;case "skipRow":b=c.XX(b,e.kh,a);break;case "replaceRow":d=
d.concat(e.kh.Mh.Sb());b=c.cW(b,e.kh,a);break;case "removeRow":b=c.wK(b,e.kh,a);break;default:console.warn("Unsupported layout change operation:",e.PB)}});if(b&&"selectionrect"!==b.id)throw Error("Nodes left after applying changes");d=d.filter(function(a){return!a.Mj}).map(function(a){return a.mk()});return{YB:d}},ES:function(){var a=[];this.pi.forEach(function(c){switch(c.PB){case "updateRow":a=a.concat(c.kh.Mh.Sb())}});return a.filter(function(a){return!a.Mj}).map(function(a){return a.mk()})},LF:function(a,
c,b){c=c.Mh;var d=h(c,this.state.ri.length,this.state.Lh);l(d.firstChild,c,this.state.ri,this.state.pj,this.state.Lh);a?b.insertBefore(d,a):b.appendChild(d);return a},EY:function(a,c){return l(a,c.Mh,this.state.ri,this.state.pj,this.state.Lh)},XX:function(a,c){return q(a,c.Mh,this.state.Lh)},cW:function(a,c,b){a=this.wK(a,c);return this.LF(a,c,b)},wK:function(a,c){return p(a,c.kV,this.state.Lh)},xY:function(a,c){return l(a,c.Mh,this.state.ri,this.state.pj,this.state.Lh,!0)}};b.pS=function(a){var b=
a.MY,d=a.pj,g={width:0,height:0},m={width:0,height:0};b&&0<b.length&&(g={width:b[0].width,height:b[0].height,zoom:b[0].zoom},m={width:b[b.length-1].width,height:b[b.length-1].height,zoom:b[b.length-1].zoom});var h=a.ZX||0,l=[],n;for(n=0;n<h;++n)l.push(f.uG(n,g));var l=l.concat(b.map(function(a){return new f(a.id,a)})),k=a.wm;k>l.length&&(k=l.length);b=a.qd||0;g=Math.ceil(l.length/a.wm);_.isUndefined(a.No)||(g=a.No<g?a.No:g);var q=Array(k),h=l.reduce(function(a,c,b){var d;0===a.length?(d=[],a.push(d)):
d=a[a.length-1];d.length===k&&(d=[],a.push(d));d.push(c);if(b===l.length-1&&(c=k-d.length,0<c))for(var e=0;e<c;++e)d.push(f.uG(b+e+1,m));return a},[]).slice(b,b+g).map(function(a,c){var b=new e(c,a);b.Sb().forEach(function(a,c){q[c]=q[c]?a.CA()>q[c]?a.CA():q[c]:a.CA()});return b});return new c({rows:h,pj:d,wm:k,qd:b,No:g,ri:q,J:l,Lh:a.Lh})};b.oS=function(a,c){var b=new r(c);if(!a)return c.rows.forEach(function(a){b.make("addRow",a,null)}),b;var d=a.rows,e,g=a.ri,f=c.ri;e=g.length===f.length?g.every(function(a,
c){return a===f[c]}):!1;g=c.rows;g.forEach(function(a){var c=d[a.mk()];c?c.pU(a)?c.rB(a)?b.make("updateRow",a,c):e?b.make("skipRow",a,c):b.make("updateColumns",a,c):b.make("replaceRow",a,c):b.make("addRow",a,c)});if(g.length<d.length)for(g=g.length;g<d.length;++g)b.make("removeRow",null,d[g]);return b};b.Sp=f;b.CZ=e;b.uZ=c;b.tZ=r})((window.o=window.o||{}).GD={});
(function(b){var f=XODText,e=window.o,c={MD:"Single",Gp:"Continuous",vD:"Facing",Rx:"FacingContinuous",Ss:"Cover",Ts:"CoverFacing",Rg:"Custom"};e.Ed=function(a,b,e){this.mode=null;this.u=a;this.Qd=this.Gh=this.Ub=null;this.mg=this.qd=0;this.sk=null;this.Dd=[];this.Ad={};a=b===c.Rg;this.cp=_.isUndefined(e)?!a:e;_.isNull(b)||_.isUndefined(b)||(this.mode=b)};e.Ed.prototype={vX:function(a,b,e,f,h){this.mode=c.Rg;this.Ub=a;this.Gh=b;this.Qd=e;this.qd=f;this.mg=h},LW:function(a){this.Ad=a},pB:function(){return this.mode===
c.Gp||this.mode===c.Rx||this.mode===c.Ss},rb:function(a,c){if(!this.sk)return-1;var b=this.sk.rI(a-this.sk.qd);if(this.u.SA())var e=this.sk.wm,b=b.Sb()[e-(c+1)];else b=b.Sb()[c];return b&&_.isNumber(b.mk())?b.mk():-1},hf:function(a,c){if(this.Ad.pageToWindow)return this.Ad.pageToWindow(a,c);a=this.u.TA(a,c);var b=this.u.N.Wd(c);return{x:a.x+b.Lg,y:a.y+b.Mg}},sV:function(a,c){if(this.Ad.pageToWindow)return this.Ad.pageToWindow(a,c);a=this.u.ZS(a,c);var b=this.u.N.Wd(c);return{x:a.x+b.Lg,y:a.y+b.Mg}},
Ok:function(a,c){if(this.Ad.windowToPage)return this.Ad.windowToPage(a,c);var e=this.u.tb(c),m=this.u.N.Wd(c),h=new f.Hd;h.x=a.x-m.Lg;h.y=a.y-m.Mg;e=b.Fd(e,this.u.hd(c+1),{width:this.u.ld(c),height:this.u.kd(c)},0,!1);e=e.inverse();h=e.W(h);return{pageIndex:c,x:h.x,y:h.y}},SY:function(a,c){if(this.Ad.windowToPage)return this.Ad.windowToPage(a,c);var e=this.u.tb(c),m=this.u.N.Wd(c),h=new f.Hd;h.x=a.x-m.Lg;h.y=a.y-m.Mg;e=b.Fd(e,this.u.Vd(c+1),this.u.v.ic(c),0,!1);e=e.inverse();h=e.W(h);return{pageIndex:c,
x:h.x,y:h.y}},Cv:function(a,c){if(this.Ad.getSelectedPages)return this.Ad.getSelectedPages(a,c);var b=null,e=null;a=_.isUndefined(a)?this.u.Zd:a;c=_.isUndefined(c)?this.u.Ib:c;a:for(var f=this.qd;f<this.mg;f++)for(var k=0;k<this.Ub;k++){var n=this.rb(f,k);if(!(0>n)){var l=this.u.N.Wd(n),q=l.Lg,p=l.Mg,u=l.Lg+l.width*(l.zoom||this.u.zoom),l=l.Mg+l.height*(l.zoom||this.u.zoom);null===b&&a.x<=u&&a.x>=q&&a.y<=l&&a.y>=p&&(b=n);null===e&&c.x<=u&&c.x>=q&&c.y<=l&&c.y>=p&&(e=n);if(null!==b&&null!==e)break a}}b>
e&&(f=b,b=e,e=f);return{first:b,last:e}},Xd:function(a,c){if(this.Ad.getVisiblePages)return this.Ad.getVisiblePages(a,c);if(0===this.u.yb().length)return[];for(var b,e=[],f=this.getVisibleRegionRect(a,c),k=this.getVisibleRegionRect(0,0),n=this.qd;n<this.mg;n++)for(var l=0;l<this.Ub;l++)if(b=this.rb(n,l),!(0>b)){var q=this.Bo(b,f,k);null!==q&&e.push({Jb:b,$J:q.DV})}e.sort(function(a,c){return c.$J-a.$J});b=e.length;for(f=0;f<b;++f)e[f]=e[f].Jb;return e},getVisibleRegionRect:function(a,c){a=_.isUndefined(a)?
.5:a;c=_.isUndefined(c)?.5:c;var b=this.u.Av();if(null===b)return[];var e=b.getBoundingClientRect(),f=e.width,k=e.height,n=b.scrollTop+e.top-k*a,b=b.scrollLeft+e.left-f*c;return{x1:b,y1:n,x2:b+f*(1+2*c),y2:n+k*(1+2*a)}},Bo:function(a,c,e){var f=this.u.v.ic(a),h=this.pageToWindowNoRotate({x:0,y:0},a),k=this.pageToWindowNoRotate({x:f.width,y:f.height},a),f=b.utils.normalizeRect(h,k);c=b.utils.getRectIntersection(f,c);if(c.x1!==c.x2){var n;e&&(e=b.utils.getRectIntersection(f,e),n=(e.x2-e.x1)*(e.y2-e.y1)/
((f.x2-f.x1)*(f.y2-f.y1)));h=this.windowToPageNoRotate({x:c.x1,y:c.y1},a);k=this.windowToPageNoRotate({x:c.x2,y:c.y2},a);return{od:b.utils.normalizeRect(h,k),ox:{x:c.x1-f.x1,y:c.y1-f.y1},DV:n}}return null},xo:function(a){if(this.Ad.getPageTransform)return this.Ad.getPageTransform(a);a=this.u.vo(a);return{x:0,y:0,width:a.width,height:a.height}},KA:function(){return{x:0,y:0}},ao:function(){return e.GD.pS({pj:this.u.tI(),MY:this.u.N.Xd(),wm:this.Ub,qd:this.qd,No:this.mg-this.qd,ZX:this.mode===c.Ss||
this.mode===c.Ts?1:0,Lh:this.u.SA()})},Jr:function(a){var c=this.u.N.Hf(a);return this.u.Fa.Jr(c)||this.u.N.Wd(a).Zc},lG:function(a){var c=this;this.iv(function(e){var f=e.id.slice(13),h=parseInt(f,10);0===f.indexOf("b")||c.Jr(h)||$(e).children("canvas.canvas"+h).each(function(){window.o.pa.Wl(this)});b.o.pa.oz(h);a&&$(e).children().detach()})},ms:function(a){a?this.mode===c.Rg?this.u.Vc().children().detach():this.lG(!0):(this.sk=null,this.lG(),this.u.Vc().empty(),this.u.trigger("contentRemoved"))},
Ig:function(){if(this.Ad.createPageSections)return this.ms(!1),this.Ad.createPageSections(),_.range(0,this.u.xb());var a=this;if(this.mode!==c.Rg){var b=this.ao(),g=e.GD.oS(this.sk,b);g.ES().forEach(function(c){var b=document.getElementById("pageContainer"+c),b=a.u.hD?$(b).find("#hrthumb"+c):$(b).find(".canvas"+c+":not(.progressive)");0<b.length&&a.u.N.GC(c,b)});this.sk=b;b=g.tP(this.u.Vc().get(0)).YB;this.u.az(this.sk.ya());return b}return _.range(0,this.u.xb())},iv:function(a){var c=this.u.Vc();
if(0!==c.length)for(c=c[0],c=c.firstChild;c;)b.utils.hasClass(c,"pageSection")&&a(c.firstChild),c=c.nextSibling},Uf:function(){var a=this.u.N;this.iv(function(c){var b=c.parentNode,e=Number(c.id.slice(13));_.isNaN(parseInt(e,10))||a.oX(e,{Lg:b.offsetLeft+c.offsetLeft,Mg:b.offsetTop+c.offsetTop})})}};e.Kp=function(a){if(!a)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.u=a;this.ia=new b.o.Ed(this.u,c.Gp)};e.Kp.prototype={gc:function(){return this.ia},XK:function(a){this.ia.ms();
null===this.u.v?(this.ia=a,this.u.trigger("displayModeUpdated")):(this.wF(a),this.u.N.lj(this.u.Df()),this.u.trigger("zoomUpdated",this.u.bf()),this.u.Jh(),this.ia.pB()&&(this.Ig(),this.ia.Uf()),this.u.Ne(this.u.cc+1))},wF:function(a){this.ia=a;this.KD();this.u.N.mG();this.u.trigger("displayModeUpdated")},KD:function(){var a=this.ia.mode;_.isNull(a)||(a===c.MD?(this.ia.Ub=1,this.ia.Gh=Math.ceil(this.u.v.numPages/this.ia.Ub),this.ia.Qd=Math.ceil(this.u.cc/this.ia.Ub),this.ia.qd=this.ia.Qd,this.ia.mg=
this.ia.Qd+1):a===c.Gp?(this.ia.Ub=1,this.ia.Gh=Math.ceil(this.u.v.numPages/this.ia.Ub),this.ia.Qd=-1,this.ia.qd=0,this.ia.mg=this.ia.Gh):a===c.vD?(this.ia.Ub=2,this.ia.Qd=Math.floor(this.u.cc/this.ia.Ub),this.ia.Gh=Math.ceil(this.u.v.numPages/this.ia.Ub),this.ia.qd=this.ia.Qd,this.ia.mg=this.ia.Qd+1):a===c.Rx?(this.ia.Ub=2,this.ia.Qd=-1,this.ia.Gh=Math.ceil(this.u.v.numPages/this.ia.Ub),this.ia.qd=0,this.ia.mg=this.ia.Gh):a===c.Ss?(this.ia.Ub=2,this.ia.Qd=-1,this.ia.Gh=Math.ceil((this.u.v.numPages+
1)/this.ia.Ub),this.ia.qd=0,this.ia.mg=this.ia.Gh):a===c.Ts&&(this.ia.Ub=2,this.ia.Qd=Math.floor(this.u.cc/this.ia.Ub),this.ia.Gh=Math.ceil(this.u.v.numPages/this.ia.Ub),this.ia.qd=this.ia.Qd,this.ia.mg=this.ia.Qd+1))},Cv:function(a,c){return this.ia.getSelectedPages(a,c)},Xd:function(a,c){return this.ia.getVisiblePages(a,c)},Bo:function(a,c,b){return this.ia.Bo(a,c,b)},aB:function(a,c){return this.ia.getVisibleRegionRect(a,c)},hf:function(a,c){return this.ia.pageToWindow(a,c)},Ok:function(a,c){return this.ia.windowToPage(a,
c)},xo:function(a){return this.ia.getPageTransform(a)},KA:function(a){return this.ia.getPageOffset(a)},ao:function(){return this.ia.ao()},Ig:function(a){return this.ia.Ig(a)},ms:function(a){return this.ia.ms(a)},iv:function(a){return this.ia.iv(a)},Uf:function(){return this.ia.Uf()}};b.o.de=c})(window);
(function(b){function f(){}var e=window.o,c=XODText;f.prototype=Object.create(Error.prototype);e.aa=function(){var a=this;this.select=_.bind(this.select,this);this.gb=c.gb;this.v=null;this.defaults={FitMode:this.Tg.Sx,DisplayMode:new b.o.Ed(this,b.o.de.Gp),Zoom:1};this.da=new b.o.ga(this);this.ea=new b.o.Kp(this);this.Ai={};this.IM=3;this.VK();this.jH=this.lP=this.$q=!1;this.cursor="default";this.Jo=null;this.dj=[];this.AB=!1;this.UJ=function(a,c,b){b(a)};b.o.by(5);this.ED=function(c){this.trigger("mouseLeftUp",
c);a.xa&&a.xa.mouseLeftUp&&a.xa.mouseLeftUp(c);for(var b in a.links)if(a.links.hasOwnProperty(b)){c=a.links[parseInt(b,10)];for(var e=0;e<c.length;++e)c[e].style&&(c[e].style.border="")}};this.DD=function(c){this.trigger("mouseLeftDown",c);a.xa&&a.xa.mouseLeftDown&&(a.xa.mouseLeftDown(c),a.xa.isSelecting&&a.xa.isSelecting()||!(a.xa instanceof Tools.Tk)?a.Km("none"):a.Km("auto"))};this.jN=function(a){this.trigger("click",a)};this.tN=function(c){this.trigger("tap",c);a.xa&&a.xa.tap&&a.xa.tap(c)};this.lN=
function(c){this.trigger("dblClick",c);a.xa&&a.xa.mouseDoubleClick&&a.xa.mouseDoubleClick(c)};this.mN=function(c){this.trigger("keyDown",c);a.xa&&a.xa.keyDown&&a.xa.keyDown(c)};this.nN=function(c){this.trigger("keyUp",c);a.xa&&a.xa.qJ&&a.xa.qJ(c)};this.kN=function(c){a.xa&&a.xa.contextMenu&&a.xa.contextMenu(c)};this.oN=function(c){this.trigger("mouseEnter",c);a.xa&&a.xa.bV&&a.xa.bV(c)};this.FD=function(c){this.trigger("mouseMove",c);a.xa&&a.xa.mouseMove&&a.xa.mouseMove(c)};this.pN=function(c){this.trigger("mouseLeave",
c);a.xa&&a.xa.mouseLeave&&a.xa.mouseLeave(c)};this.qN=function(c){this.trigger("mouseRightDown",c);a.xa&&a.xa.Tr&&a.xa.Tr(c)};this.rN=function(c){this.trigger("mouseRightUp",c);a.xa&&a.xa.cV&&a.xa.cV(c)};this.sN=function(c){a.xa&&a.xa.cC&&a.xa.cC(c)};this.RL={AnnotationCreateArrow:new b.ba.Dx(this,"AnnotationCreateArrow"),AnnotationCreateCallout:new b.ba.CalloutCreateTool(this,"AnnotationCreateCallout"),AnnotationCreateEllipse:new b.ba.Mx(this,"AnnotationCreateEllipse"),AnnotationCreateFreeHand:new b.ba.FreeHandCreateTool(this,
"AnnotationCreateFreeHand"),AnnotationCreateFreeText:new b.ba.an(this,"AnnotationCreateFreeText"),AnnotationCreateLine:new b.ba.Wg(this,"AnnotationCreateLine"),AnnotationCreatePolygon:new b.ba.Zg(this,"AnnotationCreatePolygon"),AnnotationCreatePolygonCloud:new b.ba.Vp(this,"AnnotationCreatePolygonCloud"),AnnotationCreatePolyline:new b.ba.$g(this,"AnnotationCreatePolyline"),AnnotationCreateRectangle:new b.ba.Yx(this,"AnnotationCreateRectangle"),AnnotationCreateDistanceMeasurement:new b.ba.Vs(this,
"AnnotationCreateDistanceMeasurement"),AnnotationCreatePerimeterMeasurement:new b.ba.Xx(this,"AnnotationCreatePerimeterMeasurement"),AnnotationCreateAreaMeasurement:new b.ba.Cx(this,"AnnotationCreateAreaMeasurement"),AnnotationCreateSignature:new b.ba.SignatureCreateTool(this,"AnnotationCreateSignature"),AnnotationCreateStamp:new b.ba.Xp(this,"AnnotationCreateStamp"),AnnotationCreateSticky:new b.ba.ot(this,"AnnotationCreateSticky"),AnnotationCreateTextHighlight:new b.ba.fy(this,"AnnotationCreateTextHighlight"),
AnnotationCreateTextSquiggly:new b.ba.gy(this,"AnnotationCreateTextSquiggly"),AnnotationCreateTextStrikeout:new b.ba.hy(this,"AnnotationCreateTextStrikeout"),AnnotationCreateTextUnderline:new b.ba.iy(this,"AnnotationCreateTextUnderline"),AnnotationCreateRedaction:new b.ba.Wp(this,"AnnotationCreateRedaction"),AnnotationEdit:new b.ba.Tk(this,"AnnotationEdit"),Pan:new b.ba.Tp(this,"Pan"),TextSelect:new b.ba.ln(this,"TextSelect"),MarqueeZoomTool:new b.ba.nf(this,"MarqueeZoomTool"),AnnotationEraserTool:new b.ba.Ox(this,
"AnnotationEraserTool")}};e.aa.prototype={DP:function(){function a(a){h=!0;var e=c.v.Sb()[a-1];if(e){var g,f,m=c.Da().Ec();if(k&&k!==e){for(g=0;g<m;++g)f=m[g],f.rk()&&f.pageNumber===n&&m[g].Pe("PC",new b.Annotations.O.vb.Events.Sp("Close",c,{}));k.Pe("C",new b.Annotations.O.vb.Events.Sp.create("Close",c,{}))}k=e;n=a;e.Pe("O",new b.Annotations.O.vb.Events.Sp.create("Open",c,{}));for(g=0;g<m;++g)f=m[g],f.rk()&&f.pageNumber===a&&m[g].Pe("PO",new b.Annotations.O.vb.Events.Sp("Close",c,{}))}}var c=this;
c.Vc().on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});c.Vc().on("touchstart",function(a){c.DD(a)});c.Vc().on("touchmove",function(a){c.Ib={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.FD(a)});c.Vc().on("touchend",function(a){c.ED(a);c.Dy=!1});c.Vc().on("pointerdown",function(a){c.sN(a)});c.Vc().dblclick(function(a){c.lN(a)});c.Vc().click(function(a){c.jN(a)});c.Vc().on("tap",function(a){c.tN(a)});$(window).on("keydown",function(a){c.mN(a)});
$(window).on("keyup",function(a){c.nN(a)});c.Vc().on("contextmenu",function(a){c.kN(a)});c.Vc().mouseenter(function(a){c.oN(a)});var e=c.Vc(),f=c.yb();0<f.length&&(e=f);e.mousedown(function(a){if(0<f.length){var b=f[0].clientHeight;if(a.clientX>f[0].offsetLeft+f[0].clientWidth||a.clientY>f[0].offsetTop+b)return}1===a.which?(c.DD(a),c.Dy=!0):3===a.which&&(c.qN(a),c.VE=!0)});$(document).on("mouseup",function(a){1===a.which&&c.Dy?(c.ED(a),c.Dy=!1):3===a.which&&c.VE&&(c.rN(a),c.VE=!1)});$(document).mousemove(function(a){c.Ib=
{x:a.pageX,y:a.pageY};c.FD(a)});c.Vc().mouseleave(function(a){c.pN(a)});if(c.ea.gc().cp)c.yb().on("scroll",_.bind(c.onscroll,c));$(b).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Fa.pause()});c.on("RESUME",function(){c.Fa.resume()});var h=!1,k=null,n;c.on("documentReady",function(){c.v.Pe("Init",new b.Annotations.O.vb.Events.tD.create("Open",c,{}));c.v.Pe("Open",new b.Annotations.O.vb.Events.tD.create("Open",c,{}));h||a(1)});c.on("pageNumberUpdated",function(b,e){a(e);c.v.Fk({currentPage:e})});
c.on("visiblePagesChanged",function(a,b){if(c.AB){c.Qq();var e=[];b.forEach(function(a){c.Ag[a]&&e.push(a)});c.Ag.fill(!1);e.forEach(function(a){c.Ag[a]=!0});var g=c.da.Ec().filter(function(a){return-1===b.indexOf(a.sb()-1)});c.da.Tq(g,!0,!0)}c.v.Fk({visiblePages:b});var f=_.intersection(b,c.Aq);f.length&&(clearTimeout(c.qP),c.qP=setTimeout(function(){c.gj.cj("DocumentViewer.renderRequest",{type:"annotations",pages:f})},80))});c.on("endOfDocumentResult",function(a,b){c.om=!1;c.Ds();b?(c.loop=!0,c.XC(c.DG,
c.tQ,!1)):c.loop=!1})},resize:function(a){a&&a.target!==window||!this.v||!this.ea.gc().cp||(this.Df===this.Tg.Zoom?(this.az(),this.ea.gc().Uf(),this.onscroll()):(a=this.Df(),a!==this.N.sg?(this.uq(a),this.mz()):(this.ea.gc().Uf(),this.mz(),this.onscroll())))},mz:function(){var a=this.yb(),c=(a[0].scrollWidth-a.width()+this.Bv())/2;a.scrollLeft(c)},xW:function(){this.resize()},qG:function(){var a=this;return this.Vu=this.Vu.then(function(){if(a.v)return a.trigger("documentUnloaded"),a.Jh(!0),Promise.resolve(a.fd()).then(function(){a.VK()});
a.rm&&a.rm.Mb();return Promise.resolve()})},VK:function(){this.v=null;this.Vu=Promise.resolve();this.Fa=new b.o.yN(this);this.ea.XK(this.defaults.DisplayMode);this.Df=this.defaults.FitMode;this.HK=!1;this.rJ=[];this.cc=0;this.links={};this.Af=[];this.Sa||(this.Sa=Promise.resolve(null));this.N=new e.jy(null);this.Ib=this.Zd=null;this.margin=4;this.LK=this.MK=0;this.Es=new c.ze;this.pd=this.IJ=this.pw=null;this.DJ=this.IB=this.om=this.eB=this.loop=!1;this.EJ=this.FJ=null;this.Er=!1;this.OL="rgba(0, 0, 200, 0.3)";
this.tC="rgba(255, 255, 0, 0.5)";this.Xy="rgba(248, 153, 57, 0.5)";var a=this,d=Object.keys(this.Ai);0<d.length&&d.forEach(function(c){a.Ai[c].then(function(a){a.destroy()})});this.Ai={};this.iA=[];this.gj=new b.o.jn.Up;this.gj.rK("DocumentViewer.renderRequest",{read:function(c){c.hz&&a.ea.Uf();a.zY();c=a.ea.Xd();a.Fa.vp(c);return{Dd:c,wW:a.QV()}},consolidateChanges:function(a){var c=a.filter(function(a){return"pages"===a.type}),b=a.filter(function(a){return"annotations"===a.type}),d=a.filter(function(a){return"layout"===
a.type});a=a.filter(function(a){return"retainScroll"===a.type});var e=[];c.length&&e.push({type:"pages",pages:_.union.apply(null,c.map(function(a){return a.pages||[]})),useVisiblePages:c.some(function(a){return!!a.useVisiblePages}),check:c.every(function(a){return!!a.check})});b.length&&e.push({type:"annotations",pages:_.union.apply(null,b.map(function(a){return a.pages||[]}))});d.length&&e.push({type:"layout",pages:_.union.apply(null,d.map(function(a){return a.pages||[]}))});return e=e.concat(a)},
write:function(c,b){var d={hz:!1};b.forEach(function(b){var e;"pages"===b.type?(e=b.useVisiblePages?_.union(c.Dd,b.pages):_.intersection(c.Dd,b.pages),0<e.length&&(b.check?a.Fa.QP():a.Lk(e))):"annotations"===b.type?(e=_.intersection(c.Dd,b.pages),a.Aq=_.difference(a.Aq,e),a.Fa.vK(),e.forEach(function(c){a.gk(c)})):"layout"===b.type?(d.hz=!0,e=a.ea.Ig().concat(b.pages),b.pages.forEach(function(c){a.N.GC(c,void 0)}),e.length&&(e.forEach(function(c){a.Fa.Pv(a.N.Hf(c))}),a.gj.cj("DocumentViewer.renderRequest",
{type:"pages",pages:e})),a.Fa.eD(a.bf())):"retainScroll"===b.type&&a.VY(c.wW)});return d},clearCacheIfFull:function(){var c=null;try{c=a.jk(a.$l()-1).getContext("2d")}catch(b){console.log("Cache is full")}c||(console.log("Clearing Cache"),a.Jh(!1,!1,!1))}},{hz:!0},!1);this.Aw=[];this.Aq=[];this.Au=null;this.UF=Promise.resolve()},QV:function(){var a=this.$l()-1,c=this.yb(),b=c.scrollLeft()||0,c=c.scrollTop()||0,e=document.getElementById("pageContainer"+a);e&&(b-=e.offsetLeft+e.parentNode.offsetLeft,
c-=e.offsetTop+e.parentNode.offsetTop);return{Jb:a,x:b,y:c}},VY:function(a){var c=document.getElementById("pageContainer"+a.Jb),b=a.x;a=a.y;c&&(b+=c.offsetLeft+c.parentNode.offsetLeft,a+=c.offsetTop+c.parentNode.offsetTop);this.scrollTo(b,a)},LM:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");
});"docId"in c||(c.docId=null);"workerTransportPromise"in c||("pdf"===c.type?c.workerTransportPromise=e.Mv(c.pdfBackendType,c.workerHandlers,c.l):"office"===c.type&&(c.workerTransportPromise=e.UI(c.officeBackendType,c.workerHandlers,c.l)));return c},mK:function(a){this.gj.cj("DocumentViewer.renderRequest",{type:"layout",pages:a});this.gj.cj("DocumentViewer.renderRequest",{type:"retainScroll"})},oI:function(){return this.gj},oH:function(){if(this.AB){for(var a=this.ea.Xd(),c=0;c<a.length;++c){var b=
a[c];if(!this.Ag[b])return b}return null}b=this.cc;a=this.Ag;for(c=b;!_.isUndefined(a[b])||!_.isUndefined(a[c]);){if(!1===a[b])return b;if(!1===a[c])return c;--c;++b}return null},qH:function(a){var c=this;a=a.pages;c.JI||-1===a.indexOf(1)||(c.trigger("documentReady"),c.JI=!0);var b=c.Fa.WS();a.forEach(function(a){--a;c.Ag[a]=!0;0<=b.indexOf(a)&&c.gk(a)});var e=c.oH();null===e&&c.trigger("annotationsLoaded");c.Ir=!1;c.Aq=c.Aq.concat(a.map(function(a){return a-1}));c.Qq(e)},Qq:function(a){this.Ir||
(a=_.isUndefined(a)?this.oH():a,null!==a?this.FU([a],this.v):this.Ir=!1)},FU:function(a,c){var b=this;b.Ir=!0;this.Aw=this.Aw.concat(a);this.Au||(this.Au=setTimeout(function(){if(b.rm===c){var e=b.Aw;b.Aw=[];b.Au=null;b.j_=b.UF.then(function(){if(b.rm===c){var a=e.map(function(a){return a+1});b.da.sK(a);for(var f=e.length,n=0;n<f;++n)b.da.HU(e[n]);return b.getDocument().Yz(a)}}).then(function(e){return new Promise(function(f){b.rm===c&&e?e.hasOwnProperty("xfdfString")?b.UJ(e.xfdfString,a,function(a){b.rm!==
c||_.isUndefined(a)?f():b.da.SI(a,function(){b.qH(e);f()},b.IR(e.xfdfString===a&&!e.external))}):e.hasOwnProperty("annots")&&(b.da.jh(e.annots),b.qH(e),f()):(b.trigger("annotationsLoaded"),f())})})}},20))},Or:function(a,c){var g=this;c=g.LM(c);var m=new b.CoreControls.Document(c.docId,c.type);this.rm=m;m.Eg(g);g.Vu.then(function(){return g.Sa}).then(function(a){m.Lm(a)}).then(function(){return new Promise(function(b,e){g.JI=!1;g.VF=!1;m.Or(a,function(a){m!==g.rm?(m.Mb(),e(new f)):a?e(a):null!==g.v?
b(g.qG().then(function(){return m})):b(m)},{annotationManager:g.da,getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,extension:c.extension,defaultPageSize:c.defaultPageSize,pageSizes:c.pageSizes,forceClientSideInit:c.forceClientSideInit})})}).then(function(a){g.v=a;var f=a.numPages;g.M0=f;g.Ag=Array(f);g.Ir=!1;f=a.op();g.Ag.fill(f?!1:!0);f&&g.Qq(0);g.N=new e.jy(a);g.defaults.FitMode===g.Tg.Zoom&&g.N.lj(g.defaults.Zoom);g.v.on("bookmarksUpdated",function(){g.trigger("bookmarksUpdated")});
g.v.on("officeAnnotationsUpdated",function(a,c){g.da.jh(c);g.da.wi(c)});g.N.on("layoutChanged",g.CU.bind(g));g.N.on("zoomChanged",function(a,c){g.hD=g.Fa.Kg;g.Fa.eD(c)});g.da.XV(g.N);g.trigger("beforeDocumentLoaded");c.type&&"pdf"===c.type&&b.o.BG!==b.o.Ym.rt||g.Fa.EX(!0);g.Fa.init();g.ea.wF(g.ea.gc());g.jH||(g.jH=!0,g.DP());g.ea.gc().mode!==b.o.de.Rg&&(g.N.lj(g.ou(g.Df)),g.Jh(),g.ea.Ig(),g.ea.Uf(),g.Lk(),a=g.yb(),f=(a[0].scrollWidth+g.Bv()-a.innerWidth())/2,a.scrollLeft(f));g.pP=new Promise(function(a){g.off("annotationsLoaded.internal").on("annotationsLoaded.internal",
function(){g.VF=!0;a()})});g.trigger("documentLoaded");1.2>=g.v.v.Xf&&g.trigger("documentReady")})["catch"](function(a){if(!(a instanceof f))c.onError(a)})},JR:function(){return this.pP},Km:function(a){this.ea.gc().mode!==b.o.de.Rg&&this.yb().css("touch-action",a)},yb:function(){return $(this.Av())},Av:function(){this.NK||this.mL(document.getElementById("DocumentViewer"));return this.NK},mL:function(a){this.NK=a},Vc:function(){return $(this.yI())},yI:function(){this.fM||this.qL(document.getElementById("viewer"));
return this.fM},qL:function(a){this.fM=a},Bv:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var b=$("div",a).innerWidth();$(a).remove();return c-b},fd:function(){var a=this;if(this.v){var c=this.v;clearTimeout(this.Au);return this.da.fd().then(function(){return Promise.all([a.UF,a.gj?a.gj.fd():null,a.Fa?a.Fa.fd():
null,a.N?a.N.fd():null])}).then(function(){a.off("documentReady.annotsLoaded");c.off();return c.Mb()})}return Promise.resolve()},kd:function(a){var c=this.v.vr(a);return 90===c||270===c?this.v.ld(a):this.v.kd(a)},ld:function(a){var c=this.v.vr(a);return 90===c||270===c?this.v.kd(a):this.v.ld(a)},jc:function(a){return this.v.jc(a)},Da:function(){return this.da},GW:function(a){this.nP=a},IR:function(a){return $.extend({XI:a},this.nP)},bX:function(a){this.AB=a},WW:function(){},uX:function(a){this.UJ=
a},tX:function(a){this.SJ=a},iG:function(){if(this.SJ){for(var a=this.rJ,c=this.ea.Xd(0,0),a=_.difference(c,a),b=0;b<a.length;++b)this.SJ(a[b]+1);this.rJ=c}},dm:function(){return this.ea},YX:function(a,c,b){if(!e.Pi())return console.warn("snapToNearest requires the full API to be enabled. Please set the fullAPI option to true in your WebViewer constructor."),Promise.resolve();var f=this.getDocument(),h=f.fm(a-1,c,b);return this.eS(a).then(function(a){return a.snapToNearest(h.x,h.y)}).then(function(c){return f.Jv(a-
1,c.x,c.y)})},eS:function(a){if(this.Ai[a])return this.Ai[a];var c=this,b;this.Ai[a]=window.PDFNet.initialize().then(function(){return c.getDocument().qg().then(function(c){b=c;return b.requirePage(a)}).then(function(){return b.getGeometryCollectionForPage(a)}).then(function(a){return a})});c.jP(a);return this.Ai[a]},jP:function(a){this.iA.push(a);this.iA.length>this.IM&&(a=this.iA.shift(),this.Ai[a].then(function(a){a.destroy()}),delete this.Ai[a])},ex:function(a,c){b.o.pa.ex(a,c)},ue:function(a){"undefined"!==
typeof a.enableAnnotations&&(this.$q=!!a.enableAnnotations);"undefined"!==typeof a.annotMode&&(this.lP=!!a.annotMode)},bf:function(){return this.N.sg},vv:function(){return this.margin},tI:function(){return this.margin*this.bf()},dX:function(a){this.margin=a},Dv:function(a){return a?this.N.HS(a-1):this.N.Dv()},UA:function(a){return a?this.N.IS(a-1):this.N.UA()},IX:function(a){this.OL=a},DX:function(a){this.tC=a.searchResult||this.tC;this.Xy=a.activeSearchResult||this.Xy},Fv:function(){return this.xa},
jT:function(){return this.RL},Ev:function(a){return this.RL[a]},Vd:function(a){return _.isUndefined(a)?this.N.Lv:this.N.Wd(a-1).rotation},hd:function(a){var c=this.Vd(a);if(_.isUndefined(a))return c;a=this.em(a)/90;return(c+a)%4},CX:function(a,c){var b;0<=a&&3>=a&&(_.isUndefined(c)?(this.N.EC(a),this.N.VP()):(b=c-1,this.N.vs(b,a)),this.rotate(b))},em:function(a){--a;return 0>a||_.isNaN(a)?0:this.v.vr?this.v.vr(a):0},pX:function(a){var c=this;Object.keys(a).forEach(function(b){c.N.vs(b,a[b])});this.uq(this.Df(),
void 0,void 0,!0)},GS:function(){return this.N.jS()},getDocument:function(){return this.v},zr:function(a){var c=null;this.Fa.Kg&&(c=this.ea,c=c.Bo(a,c.aB(this.Fa.he,this.Fa.he)));return c},pT:function(a){var c=null;if(a=this.zr(a))c=a.od;return c},mp:function(a,c){var e=this.v.ic(a),f=this.tb(a),h=this.ea.xo(a),k,n=this.zr(a);n&&(k=n.od,h=n.ox);return b.o.pa.mp(c,{width:e.width,height:e.height},f,this.Vd(a+1),h,k,this.em(a+1)/90)},jk:function(a){var c=this.v.ic(a),e=this.tb(a),f=this.ea.xo(a),h,k=
this.zr(a);k&&(h=k.od,f=k.ox);return b.o.pa.jk(a,{width:c.width,height:c.height},e,this.Vd(a+1),f,h,this.em(a+1)/90)},bS:function(){return this.Df},SA:function(){return this.HK},BX:function(a){this.HK=a},NQ:function(a){if(a.url)(new Actions.Ej({uri:a.url})).onTriggered(a,null,this);else a.isValid()?this.bo(a.Of,a.Go,a.wp):console.warn("Tried to go to invalid bookmark destination")},bo:function(a,c,b,e){if(this.ea.gc().cp){this.$l()!==a&&this.Ne(a);var f=this.ld(a-1),k=this.kd(a-1);a=this.ea.hf({x:c>
f?0:0>c?0:c,y:b>k?0:0>b?0:b},a-1);c=this.yb();b=c.offset();if(e&&(e=a.x-b.left-(c.scrollLeft()||0),f=a.y-b.top-(c.scrollTop()||0),0<e&&e<c.outerWidth()&&0<f&&f<c.outerHeight()))return;this.scrollTo(a.x-b.left,a.y-b.top)}else this.trigger("displayPageLocation",[a,b,c,e])},scrollTo:function(a,c){this.yb().scrollLeft(a).scrollTop(c)},fY:function(a,c,b){if(a!==this.pw||c!==this.IJ)this.FJ=a,this.EJ=c,this.IB=!0,this.DJ=b},kY:function(a){var c=!1;if(null===this.pw||this.pw!==a)c=!0;if(null===this.loop||
!0===this.loop)c=!0;this.pw=a;this.pd!==this.cc&&(this.pd=this.cc,c=!0);return c},XC:function(a,b,e,f){e=e||!1;this.sC=!1;var h=this,k=!0;this.DG!==a&&(this.DG=a,this.eB=!1);this.tQ=b;for(var n=0;n<a.length;++n){var l=a.charCodeAt(n);if(!(1424<=l&&1535>=l||1536<=l&&1791>=l||1872<=l&&1919>=l||64336<=l&&65023>=l||65136<=l&&65279>=l)){k=!1;break}}k&&(a=a.split("").reverse().join(""));h.h1=h.cc;if(!0===this.om)this.fY(a,b,e);else{e?(k=function(){},h.N.sz(),h.Er=!1):(h.Er=!0,k=function(a){a.Tw===c.nc.Yq?
(h.Nz(a),h.eB=!0):a.Tw===c.nc.Sl&&(h.eB?h.trigger("notify","endOfDocumentSearch"):h.trigger("notify","noMatchesFound"))});f=f||k;if(e||this.kY(a))e?(k=this.pd=0,n=this.v.numPages-1):0<(b&c.gb.Uz)?(n=!0===this.loop?this.v.numPages-1:this.pd,k=0):(k=!0===this.loop?0:this.pd,n=this.v.numPages-1),this.Es.CP(this.v,a,b,k,n);this.Es.setMode(b);this.IJ=b;this.mY(e,f)}},cK:function(a){null===this.v.MA(a)&&this.v.Dh(a,function(){})},Ds:function(){this.trigger("searchInProgress",[this.om,!this.Er])},mY:function(a,
b){function e(){function g(){n=[];k=h.Es.run(n);l=k.Tw;k.W0=n;var e=k;e.ambient_str=k.QF;e.result_str=k.qC;e.result_str_start=k.GK;e.result_str_end=k.FK;e.page_num=k.XB;e.resultCode=l;e.quads=n;if(h.sC)h.sC=!1,h.om=!1,h.Ds();else if(!0===h.IB)h.IB=!1,h.om=!1,h.Ds(),setTimeout(function(){h.XC(h.FJ,h.EJ,h.DJ,b)},0);else{if(l===c.nc.Yu){var r,v;if(h.Es.Bh()){if(0<h.pd)for(h.pd--,v=0;3>v;++v)r=h.pd-v,0<r&&h.cK(r)}else if(h.pd<h.v.numPages-1)for(h.pd++,v=0;3>v;++v)r=h.pd+v,r<h.v.numPages-1&&h.cK(r)}else l!==
c.nc.Yq||a||(h.N.uz(),h.N.fL(k.XB,k.qC));b(e);l===c.nc.Sl||!a&&l===c.nc.Yq?(h.om=!1,h.Ds()):null!==h.v.MA(h.pd)?setTimeout(g,0):h.v.Dh(h.pd,f)}}var l=-1;null!==h.v.MA(h.pd)?setTimeout(g,0):h.v.Dh(h.pd,f)}function f(a){l===h.v&&(h.v.rX(h.pd,a),e())}var h=this;this.om=!0;this.Ds();!0===this.loop&&(h.pd=this.Es.Bh()?this.v.numPages-1:0,this.loop=!1);var k,n=[],l=this.v;e()},oJ:function(a,c){a!==this.cc&&this.Ne(a+1);if(0<c.length){c=c.map(function(a){return a.zh?a.zh():a});for(var b=c[0].y4,e=c[0].x4,
f=c[0].y2,k=c[0].x2,n=1;n<c.length;n++)c[n].x4<e&&(e=c[n].x4),c[n].y4<b&&(b=c[n].y4),c[n].x2>k&&(k=c[n].x2),c[n].y2>f&&(f=c[n].y2);var n=this.yb(),l=n.offset(),q=l.top+(n.scrollTop()||0),p=q+n.innerHeight(),l=l.left+(n.scrollLeft()||0),u=l+n.innerWidth(),b=this.ea.hf({x:e,y:b},a),r=this.ea.hf({x:k,y:f},a),k=b.x<r.x?b.x:r.x,f=b.y<r.y?b.y:r.y,e=b.x>r.x?b.x:r.x,b=b.y>r.y?b.y:r.y;if(k<l||f<q||e>u||b>p)q=e-k,p=b-f,q=k-n.innerWidth()/2+q/2-n.offset().left,n=f-n.innerHeight()/2+p/2-n.offset().top,this.scrollTo(q,
n)}},pJ:function(a,c){var b=a.page_num;"undefined"!==typeof c?c(b,a.quads):this.oJ(b,a.quads)},Nz:function(a,c){var b=this;this.Er=!0;this.EF=a;this.tp(function(){var e=a.page_num;b.N.sz();b.N.qX(e,a);b.pJ(a,c)})},MQ:function(a){var c=this;this.tp(function(){c.N.CY(a.page_num,a)})},DW:function(a){this.Er?this.Nz(a):(this.EF=a,this.pJ(a),this.tp())},$P:function(){var a=this;this.tp(function(){a.N.sz()});this.sC=!0},PK:function(a,b,e){var f=new c.Na;f.Ba(b.x,b.y,b.x+1,b.y+1);var h=this,k=new c.Cj(this.v),
n=this.v;n.Dh(a,function(){n===h.v&&(k.uF(a,f),h.Jo=k.uF,h.dj=[[a,f]],e(a,k.me(),k.Ra))})},ep:function(a,b,e){if(b.constructor!==c.Na){var f=new c.Na;f.Ba(b.x1,b.y1,b.x2,b.y2);b=f}var h=this,k=new c.Cj(this.v),n=this.v;n.Dh(a,function(){if(n===h.v){"rectangular"===Tools.Zb.SELECTION_MODE?k.QK(a,b):k.OK(a,b);var c=k.Ra,f=k.me();e&&e(a,f,c)}})},Fw:function(a,c,b){this.N.fL(a,b);this.N.sX(a,c);this.trigger("textSelected",[c,b,a]);this.tp()},Rz:function(a){this.NI(a-1)},OI:function(a,c,b){for(var e=0;e<
c.length;e++){var f=c[e];f.zh&&(f=f.zh());a.fillStyle=b;a.beginPath();a.moveTo(f.x1,f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x3,f.y3);a.lineTo(f.x4,f.y4);a.closePath();a.fill()}},KT:function(a,c){var b=this.N.Wd(a).Gg;if(b&&0!==b.length){var e=c.getContext("2d");this.OI(e,b,this.OL);var f={me:function(){return b.map(function(a){return a.zh()})}},k=this.N.FS(),n=!1,l=!1;a===k[0]&&(n=!0);a===k[k.length-1]&&(l=!0);e.save();k=new Annotations.Dj(f,!0,!1,n,l);n=this.jc(a);k.draw(e,f,this.tb(a),n);e.restore()}},
JT:function(a,c){var b=this.N.Wd(a).kj;if(b&&0!==b.length){var e=c.getContext("2d"),f=this;b.forEach(function(a){f.OI(e,a.quads,a===f.EF?f.Xy:f.tC)})}},NI:function(a,c){c=c||this.jk(a);null!==c&&(this.KT(a,c),this.JT(a,c))},tp:function(a){var c=this.N.iI();a&&a();a=this.N.iI();c=_.uniq(c.concat(a));for(a=0;a<c.length;++a)this.da.Td(c[a]+1)},select:function(a,b){if(null!==this.Zd&&null!==this.Ib||a||b){this.N.uz();var e;a&&b?(a.Jb=a.pageIndex,a.x=a.x,a.y=a.y,b.Jb=b.pageIndex,b.x=b.x,b.y=b.y,e={first:a.Jb,
last:b.Jb}):(console.error("deprecated"),e=this.ea.Cv());var f=e.first;e=e.last;if(null!==f&&null!==e){var h=new c.Na,k=a||this.ea.Ok(this.Zd,f),n=b||this.ea.Ok(this.Ib,f),l;k.y>n.y&&(l=k,k=n,n=l);l=this.ld(f);var q=this.kd(f);1<=e-f?h.Ba(k.x,k.y,l,q):h.Ba(k.x,k.y,n.x,n.y);this.ep(f,h,_.bind(this.Fw,this));for(k=f+1;k<e;k++)h=new c.Na,l=this.ld(k),q=this.kd(k),h.Ba(0,0,l,q),this.ep(k,h,_.bind(this.Fw,this));f!==e&&(k=a||this.ea.Ok(this.Zd,e),n=b||this.ea.Ok(this.Ib,e),k.y>n.y&&(n=k),h=new c.Na,h.Ba(0,
0,n.x,n.y),this.ep(e,h,_.bind(this.Fw,this)))}}},aQ:function(a){if(0!==this.Dv().length||this.N.DS(a)){var c=this.jk(a);null!==c&&(b.o.pa.Mq(c,this.ld(a),this.kd(a)),this.$q&&this.da.Td(a+1))}},nG:function(){this.N.uz();this.N.mG()},Oq:function(){var a=this;this.tp(function(){a.nG();a.trigger("textSelected",[null,""]);a.Fv()instanceof Tools.ln&&a.Fv().Oq()})},RR:function(a,c,e){var f=[],h=a-1;a=this.N.Hf(h);if((a=this.Fa.Tc(a))&&a.te)for(c=this.TA({x:c,y:e},h),e=a.od?this.TA({x:a.od.x1,y:a.od.y1},
h):{x:0,y:0},h=b.utils.getCanvasMultiplier(),c.x*=h,c.y*=h,e.x*=h,e.y*=h,c=Math.round(c.y-e.y)*a.te.width+Math.round(c.x-e.x),a=a.te.data,e=0;e<a.length;++e)if(h=a[e],"Alpha"!==h.name){var k=new Uint8Array(h.data);c<k.length&&0<=c&&f.push({name:h.name,value:Math.round(k[c]/255*100)})}return f},TA:function(a,c){var e=this.tb(c),f=this.hd(c+1);a=b.Fd(e,f,{width:this.ld(c),height:this.kd(c)},null,!1).W(a);return{x:a.x,y:a.y}},ZS:function(a,c){var e=this.tb(c),f=this.Vd(c+1);a=b.Fd(e,f,this.v.ic(c),0,
!1).W(a);return{x:a.x,y:a.y}},Tg:{xD:function(){var a=this.Bv(),c=this.yb(),b;b=1===this.ea.gc().Ub?this.N.Wd(this.cc).width:this.ea.ao().Aa()/this.bf();return parseFloat(c.innerWidth()-a)/(b+1+this.vv()*this.ea.gc().Ub*2)},Sx:function(){var a=this.yb(),c=this.N.Wd(this.cc),b=parseFloat(a.innerHeight())/(c.height+2*this.vv()),c=1===this.ea.gc().Ub?c.width:this.ea.ao().Aa()/this.bf(),a=parseFloat(a.innerWidth()-this.Bv())/(c+1+this.vv()*this.ea.gc().Ub*2);return b<a?b:a},Zoom:function(){this.az();
return this.N.sg}},KC:function(a){if(a&&this.xa!==a){a instanceof Tools.Tk||a instanceof Tools.ln||a instanceof Tools.Tp||this.Oq();var c;this.xa&&(this.xa.switchOut&&this.xa.switchOut(a),c=this.xa);a.switchIn&&a.switchIn(this.xa);this.xa=a;this.trigger("toolModeUpdated",[a,c])}},GY:function(){var a=this.yb();this.MK=parseFloat(a.scrollTop())/a[0].scrollHeight;this.LK=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},FY:function(){var a=this.yb(),c=this.MK*a[0].scrollHeight,a=this.LK*
a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},DC:function(a){null===this.v?(this.Df=a,this.trigger("fitModeUpdated",this.Df)):(a=this.ou(a),this.ea.gc().mode===b.o.de.Rg?this.N.lj(a):a!==this.N.sg&&(this.uq(a),this.mz()))},ou:function(a){this.Df=a;a=this.Df();this.trigger("fitModeUpdated",this.Df);return a},rotate:function(a){var c;_.isUndefined(a)||(c=a+1);this.uq(this.Df(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.hd(c),c])},Ao:function(a,c){return c?(a+1)%4:(a-1+4)%4},nW:function(a){var c=
this,b;_.isUndefined(a)?(this.N.EC(this.Ao(this.Vd(),!0)),this.N.wH(function(a){a.rotation=c.Ao(a.rotation,!0)})):(b=a-1,this.N.vs(b,this.Ao(this.Vd(a),!0)));this.rotate(b)},oW:function(a){var c=this,b;_.isUndefined(a)?(this.N.EC(this.Ao(this.Vd(),!1)),this.N.wH(function(a){a.rotation=c.Ao(a.rotation,!1)})):(b=a-1,this.N.vs(b,this.Ao(this.Vd(a),!1)));this.rotate(b)},uq:function(a,c,b,e){this.N.lj(a);this.ea.gc().cp&&("undefined"!==typeof c&&"undefined"!==typeof b?(this.Jh(!1,e,!0),this.ea.Ig(),this.ea.Uf(),
this.scrollTo(c,b)):(this.GY(),this.Jh(!1,e,!0),this.ea.Ig(),this.ea.Uf(),this.FY()),this.Fa.pz(),this.Lk(),this.trigger("zoomUpdated",this.N.sg))},Ax:function(a,c,b){this.ou(this.Tg.Zoom);null===this.v?(this.N.lj(a),this.trigger("zoomUpdated",a)):this.uq(a,c,b)},rM:function(a,c,b){this.ou(this.Tg.Zoom);this.N.lj(a);a=this.yb();c=this.Ib.x-c;b=this.Ib.y-b;var e=(parseFloat(a.scrollTop())+b)/a[0].scrollHeight,f=(parseFloat(a.scrollLeft())+c)/a[0].scrollWidth;this.Jh(!1,!1,!0);this.ea.Ig();this.ea.Uf();
this.scrollTo(f*a[0].scrollWidth-c,e*a[0].scrollHeight-b);this.Lk();this.trigger("zoomUpdated",this.N.sg)},tb:function(a){return this.N.Wd(a).zoom},cx:function(a,c){var b=this.N.Hf(a);this.Fa.eZ(b);this.N.cx(a,c)},Jh:function(a,c,e){this.Fa.iQ(this.N.sg,c);this.links=[];if(this.ea.gc().mode!==b.o.de.Rg){var f=this.Fa.Dd;if(!c&&e)for(var h=0;h<f.length;h++){var k=f[h],n;n=this.hD?$("#pageContainer"+k).find("#hrthumb"+k):$("#pageContainer"+k).find(".canvas"+k+":not(.progressive)");0<n.length&&this.N.GC(k,
n)}e&&!c||this.N.YP()}this.ea.ms(!a)},YV:function(a){if(this.ea.gc().cp){var c=$("#pageContainer"+a),e=$(document.activeElement);0<e.closest("#pageWidgetContainer"+a).length&&e.trigger("focusout");this.ea.gc().Jr(a)||c.children("canvas").each(function(){window.o.pa.Wl(this)});c.children().detach();b.o.pa.oz(a)}a in this.links&&delete this.links[a]},nu:function(a){if(0>a||a>=this.N.J.length)return!1;this.cc!==a&&(this.cc=a,this.trigger("pageNumberUpdated",a+1));return!0},Ne:function(a){if(!this.ea.gc().cp)this.trigger("changePage",
a);else if(!1!==this.nu(parseInt(a,10)-1)){this.CG=!0;a=this.cc;var c=this.ea.gc();c.pB()||c.mode===b.o.de.Rg||(this.ea.gc().mode===b.o.de.Ts&&a++,c.Qd=Math.floor(parseFloat(a)/c.Ub),c.qd=c.Qd,c.mg=c.Qd+1,this.Jh(),this.ea.Ig(),this.ea.Uf());a=this.v.ic(this.cc);0<this.em(this.cc)/90%2&&(c=a.width,a.width=a.height,a.height=c);var c=this.ea.hf({x:0,y:0},this.cc),e=this.ea.hf({x:a.width,y:a.height},this.cc);a=c.x<e.x?c.x:e.x;c=c.y<e.y?c.y:e.y;e=this.yb().offset();this.scrollTo(a-e.left,c-this.tI()-
e.top);this.Lk()}},$l:function(){return this.cc+1},xb:function(){return this.v.numPages},PQ:function(){this.Ne(this.N.J.length)},OQ:function(){this.Ne(1)},az:function(a){a=a||this.ea.ao().ya();var c=0,b=document.getElementById("docpad");if(null!==b){var e=this.Av(),e=e?parseFloat(e.style.height):0;e>a&&(c=Math.floor((e-a)/2));b.style.marginBottom=parseInt(c,10)+"px"}},vP:function(a,c){var e=this.tb(c),f=this.N.Wd(c),h=this.Vd(c+1),k=Math.floor(f.width*e),e=Math.floor(f.height*e),f=null;h===b.o.Ga.je||
h===b.o.Ga.$e?(f="rotate("+90*h+"deg)",f=h===b.o.Ga.je?" translate("+k+"px, 0)  "+f:" translate(0,"+e+"px)  "+f,a.css("height",k),a.css("width",e)):(h===b.o.Ga.jo&&(f="translate("+k+"px,"+e+"px) scale(-1,-1)"),a.css("width",k),a.css("height",e));null!==f&&a.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,
"-o-transform-origin":"top left"})},WF:function(a,c,e,f){this.trigger("appendThumb",c);a.id=(f?"hrthumb":"thumb")+c;a.style.position="absolute";var h=$(a);this.vP(h,c);e&&(h.css("z-index",f?"10":"7"),e=$("#pageContainer"+c),0<e.length?0===e.find("#"+a.id).length&&e.prepend(a):b.utils.warn("appendThumb: Page container "+c+" missing"))},gk:function(a){this.Bu(a);this.aQ(a);this.nQ(a);this.BY(a);this.da.Td(a+1,void 0,!0);var c=b.o.pa;2===c.Bk&&c.lk(a)===c.lk(a+1)&&a+2<=this.xb()&&this.da.Td(a+2)},Dq:function(a,
c){this.hD||this.N.XP(c);var e=b.o.pa.Dq(a,c);e||b.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return e},Bu:function(a){var c,e=this.zr(a);e&&(c=e.od);var e=this.v.ic(a),f=this.em(a+1);if(90===f||270===f)f=e.width,e.width=e.height,e.height=f;b.o.pa.Bu(a,e,this.tb(a),this.hd(a+1),c)},$n:function(a){var c,e=this.zr(a);e&&(c=e.od);var e=this.v.ic(a),f=this.em(a+1);if(90===f||270===f)f=e.width,e.width=e.height,e.height=f;return b.o.pa.$n(a,e,this.tb(a),this.hd(a+1),c)},
Kw:function(a,c){var e=this.vo(a);b.o.pa.Kw(a,c,e)},Vw:function(a,c){b.o.pa.Vw(a,c)},nQ:function(a){var c=this.v.ic(a),e=c.width,c=c.height,f=this.v.vr(a);if(90===f||270===f)f=e,e=c,c=f;var f=this.tb(a),e=e*f,c=c*f,h=b.Fd(1,this.hd(a+1),{width:e,height:c},void 0,!1),f=$("#pageWidgetContainer"+a);0===f.length&&(f=$('<div id="pageWidgetContainer'+a+'" />'),b.o.pa.CI(a).append(f));h="matrix("+h.m_a.toFixed(10)+","+h.m_b.toFixed(10)+","+h.m_c.toFixed(10)+","+h.m_d.toFixed(10)+","+h.m_h.toFixed(10)+","+
h.m_v.toFixed(10)+")";a=this.ea.KA(a);f.css({position:"absolute",top:a.y,left:a.x,width:e,height:c,"z-index":40,transform:h,"transform-origin":"top left","-webkit-transform":h,"-webkit-transform-origin":"top left","-ms-transform":h,"-ms-transform-origin":"top left","-moz-transform":h,"-moz-transform-origin":"top left",overflow:"hidden"});return f},vo:function(a){return this.N.Wd(a)},VV:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.xb()+1),removed:[],added:[],moved:{}});this.Fa.pz()},
pK:function(a){this.trigger("layoutChanged",{contentChanged:[a],removed:[],added:[],moved:{}});this.Fa.Pv(this.vo(a-1).id)},BY:function(a){a=this.v.BS(a);_.isArray(a)&&this.da.jh(a,!0)},Lk:function(a,c){_.isUndefined(c)||this.nu(c);this.vp(a);this.Fa.KG(a);this.iG()},vp:function(a){a=a||this.ea.Xd();var c=this.Fa.xP(a);this.Fa.vp(a);c&&this.trigger("visiblePagesChanged",[a])},pp:function(a){this.Fa.pp(a)},onscroll:function(){this.v&&this.gj.cj("DocumentViewer.renderRequest",{type:"pages",useVisiblePages:!0,
check:!0});this.iG()},DT:function(a){return 0<$("#pageContainer"+a).find("#thumb"+a).length},zT:function(a){return 0<$("#pageContainer"+a).find("#hrthumb"+a).length},zY:function(){if(this.CG)this.CG=!1;else{var a=0,c;this.vp();for(var e=this.Fa.Dd,f=0;f<e.length;f++){var h=this.yb(),k=h.scrollTop()||0,n=k+h.innerHeight(),l=h.scrollLeft()||0,h=l+h.innerWidth(),n={x1:l,y1:k,x2:h,y2:n},h=e[f];0>h||(k=this.v.ic(h),l=this.ea.hf({x:0,y:0},h),h=this.ea.hf({x:k.width,y:k.height},h),n=b.utils.getRectIntersection(n,
{x1:l.x<h.x?l.x:h.x,y1:l.y<h.y?l.y:h.y,x2:l.x>h.x?l.x:h.x,y2:l.y>h.y?l.y:h.y}),k=parseFloat((n.x2-n.x1)*(n.y2-n.y1))/(k.width*k.height),k>a&&(c=e[f],a=k))}0<a&&this.nu(c)}},MC:function(a){this.Fa.MC(a)},kL:function(){},CU:function(a,c){var b=this;b.mK(c.contentChanged.map(function(a){return a-1}));var e=!1,f=c.added;0<f.length&&(f.forEach(function(a){b.Ag.splice(a-1,0,!1)}),e=!0);f=c.removed;0<f.length&&(f.reverse().forEach(function(a){b.Ag.splice(a-1,1)}),b.Fa.WL(b.v.wo()),e=!0,b.cc>=b.xb()&&b.nu(b.xb()-
1));if(e){b.Fa.ZP();var k=b.yb(),f=k.offset(),k=b.ea.Ok({x:(k.scrollLeft()||0)+f.left,y:(k.scrollTop()||0)+f.top},b.cc);b.ea.KD();b.ea.Ig();b.ea.Uf();k=b.ea.hf(k,b.cc);b.scrollTo(k.x-f.left,k.y-f.top);b.Lk()}f=c.contentChanged;(k=0<f.length)&&f.forEach(function(a){!0===b.Ag[a-1]&&(b.Ag[a-1]=!1)});(e||k)&&b.Qq();b.trigger("layoutChanged",[c])},Lm:function(a){this.Sa=Promise.resolve(a);if(this.v){var c=this;this.Sa.then(function(a){c.v.Lm(a)})}},zI:function(){return this.Sa}};$.extend(e.aa.prototype,
b.utils.eventHandler);Object.defineProperty(e.aa.prototype,"zoom",{get:function(){return this.bf()},set:function(a){this.N.lj(a)}});b.o=b.o||{}})(window);window.o.aa.prototype.version="5.2.8.73021";
(function(b){var f=b.Annotations||{};b.Annotations=f;f.O=f.O||{};f.O.getUsableInputWidth=function(b){return b};f.O.Sg=function(b){this.da=b;this.init()};f.O.Sg.prototype={init:function(){this.ib={};this.iz=[];this.Cy=!1;this.np=this.JE=!0;this.cz=null},UK:function(b){this.iz=b},Hb:function(b){if(!b)return null;b=b.split(".");var c=this.ib[b[0]];if(c)for(var a=1;a<b.length&&(c=c.pA(b[a]),c);++a);return c?c:null},vu:function(b,c){if(c){var a=this.sr(b.name);a.set(b);b=a;b.widgets.forEach(function(a){a.ZK(b)});
b.off("change")}else a=b.name.split("."),1===a.length?this.ib[b.name]=b:this.sr(a.slice(0,-1).join(".")).IF(new f.O.ha(b.name,b));b.set({fieldManager:this});this.da&&b.Eg(this.da.u);b.on("change",_.bind(this.$z,this));return b},Hq:function(b,c){if(!this.Cy&&this.np){this.Cy=!0;var a=this.iz;if(!c||this.JE)c=0,this.JE=!1;for(var d=c;d<a.length;++d){var f=a[d],m=this.Hb(f);m?m.trigger("calculate",[b]):console.warn("Non-existent field referenced in calculation order",f,m)}this.Cy=!1}},$z:function(b,
c){this.Hq(c,0);this.da.trigger("fieldChanged",[c,c.value])},sr:function(e){if(!e)return null;e=e.split(".");var c=this.ib[e[0]];c||(c=new b.Annotations.O.ha(e[0],{fieldManager:this}),c.on("change",_.bind(this.$z,this)),this.ib[e[0]]=c);for(var a=1;a<e.length;++a){var d=e[a],f=c.pA(d);f?c=f:(f=new b.Annotations.O.ha(c.name+"."+d,{fieldManager:this}),c.IF(f),c=f,c.on("change",_.bind(this.$z,this)))}this.da&&c.Eg(this.da.u);return c},Is:function(b){this.oo(function(c){c.gD(b)})},oo:function(b){var c=
this;Object.keys(this.ib).forEach(function(a){b(c.ib[a])})},fd:function(){this.oo(function(b){b.off()});this.init()},alert:function(b){this.cz?this.cz(b):window.alert(b)},FW:function(b){this.cz=b}}})(window);
(function(b){b.Annotations||(b.Annotations={});var f=b.Annotations;f.O=f.O||{};f.O.ha=function(e,c){if(c instanceof f.O.ha)return c;b.Actions.Vh.call(this,c);this.Ac=e;this.tf=[];this.Tj=[];this.wl=!1;this.qh=null;this.wn=new f.Ug;this.oc=new f.Fj({mask:["ReadOnly","Required","NoExport"]});this.xf=-1;this.pc||(this.pc=new f.O.ha.Yb(this,c));this.initialize(c);this.on("calculate",_.bind(this.Hq,this));this.on("commit",_.bind(this.wz,this))};f.O.ha.prototype={initialize:function(b){_.isObject(b)&&(b.type&&
this.nL(b.type),_.isArray(b.children)&&$.extend(this.tf,b.children),b.widgets&&$.extend(this.Tj,b.widgets),b.fieldManager&&(this.qh=b.fieldManager),b.font&&this.wn.set(b.font),_.isUndefined(b.maxLen)||(this.xf=Number(b.maxLen)),b.tooltipName&&(this.AF=b.tooltipName),this.pc.set(b))},set:function(b){this.initialize(b);_.isObject(b)&&_.isObject(b.actions)&&this.tu(b.actions,!0)},xH:function(b){this.Tj.forEach(b)},nL:function(b){"Tx"===b?this.pc=new f.O.ha.ey(this,this.pc):"Ch"===b?this.pc=new f.O.ha.Gx(this,
this.pc):"Btn"===b?this.pc=new f.O.ha.Ex(this,this.pc):"Sig"===b?this.pc=new f.O.ha.cy(this,this.pc):console.warn("Unrecognised field type: "+b);this.qu=b},Tf:function(b){this.Tj.forEach(function(c){c.Tf(b)})},LH:function(){return this.tf},tU:function(){return 0===this.tf.length},kP:function(b,c){-1===this.Tj.indexOf(b)&&(_.isUndefined(c)?this.Tj.push(b):this.Tj[c]=b)},tg:function(b){this.pc.tg(b)},Lb:function(b,c){this.pc.Lb(b,c)},Xa:function(){return this.pc.Xa()},kr:function(){return this.pc.kr()},
ue:function(b){this.pc.ue(b)},xu:function(b,c){this.pc.xu(b,c)},yh:function(){return this.pc.yh()},$w:function(b){this.pc.$w(b)},ir:function(){return this.pc.ir()},NA:function(){var b=this.Ac.split(".");return b[b.length-1]},JS:function(){var b,c=this.Ac.split(".");1<c.length&&(b=c.slice(0,c.length-1).join("."));return b},gD:function(b,c){var a=this.NA();(c=(c?c+".":"")+a)||(c="");if(this.tU()){if(b.$r){var d=!0;b.bv&&(b.bv(this)||(d=!1));d&&b.$r(c,a,this)}}else{var f;b.bv?(f=[],this.tf.forEach(function(a){b.bv(a)&&
f.push(a)})):f=this.tf;0<f.length&&(b.tw&&b.tw(c,a,this),f.forEach(function(a){a.gD(b,c)}),b.OB&&b.OB(c,a,this))}},pA:function(b){for(var c=this.tf,a=c.length,d=0;d<a;++d){var f=c[d];if(f.NA()===b)return f}if(b.match(/^\d+$/))return this.Tj[parseInt(b,10)]},removeChild:function(b){b=this.tf.indexOf(b);-1!==b&&this.tf.splice(b,1)},IF:function(b){var c=this.pA(b.NA());c&&this.removeChild(c);this.tf.push(b)},EK:function(){this.Lb(this.ir())},Hq:function(e,c){var a=new b.Annotations.O.vb.Events.ha.create("Calculate",
this,{value:this.value,source:c,rc:!0}),d=this.Xa();this.Pe("C",a);var f=this.maxLen;this.xf=-1;var m=a.value;a.rc&&m!==d&&this.Lb(m);this.xf=f},Cm:function(){this.xH(function(b){b.refresh()})},wz:function(e,c,a){e=b.Annotations.O.vb.Events.ha.create("Keystroke",this,{value:c,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.Pe("K",e);e.rc&&(c=b.Annotations.O.vb.Events.Bi(e),e=new b.Annotations.O.vb.Events.ha.create("Validate",this,{value:c}),this.Pe("V",e),e.rc&&this.Lb(e.value,a))},Oe:function(b,
c){this.pc.Oe(b,c)}};$.extend(f.O.ha.prototype,Object.create(b.utils.eventHandler));Object.defineProperties(f.O.ha.prototype,{name:{get:function(){return this.Ac}},tooltipName:{get:function(){return this.AF},set:function(b){this.AF=b}},value:{get:function(){return this.Xa()},set:function(b){this.Lb(b)}},widgets:{get:function(){return this.Tj}},children:{get:function(){return this.tf}},options:{get:function(){return this.yh()},set:function(b){this.ue(b)}},exportValue:{get:function(){return this.kr()}},
actions:{get:function(){return this.hk()}},defaultValue:{get:function(){return this.ir()},set:function(b){this.$w(b)}},flags:{get:function(){return this.pc.oc}},IsModified:{set:function(b){b!==this.wl&&this.tf.forEach(function(c){c.IsModified=b});this.wl=b},get:function(){return this.wl||this.tf.reduce(function(b,c){return b||c.IsModified},!1)}},font:{get:function(){return this.wn}},maxLen:{get:function(){return this.xf},set:function(b){this.xf=Number(b);0<this.xf&&this.Lb(this.Xa())}},type:{get:function(){return this.qu}},
userName:{get:function(){return this.TO},set:function(b){this.TO=b}}});$.extend(f.O.ha.prototype,b.Actions.Vh.prototype);f.O.ha.Yb=function(b,c){c=c||{};this.Ia=b;this._value=this.vy="";this.oc=new f.Fj({mask:["ReadOnly","Required","NoExport"],onUpdate:c.onUpdate})};f.O.ha.Yb.prototype={Lb:function(e,c){var a=this.Ia,d=typeof e;"number"===d?e=b.Annotations.ca.toFixed(e,6):e&&"string"!==d&&(e=e.toString());d=this._value!==e;this.Oe(e);d&&(e=this._value,this.LC(e,c),a.IsModified=!0,a.trigger("change",
[a]))},LC:function(b){this.Ia.xH(function(c){c.Lb(b)})},Oe:function(b){this._value=b},tg:function(b){this.Oe(b)},set:function(b){_.isObject(b)&&(_.isNull(b.value)||_.isUndefined(b.value)||(this._value=b.value),_.isNull(b.defaultValue)||_.isUndefined(b.defaultValue)||(this.vy=b.defaultValue),b.flags&&(_.isArray(b.flags)?this.oc.set(b.flags,!0):_.isObject(b.flags)&&this.oc.set(b.flags.toArray(),!0)))},Xa:function(){return this._value},ir:function(){return this.vy},$w:function(b){this.vy=b},xu:function(){},
yh:function(){return null},ue:function(){},kr:function(){return this._value}};Object.defineProperties(f.O.ha.Yb.prototype,{value:{get:function(){return this.Xa()},set:function(b){this.Lb(b)}},defaultValue:{get:function(){return this.ir()},set:function(b){this.$w(b)}}});f.O.ha.ey=function(b,c){if(c instanceof f.O.ha.ey)return c;f.O.ha.Yb.call(this,b,c);this.oc.dr("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(c)};f.O.ha.ey.prototype=$.extend(Object.create(f.O.ha.Yb.prototype),
{Oe:function(b,c){var a=this.Ia.maxLen;0<a&&!_.isNull(b)&&(b=String(b),b.length>a&&!c&&(b=b.slice(0,a)));f.O.ha.Yb.prototype.Oe.call(this,b)}});f.O.ha.Gx=function(b,c){if(c instanceof f.O.ha.Gx)return c;f.O.ha.Yb.call(this,b,c);this.oc.dr("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.jg=[];this.set(c)};f.O.ha.Gx.prototype=$.extend(Object.create(f.O.ha.Yb.prototype),{set:function(b){_.isObject(b)&&b.options&&this.ue(b.options);f.O.ha.Yb.prototype.set.call(this,b)},
zS:function(b){for(var c=0;c<this.jg.length;++c){var a=this.jg[c];if(a.value===b)return a}return null},Oe:function(b){b=b.replace(/\n/g," ");this.oc.get("Edit")||!_.isNull(this.zS(b))?f.O.ha.Yb.prototype.Oe.call(this,b):f.O.ha.Yb.prototype.Oe.call(this,null)},yh:function(){return this.jg},xu:function(b,c){for(var a=this.jg,d=0;d<a.length;++d)if(a[d].value===a.value)return;this.jg.splice(c,0,b);this.oc.get("Combo")||this.Lb(b.value)},ue:function(b){this.jg=b.map(function(c){var a=c.value;c=c.displayValue;
return{value:a,displayValue:_.isUndefined(c)?a:c}})}});f.O.ha.Ex=function(b,c){if(c instanceof f.O.ha.Ex)return c;f.O.ha.Yb.call(this,b,c);this.oc.dr(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.jg=null;this.set(c);""===this._value&&(this._value="Off")};f.O.ha.Ex.prototype=$.extend(Object.create(f.O.ha.Yb.prototype),{set:function(b){f.O.ha.Yb.prototype.set.call(this,b);_.isObject(b)&&b.options&&this.ue(b.options)},yh:function(){return this.jg},tg:function(b){(""===this._value||"Off"!==
b||this.Ia.widgets.every(function(c){return!c.appearance}))&&f.O.ha.Yb.prototype.tg.call(this,b)},Oe:function(b){"Off"!==b?""===b?f.O.ha.Yb.prototype.Oe.call(this,"Off"):f.O.ha.Yb.prototype.Oe.call(this,b):this.oc.get("NoToggleToOff")&&this.oc.get("Radio")||f.O.ha.Yb.prototype.Oe.call(this,b)},kr:function(){return this.jg?this.jg[Number(this.Xa())]:f.O.ha.Yb.prototype.kr.call(this)},ue:function(b){this.jg=b.slice()},LC:function(b,c){f.O.ha.Yb.prototype.LC.call(this,b,c)}});f.O.ha.cy=function(b,c){if(c instanceof
f.O.ha.cy)return c;var a=this,d=Object.assign({},c,{onUpdate:function(){a.Ia.Cm()}});f.O.ha.Yb.call(this,b,d);this.set(c)};f.O.ha.cy.prototype=$.extend(Object.create(f.O.ha.Yb.prototype),{})})(window);
(function(b){function f(a){return _.isArray(a)?a.map(f).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function e(a,c,b,d){b!==d&&a.writeAttributeString(c,f(b))}function c(a,c,b){var d=b.os||[];b=b.Qo||{};for(var g=0;g<d.length;++g){var m=d[g],h=c[m];_.isUndefined(c)?console.warn("Required attribute: "+m+" is undefined"):a.writeAttributeString(m,f(h))}for(var k in b)b.hasOwnProperty(k)&&e(a,k,c[k],b[k])}function a(a,b,g,m){m=m||"actions";var h=Object.keys(b);if(0<h.length){a.writeStartElement(m);
for(m=0;m<h.length;++m)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(h[m])),b[h[m]].forEach(function(b){var m=b.name;switch(m){case "JavaScript":a.writeStartElement("javascript");a.writeString(f(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");c(a,b,{os:["exclude"]});b.fields&&d(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");c(a,b,{os:["url","format"],Qo:{method:"POST",exclude:!1}});m=
b.flags.toArray();0<m.length&&a.writeAttributeString("flags",f(m));b=b.fields;0<b.length&&d(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;c(a,b,{os:["fit","page"],Qo:{zoom:void 0}});var h=g(b.page).inverse(),m=b.top||0,l=b.left||0,k=b.bottom||0,p=b.right||0,l=h.W({x:l,y:m}),h=h.W({x:p,y:k}),m=_.isUndefined(b.top)?null:l.y,l=_.isUndefined(b.left)?null:l.x,p=_.isUndefined(b.right)?null:h.x,k=_.isUndefined(b.bottom)?null:h.y;e(a,"top",m,null);
e(a,"left",l,null);e(a,"right",p,null);e(a,"bottom",k,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");c(a,b,{os:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");c(a,b,{Qo:{hide:!0}});d(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+m)}}),a.writeEndElement();a.writeEndElement()}}
function d(a,c,b){b||(b="fields");a.writeStartElement(b);b=c.length;for(var d=0;d<b;++d){var e=a,f=c[d];e.writeStartElement("ffield");e.writeAttributeString("name",_.escape(f));e.writeEndElement()}a.writeEndElement()}function g(a,c,b,d){if(d||!c.mJ())a.writeStartElement(b),e(a,"r",c.R,0),e(a,"g",c.G,0),e(a,"b",c.B,0),e(a,"a",c.A,1),a.writeEndElement()}function m(a,b,d){if(b&&(0!==b.size||""!==b.name||"Type1"!==b.type||!b.im())){a.writeStartElement("font");c(a,b,{Qo:{type:"Type1",name:""}});var f=
b.size,m=d.inverse();d=m.W({x:0,y:0});m=m.W({x:f,y:0});f=d.x-m.x;d=d.y-m.y;e(a,"size",Math.sqrt(f*f+d*d),0);d=b.fillColor;d.im()||g(a,d,"fill-color",!0);b=b.strokeColor;b.im()||g(a,b,"stroke-color",!0);a.writeEndElement()}}function h(a,c,b){a.writeStartElement("aappearance");a.writeAttributeString("name",c);Object.keys(b).forEach(function(c){a.writeStartElement(c);a.writeString(f(b[c].data||""));a.writeEndElement()});a.writeEndElement()}b.pf=b.pf||{};var k=b.pf;k.Di=function(a,c){var b;c in a?b=a[c]:
(b={},a[c]=b);return b};k.parse=function(a,c,b,d){var e={calculationOrder:[],widgets:[],fields:{},pages:[],documentActions:{},custom:[]},f=a.va();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),b(e)):(f=a.K("version"),"1"===f?k.UN.parse(a,c,b,d):"2"===f?k.RD.parse(a,c,b,d):(console.warn("PDFInfo version is incorrect: "+f),b(e)))};k.kM=function(a,c,b){if(c)for(var d in c){var g=c[d],m;for(m in g){var h=g[m];"objnum"in h&&(a.writeStartElement("apref"),e(a,"appearance-state",d,"_DEFAULT"),
e(a,"annotation-state",m,"Normal"),a.writeAttributeString("gennum",f(h.gennum)),a.writeAttributeString("objnum",f(h.objnum)),h=h.offset,h=b.W({x:h.x,y:h.y}),a.writeAttributeString("x",f(h.x)),a.writeAttributeString("y",f(h.y)),a.writeEndElement())}}};k.write=function(b,l,q){b.writeStartElement("pdf-info");b.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");b.writeAttributeString("version","2");var p=l.calculationOrder;_.isArray(p)&&0<p.length&&d(b,p,"calculation-order");a(b,l.documentActions,
q,"document-actions");p=l.pages;if(0<p.length){b.writeStartElement("pages");for(var u=0;u<p.length;++u){var r=b,v=p[u],w=q;r.writeStartElement("page");r.writeAttributeString("number",f(v.number));a(r,v.actions,w);r.writeEndElement()}b.writeEndElement()}u=l.fields;r=Object.keys(u);for(p=0;p<r.length;++p){var v=b,w=u[r[p]],A=q;v.writeStartElement("ffield");c(v,w,{Qo:{},os:["type","name"]});var B=w.flags.toArray();0<B.length&&v.writeAttributeString("flags",f(B));B=w.maxLen;-1!==B&&v.writeAttributeString("max-len",
f(B));(B=w.tooltipName)&&v.writeAttributeString("tooltip-name",f(B));a(v,w.hk(),A);(B=w.defaultValue)&&v.writeElementString("default-value",f(B));m(v,w.font,A(1));A=v;if((w=w.options)&&0<w.length){A.writeStartElement("options");for(var B=w.length,z=0;z<B;++z){A.writeStartElement("option");var x=w[z].displayValue,y=w[z].value;x===y||_.isUndefined(x)||A.writeAttributeString("display-value",f(x));A.writeAttributeString("value",f(y));A.writeEndElement()}A.writeEndElement()}v.writeEndElement()}l=l.widgets;
for(p=0;p<l.length;++p){u=b;r=l[p];v=q;u.writeStartElement("widget");c(u,r,{Qo:{appearance:"",rotation:0,quadding:"Left-justified"}});w=r;w=w.Hb().widgets.indexOf(w);w=f(w);"0"!==w&&u.writeAttributeString("index",w);u.writeAttributeString("field",f(r.Hb().name));w=r.flags.toArray();0<w.length&&u.writeAttributeString("flags",f(w));w=r.PageNumber;u.writeAttributeString("page",f(w));w=v(w).inverse();A=u;z=r.rect;x=w;A.writeStartElement("rect");B=x.W({x:z.x1,y:z.y1});z=x.W({x:z.x2,y:z.y2});x={};x.x1=
_.min([B.x,z.x]);x.x2=_.max([B.x,z.x]);x.y1=_.min([B.y,z.y]);x.y2=_.max([B.y,z.y]);A.writeAttributeString("x1",f(Number(Number(x.x1).toFixed(4))));A.writeAttributeString("x2",f(Number(Number(x.x2).toFixed(4))));A.writeAttributeString("y1",f(Number(Number(x.y1).toFixed(4))));A.writeAttributeString("y2",f(Number(Number(x.y2).toFixed(4))));A.writeEndElement();A=u;!(B=r.border)||B.color.mJ()&&1===B.width&&"Solid"===B.style||(A.writeStartElement("border"),e(A,"width",B.width,1),e(A,"style",B.style,"Solid"),
B=B.color,B.im()||g(A,B,"color",!0),A.writeEndElement());g(u,r.backgroundColor,"background-color");a(u,r.hk(),v);k.kM(u,r.appearances,w);w=u;A=r.appearances;B=Object.keys(A);if(z=0<B.length)z=A[B[0]],z=0===Object.keys(z).length||"Normal"in z&&!!z.Normal.data;if(z){w.writeStartElement("appearances");z=B.length;for(x=0;x<z;++x)y=B[x],h(w,y,A[y]);w.writeEndElement()}w=u;A=r;A.xT()&&(w.writeStartElement("extra"),m(w,A.font,v(1)),w.writeEndElement());v=u;r=r.captions;w=r.Rollover;A=r.Down;if(r.Normal||
w||A)v.writeStartElement("captions"),e(v,"Normal",r.Normal,""),e(v,"Rollover",r.Rollover,""),e(v,"Down",r.Down,""),v.writeEndElement();u.writeEndElement()}b.writeEndElement()}})(window);
(function(b){function f(a){var c=[];for(a.oa();a.advance();){var b=a.va();"field"===b?c.push(String(a.K("name"))):console.warn("unrecognised field list element: "+b)}a.Ca();return c}function e(a,c){return c?"false"===a?!1:!0:"true"===a?!0:!1}function c(a,c){var b=a.va();switch(b){case "javascript":return{name:"JavaScript",javascript:a.current.textContent};case "uri":return{name:"URI",uri:a.K("uri")};case "goto":b=null;a.oa();if(a.advance()){var d=a.K("fit"),b={page:a.K("page"),fit:d};if("0"===b.page)console.warn("null page encountered in dest");
else{var g=c(Number(b.page));switch(d){case "Fit":case "FitB":break;case "FitH":case "FitBH":b.top=g.W({x:0,y:a.K("top")||0}).y;break;case "FitV":case "FitBV":b.left=g.W({x:a.K("left")||0,y:0}).x;break;case "FitR":d=g.W({x:a.K("left")||0,y:a.K("top")||0});g=g.W({x:a.K("right")||0,y:a.K("bottom")||0});g=new Annotations.Rect(d.x,d.y,g.x,g.y);b.top=g.y1;b.left=g.x1;b.bottom=g.y2;b.right=g.x2;break;case "XYZ":d=g.W({x:a.K("left")||0,y:a.K("top")||0});b.top=d.y;b.left=d.x;b.zoom=a.K("zoom")||0;break;default:console.warn("unknown dest fit: "+
d)}}b={name:"GoTo",dest:b}}else console.OY("missing dest in GoTo action");a.Ca();return b;case "submit-form":b={name:"SubmitForm",url:a.K("url"),format:a.K("format"),method:a.K("method")||"POST",exclude:e(a.K("exclude"),!1)};g=a.K("flags");b.flags=g?g.split(" "):[];for(a.oa();a.advance();)switch(g=a.va(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.Ca();return b;case "reset-form":b={name:"ResetForm",exclude:e(a.K("exclude"),!1)};for(a.oa();a.advance();)switch(g=
a.va(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.Ca();return b;case "hide":b={name:"Hide",hide:e(a.K("hide"),!0)};for(a.oa();a.advance();)switch(g=a.va(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised hide child: "+g)}a.Ca();return b;case "named":return{name:"Named",action:a.K("name")};default:console.warn("Encountered unexpected action type: "+b)}return null}function a(a,b,d){var e={};for(a.oa();a.advance();){var f=a.va();
switch(f){case "action":f=a.K("trigger");if(b?-1!==b.indexOf(f):1){e[f]=[];for(a.oa();a.advance();){var g=c(a,d);_.isNull(g)||e[f].push(g)}a.Ca()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.Ca();return e}function d(a){return"calculation-order"===a.va()?f(a):[]}function g(a){return new b.Annotations.Color(a.K("r")||0,a.K("g")||0,a.K("b")||0,a.K("a")||1)}function m(a,c){var b=a.K("name"),d=a.K("type")||"Type1",
e=a.K("size"),f=c.W({x:0,y:0}),m=c.W({x:Number(e),y:0}),e=f.x-m.x,f=f.y-m.y,b={name:b,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.oa();a.advance();)switch(d=a.va(),d){case "stroke-color":b.strokeColor=g(a);break;case "fill-color":b.fillColor=g(a);break;default:console.warn("unrecognised font child: "+d)}a.Ca();return b}function h(c,b){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:c.K("field"),page:c.K("page"),index:c.K("index")||0,rotation:c.K("rotation")||
0,flags:[]},e=c.K("appearance");e&&(d.appearance=e);(e=c.K("flags"))&&(d.flags=e.split(" "));for(c.oa();c.advance();)switch(e=c.va(),e){case "rect":var f=c,h=b(Number(d.page)),e=h.W({x:f.K("x1")||0,y:f.K("y1")||0}),f=h.W({x:f.K("x2")||0,y:f.K("y2")||0}),e=new Annotations.Rect(e.x,e.y,f.x,f.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=c;f={style:e.K("style")||"Solid",width:e.K("width")||1,color:[0,0,0]};for(e.oa();e.advance();)switch(h=e.va(),h){case "color":f.color=
g(e);break;default:console.warn("unrecognised border child: "+h)}e.Ca();d.border=f;break;case "background-color":d.backgroundColor=g(c);break;case "actions":d.actions=a(c,"E X D U Fo Bl PO PC PV PI".split(" "),b);break;case "appearances":e=c;f=p.Di(d,"appearances");for(e.oa();e.advance();)if(h=e.va(),"appearance"===h){var h=e.K("name"),l=p.Di(f,h),h=e;for(h.oa();h.advance();){var k=h.va();switch(k){case "Normal":p.Di(l,"Normal").data=h.current.textContent;break;default:console.warn("unexpected appearance state: ",
k)}}h.Ca()}else console.warn("unexpected appearances child: "+h);e.Ca();break;case "extra":e=c;f=b;h={};for(e.oa();e.advance();)switch(l=e.va(),l){case "font":h.font=m(e,f(1));break;default:console.warn("unrecognised extra child: "+l)}e.Ca();e=h;e.font&&(d.font=e.font);break;case "captions":f=c;e={};(h=f.K("Normal"))&&(e.Normal=h);(h=f.K("Rollover"))&&(e.Rollover=h);(f=f.K("Down"))&&(e.Down=f);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}c.Ca();return d}function k(a){var c=
{value:a.K("value")};(a=a.K("display-value"))&&(c.displayValue=a);return c}function n(c,d){var e=c.K("name"),f={type:c.K("type"),quadding:c.K("quadding")||"Left-justified",maxLen:c.K("max-len")||-1},g=c.K("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.oa();c.advance();)switch(g=c.va(),g){case "actions":f.actions=a(c,["C","F","K","V"],d);break;case "default-value":g=c;g.oa();g.advance();var h=g.current.textContent;g.Ca();f.defaultValue=h;break;case "font":f.font=m(c,d);break;case "options":g=
c;h=[];for(g.oa();g.advance();){var l=g.va();switch(l){case "option":h.push(k(g));break;default:console.warn("unrecognised options child: "+l)}}g.Ca();f.options=h;break;default:console.warn("unknown field child: "+g)}c.Ca();return new b.Annotations.O.ha(e,f)}function l(a,c){switch(a.type){case "Tx":return new b.Annotations.ll(a,c);case "Ch":return a.flags.get("Combo")?new b.Annotations.Qg(a,c):new b.Annotations.vj(a,c);case "Btn":return a.flags.get("PushButton")?new b.Annotations.zj(a,c):a.flags.get("Radio")?
new b.Annotations.bl(a,c):new b.Annotations.Uh(a,c);case "Sig":return new b.Annotations.ag(a,c);default:console.warn("Unrecognised field type: "+a.type)}return null}function q(c,b){var d={number:c.K("number")};for(c.oa();c.advance();){var e=c.va();switch(e){case "actions":d.actions=a(c,["O","C"],b);break;default:console.warn("unrecognised page child: "+e)}}c.Ca();return d}b.pf=b.pf||{};var p=b.pf;p.UN={parse:function(c,e,f,g){var m=[],k={};c.oa();var p=[],x={},y=[];b.busyLoop(function(){var b,f;if(c.advance()){b=
c.va();switch(b){case "calculation-order":p=d(c);break;case "document-actions":x=a(c,["Init","Open"],e);break;case "pages":b=[];for(c.oa();c.advance();)switch(f=c.va(),f){case "page":b.push(q(c,e));break;default:console.warn("unrecognised page child: "+f)}c.Ca();y=b;break;case "field":b=n(c,e(1));k[b.name]=b;break;case "widget":f=h(c,e);(b=k[f.fieldName])?(b=l(b,f),m.push(b)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+
b)}return!0}return!1},function(){c.Ca();f({calculationOrder:p,widgets:m,fields:k,documentActions:x,pages:y,custom:[]})},g)},xV:n,AV:h,VJ:d}})(window);
(function(b){function f(a){var c=[];for(a.oa();a.advance();){var b=a.va();"ffield"===b?c.push(String(a.K("name"))):console.warn("unrecognised field list element: "+b)}a.Ca();return c}function e(a,c){return c?"false"===a?!1:!0:"true"===a?!0:!1}function c(a,c){var b=a.va();switch(b){case "javascript":return{name:"JavaScript",javascript:a.current.textContent};case "uri":return{name:"URI",uri:a.K("uri")};case "goto":b=null;a.oa();if(a.advance()){var d=a.K("fit"),b={page:a.K("page"),fit:d};if("0"===b.page)console.warn("null page encountered in dest");
else{var g=c(Number(b.page));switch(d){case "Fit":case "FitB":break;case "FitH":case "FitBH":b.top=g.W({x:0,y:a.K("top")||0}).y;break;case "FitV":case "FitBV":b.left=g.W({x:a.K("left")||0,y:0}).x;break;case "FitR":d=g.W({x:a.K("left")||0,y:a.K("top")||0});g=g.W({x:a.K("right")||0,y:a.K("bottom")||0});g=new Annotations.Rect(d.x,d.y,g.x,g.y);b.top=g.y1;b.left=g.x1;b.bottom=g.y2;b.right=g.x2;break;case "XYZ":d=g.W({x:a.K("left")||0,y:a.K("top")||0});b.top=d.y;b.left=d.x;b.zoom=a.K("zoom")||0;break;default:console.warn("unknown dest fit: "+
d)}}b={name:"GoTo",dest:b}}else console.OY("missing dest in GoTo action");a.Ca();return b;case "submit-form":b={name:"SubmitForm",url:a.K("url"),format:a.K("format"),method:a.K("method")||"POST",exclude:e(a.K("exclude"),!1)};g=a.K("flags");b.flags=g?g.split(" "):[];for(a.oa();a.advance();)switch(g=a.va(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.Ca();return b;case "reset-form":b={name:"ResetForm",exclude:e(a.K("exclude"),!1)};for(a.oa();a.advance();)switch(g=
a.va(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.Ca();return b;case "hide":b={name:"Hide",hide:e(a.K("hide"),!0)};for(a.oa();a.advance();)switch(g=a.va(),g){case "fields":b.fields=f(a);break;default:console.warn("unrecognised hide child: "+g)}a.Ca();return b;case "named":return{name:"Named",action:a.K("name")};default:console.warn("Encountered unexpected action type: "+b)}return null}function a(a,b,d){var e={};for(a.oa();a.advance();){var f=a.va();
switch(f){case "action":f=a.K("trigger");if(b?-1!==b.indexOf(f):1){e[f]=[];for(a.oa();a.advance();){var g=c(a,d);_.isNull(g)||e[f].push(g)}a.Ca()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.Ca();return e}function d(a){return"calculation-order"===a.va()?f(a):[]}function g(a){return new b.Annotations.Color(a.K("r")||0,a.K("g")||0,a.K("b")||0,a.K("a")||1)}function m(a,c,b){var d=r.Di(c,"appearances"),e=a.K("appearance-state")||
"_DEFAULT",f=a.K("annotation-state")||"Normal";c=Number(a.K("objnum"));var g=Number(a.K("gennum")),m=Number(a.K("x")),h=Number(a.K("y"));a=a.K("blend-mode");d=r.Di(d,e);f=r.Di(d,f);f.objnum=c;f.gennum=g;f.offset=b.W({x:m,y:h});f.blendMode=a}function h(a,c){var b=a.K("name"),d=a.K("type")||"Type1",e=a.K("size"),f=c.W({x:0,y:0}),m=c.W({x:Number(e),y:0}),e=f.x-m.x,f=f.y-m.y,b={name:b,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.oa();a.advance();)switch(d=a.va(),d){case "stroke-color":b.strokeColor=
g(a);break;case "fill-color":b.fillColor=g(a);break;default:console.warn("unrecognised font child: "+d)}a.Ca();return b}function k(c,b){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:c.K("field"),page:c.K("page"),index:c.K("index")||0,rotation:c.K("rotation")||0,quadding:c.K("quadding")||"Left-justified",flags:[]},e=c.K("appearance");e&&(d.appearance=e);(e=c.K("flags"))&&(d.flags=e.split(" "));for(c.oa();c.advance();)switch(e=c.va(),e){case "rect":var f=c,l=b(Number(d.page)),e=
l.W({x:f.K("x1")||0,y:f.K("y1")||0}),f=l.W({x:f.K("x2")||0,y:f.K("y2")||0}),e=new Annotations.Rect(e.x,e.y,f.x,f.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=c;f={style:e.K("style")||"Solid",width:e.K("width")||1,color:[0,0,0]};for(e.oa();e.advance();)switch(l=e.va(),l){case "color":f.color=g(e);break;default:console.warn("unrecognised border child: "+l)}e.Ca();d.border=f;break;case "background-color":d.backgroundColor=g(c);break;case "actions":d.actions=a(c,"E X D U Fo Bl PO PC PV PI".split(" "),
b);break;case "appearances":e=c;f=r.Di(d,"appearances");for(e.oa();e.advance();)if(l=e.va(),"aappearance"===l){var l=e.K("name"),k=r.Di(f,l),l=e;for(l.oa();l.advance();){var n=l.va();switch(n){case "Normal":r.Di(k,"Normal").data=l.current.textContent;break;default:console.warn("unexpected appearance state: ",n)}}l.Ca()}else console.warn("unexpected appearances child: "+l);e.Ca();break;case "apref":m(c,d,b(Number(d.page)));break;case "extra":e=c;f=b;l={};for(e.oa();e.advance();)switch(k=e.va(),k){case "font":l.font=
h(e,f(1));break;default:console.warn("unrecognised extra child: "+k)}e.Ca();e=l;e.font&&(d.font=e.font);break;case "captions":f=c;e={};(l=f.K("Normal"))&&(e.Normal=l);(l=f.K("Rollover"))&&(e.Rollover=l);(f=f.K("Down"))&&(e.Down=f);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}c.Ca();return d}function n(a,c){var d=a.K("page"),e=c(1+Number(d)),d={page:d,rect:Annotations.ca.Su(a.K("rect"),e)};for(a.oa();a.advance();){var f=a.va();switch(f){case "apref":m(a,d,e);break;default:console.warn("unrecognised custom tag: "+
f)}}a.Ca();return new b.Annotations.Ip(d)}function l(a){var c={value:a.K("value")};(a=a.K("display-value"))&&(c.displayValue=a);return c}function q(c,d){var e=c.K("name"),f={type:c.K("type"),maxLen:c.K("max-len")||-1,tooltipName:c.K("tooltip-name")},g=c.K("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.oa();c.advance();)switch(g=c.va(),g){case "actions":f.actions=a(c,["C","F","K","V"],d);break;case "default-value":g=c;g.oa();g.advance();var m=g.current.textContent;g.Ca();f.defaultValue=m;break;
case "font":f.font=h(c,d);break;case "options":g=c;m=[];for(g.oa();g.advance();){var k=g.va();switch(k){case "option":m.push(l(g));break;default:console.warn("unrecognised options child: "+k)}}g.Ca();f.options=m;break;default:console.warn("unknown field child: "+g)}c.Ca();return new b.Annotations.O.ha(e,f)}function p(a,c){switch(a.type){case "Tx":return new b.Annotations.ll(a,c);case "Ch":return a.flags.get("Combo")?new b.Annotations.Qg(a,c):new b.Annotations.vj(a,c);case "Btn":return a.flags.get("PushButton")?
new b.Annotations.zj(a,c):a.flags.get("Radio")?new b.Annotations.bl(a,c):new b.Annotations.Uh(a,c);case "Sig":return new b.Annotations.ag(a,c);default:console.warn("Unrecognised field type: "+a.type)}return null}function u(c,b){var d={number:c.K("number")};for(c.oa();c.advance();){var e=c.va();switch(e){case "actions":d.actions=a(c,["O","C"],b);break;default:console.warn("unrecognised page child: "+e)}}c.Ca();return d}b.pf=b.pf||{};var r=b.pf;r.RD={parse:function(c,e,f,g){var m=[],h=[],l={};c.oa();
var r=[],K={},E=[];b.busyLoop(function(){var b,f;if(c.advance()){b=c.va();switch(b){case "calculation-order":r=d(c);break;case "document-actions":K=a(c,["Init","Open"],e);break;case "pages":b=[];for(c.oa();c.advance();)switch(f=c.va(),f){case "page":b.push(u(c,e));break;default:console.warn("unrecognised page child: "+f)}c.Ca();E=b;break;case "ffield":b=q(c,e(1));l[b.name]=b;break;case "widget":f=k(c,e);(b=l[f.fieldName])?(b=p(b,f),m.push(b)):console.warn("ignoring widget with no corresponding field data: "+
f.fieldName);break;case "custom":h.push(n(c,e));break;default:console.warn("Unknown element encountered in PDFInfo: "+b)}return!0}return!1},function(){c.Ca();f({calculationOrder:r,widgets:m,fields:l,documentActions:K,pages:E,custom:h})},g)},z_:p,xV:q,AV:k,VJ:d,XO:m}})(window);
(function(b){b.Annotations=b.Annotations||{};b.Annotations.O=b.Annotations.O||{};b.Annotations.O.vb=b.Annotations.O.vb||{};b=b.Annotations.O.vb;b.Events={};var f=b.Events;f.Event=function(c){this.rc=!0;_.isObject(c)&&(_.isString(c.name)&&Object.defineProperty(this,"name",{value:c.name,enumerable:!0}),_.isString(c.type)&&Object.defineProperty(this,"type",{value:c.type,enumerable:!0}))};f.Bi=function(c){var a=String(c.value),b=c.change,e=a.slice(0,c.selStart),f=a.slice(c.selEnd);if(_.isObject(c.change)){var h=
c.selStart;c=c.selEnd;h===c&&("backspace"===b.type?e=a.slice(0,h-1):"delete"===b.type&&(f=a.slice(c+1)));b=""}return e+b+f};var e={Validate:function(c){f.Event.call(this,c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Calculate:function(c){f.Event.call(this,c);var a,b;_.isObject(c)&&(a=c.value,b=c.source);Object.defineProperties(this,{value:{value:a,writable:!0,enumerable:!0},source:{value:b,enumerable:!0}})},Format:function(c){f.Event.call(this,
c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Keystroke:function(c){f.Event.call(this,c);var a,b,e,m,h;_.isObject(c)&&(a=c.value,b=c.change,e=c.selStart,m=c.selEnd,h=c.willCommit);a="undefined"!==typeof a?a:"";b="undefined"!==typeof b||_.isString(b)?b:"";m="undefined"!==typeof m?m:a.length;Object.defineProperties(this,{value:{value:a,writable:!0,enumerable:!0},change:{value:b,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof e?
e:0,writable:!0,enumerable:!0},selEnd:{value:m,writable:!0,enumerable:!0},willCommit:{value:h||!1,enumerable:!0}})},"Mouse Enter":function(c){f.Event.call(this,c)},"Mouse Leave":function(c){f.Event.call(this,c)},"Mouse Up":function(c){f.Event.call(this,c)},"Mouse Down":function(c){f.Event.call(this,c)},Focus:function(c){f.Event.call(this,c)},Blur:function(c){f.Event.call(this,c);var a;_.isObject(c)&&(a=c.value);Object.defineProperty(this,"value",{value:a,writable:!0,enumerable:!0})},Open:function(c){f.Event.call(this,
c);var a;_.isObject(c)&&(a=c.targetName);Object.defineProperty(this,"targetName",{value:a||"",writable:!0,enumerable:!0})},Close:function(c){f.Event.call(this,c)}};f.create=function(c,a){return e[c]?new e[c](a):null};f.ha={create:function(c,a,b){b=$.extend({name:c,type:"Field",value:a.Xa()},b);return(c=f.create(c,b))?(Object.defineProperties(c,{target:{value:a,writable:!0,enumerable:!0},targetName:{value:a.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),
c):null}};f.tD={create:function(c,a,b){b=$.extend({name:c,type:"Doc",targetName:""},b);return(c=f.create(c,b))?(Object.defineProperty(c,"target",{value:a,writable:!0,enumerable:!0}),c):null}};f.Sp={create:function(c,a,b){b=$.extend({name:c,type:"Page"},b);return(c=f.create(c,b))?(Object.defineProperty(c,"target",{value:a,writable:!0,enumerable:!0}),c):null}};f.zd={create:function(c,a){return f.create(c,a)}}})(window);
(function(b){function f(){}function e(a){this.stringValue=a}function c(a,c,b){c=c||",";b=b||".";var d=a.split(b),e=d[0];"-"===a.charAt(0)&&(e=e.substr(1));for(var f=[];3<e.length;)f.push(e.substr(e.length-3)),e=e.substr(0,e.length-3);0<e.length&&f.push(e);e=f.reverse().join(c);"-"===a.charAt(0)&&(e="-"+e);d[0]=e;return d.join(b)}function a(a,c,b){var d="\\.,";0===b?d="\\.":2===b&&(d=",");if(0===c)return/^-?\d*$/.test(a);if(_.isUndefined(c))return c=new RegExp("^-?\\d*(["+d+"]\\d*)?$"),c.test(a);c=
new RegExp("^-?\\d*(["+d+"]\\d{0,"+c.toString()+"})?$");return c.test(a)}function d(a){for(var c=[],b=[],d=-1;-1!==(d=a.indexOf(".",d+1));)c.push(d);for(d=-1;-1!==(d=a.indexOf(",",d+1));)b.push(d);if(c.length&&b.length){if(c[c.length-1]<b[0])return!0}else if(b.length)for(a=a.length-4,c=b.length-1;0<=c;--c)if(b[c]!==a)return!0;return!1}function g(a){return 65<=a&&90>=a||97<=a&&122>=a}function m(a,c){switch(c){case 57:return 48<=a&&57>=a;case 65:return g(a);case 79:return g(a)||48<=a&&57>=a;case 88:return!0;
default:return a===c}}function h(c){var b=typeof c;c=_.isNull(c)||"object"!==b&&"string"!==b?c:String(c).replace(",",d(c)?".":"");b=parseFloat(c);return a(c)&&!isNaN(b)?b:b="Off"===c||_.isUndefined(c)||_.isNull(c)||""===c?0:1}function k(a,c){var b=String(a);if(b.length<c)for(var d=c-b.length,e=0;e<d;++e)b="0"+b;return b}function n(a){_.isString(a)&&(a=a.replace(/\s+/g," "),a=a.replace(/[/.]/g,"-"));return a}function l(a){return a.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,
function(a){return{mmmm:"MMMM",mmm:"MMM",":mm":":mm",mm:"MM",":m":":m",m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function q(a,c){if(!a)return null;var b=L.slice(0);c&&(c=l(c),c=n(c));a=n(a);c&&"d"===c.charAt(0).toLowerCase()?(O.unshift(c),b=E(a,O,!0)):(c&&b.unshift(c),b=E(a,b,!0));return b.isValid()?b:null}function p(a,c){return!a||null!==q(a,c)}function u(a,c){if(N[c]){a=n(a);var b;b=c&&"d"===c.charAt(0).toLowerCase()?
E(a,O,!0):E(a,L,!0);if(b.isValid())return b.format(N[c])}return null}function r(a,c){if((1===c||3===c)&&G.exec(a))return a.replace(/am/ig," am").replace(/pm/ig," pm").replace(/\s\s+/g," ");var b=String(a).split(":");if(3<c||0>c||!a)return null;var d=0,e=0,f=0;b[0]&&(d=Number(b[0]));b[1]&&(e=Number(b[1]));b[2]&&(f=Number(b[2]));if(23<d||59<e||59<f||_.isNaN(d)||_.isNaN(e)||_.isNaN(f))return null;var b=1===c||3===c,g;b?(g=12<=d&&24>d?"PM":"AM",d%=12,0===d&&(d=12)):d=k(d,2);e=k(e,2);f=k(f,2);d=d+":"+
e+(2>c?"":":"+f);b&&(d+=" "+g);return d}function v(a,c){for(var b=0,d="",e=0;e<c.length&&b<a.length;++e){var f=c.charAt(e);switch(f){case "9":d+=a.charAt(b);b++;break;default:d+=f}}return d}function w(a,c){this.SO=c;this.cA=!1;this.zU=a;a.aY()}function A(a){return function(){console.log("stub: "+a+" called with",arguments)}}function B(a){var c=null;if(_.isArray(a))switch(a[0]){case "T":c=[];break;case "G":c=a.slice(1,2);break;case "RGB":c=a.slice(1,4);break;case "CMYK":c=a.slice(1,5)}return c}function z(a,
c){a.widgets.forEach(function(a){a.backgroundColor=c})}function x(a){this.iF={};this.TE=a}function y(){var a=this;this.hF={Doc:new x(function(){return"id"}),Field:new x(function(a){return a.name})};this.cq=0;this.Ct=[];this.IO={Doc:function(a){return H.BD(a)},Color:function(a){return H.ct(a)},Field:function(a){a.rk&&a.rk()&&(a=a.Hb());return new H.Lp(a)},Event:function(c){var b={target:a.vm({Field:"Field",Page:"Doc",Doc:"Doc"}[c.type],c.target)};Object.defineProperties(b,{value:{get:function(){return H.utils.toString(c.value)},
set:function(a){c.value=a},enumerable:!0}});for(var d in c)c.hasOwnProperty(d)&&"target"!==d&&"value"!==d&&function(a){Object.defineProperty(b,a,{set:function(b){c[a]=b},get:function(){return c[a]},enumerable:!0})}(d);return b}}}function F(){y.call(this);this.AO=this.fS();b.d_=this.AO;for(var a in C)C.hasOwnProperty(a)&&(a in b||(b[a]=C[a]))}function K(){y.call(this);if(T){this.kq=$("<iframe />");this.kq.css({display:"none"});this.kq.appendTo("body");this.On=this.kq[0].contentWindow;var a=this.On.document;
a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");a.close();this.sl=!1;for(var c in C)C.hasOwnProperty(c)&&(this.On[c]=C[c]);f(this.On)}}b.Annotations=b.Annotations||{};b.Annotations.O=b.Annotations.O||{};b.Annotations.O.vb=b.Annotations.O.vb||{};var E=b.moment,G=new RegExp(/^(0?\d|1[0-2]):[0-5]\d?:?[0-5]?\d ?([AaPp][Mm])/),H=b.Annotations.O.vb,L="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),
O="D-MMM D-MMM-YY DD-MMM-YY DD-MMM-YYYY DD-MM-YYYY D-M-YYYY".split(" "),M="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),N={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY",
"m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};H.utils={isNumber:a,e1:c,N0:h,L0:k,S_:u,w0:p,T_:r,formatNumber:v,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):""},j1:function(c){var b=c;a(c)&&""!==c&&(b=h(c));return b},KV:function(a,c){var b=E(c),d=l(a);return b.format(d)},LV:function(a){var b=Array.prototype.slice.call(arguments,1),d=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,e,f,g,m,h){a=0;g=".";var l=
",";if(e)switch(e.slice(1)){case "0":l=",";g=".";break;case "1":l="";g=".";break;case "2":l=".";g=",";break;case "3":l="",g=","}if(f)for(e=f.length-2,f=1;f<e;++f);m&&(a=m.slice(1));m=b[d];d++;e=String(m);switch(h){case "f":e=Number(m).toFixed(a).replace(".",g);e=c(e,l,g);break;case "d":e=Number(m).toFixed();break;case "x":e=Number(m).toString(16)}return e})},MV:function(c,b){for(var d="",e=0,f="",m=c.length,h=0;h<m;++h){var l=b,k=c[h],n="";switch(k){case "?":n="upper"===f?n+l.charAt(e).toUpperCase():
"lower"===f?n+l.charAt(e).toLowerCase():n+l.charAt(e);e++;break;case "X":for(;e<l.length;){k=l.charCodeAt(e);if(g(k)||48<=k&&57>=k){n="upper"===f?n+l.charAt(e).toUpperCase():"lower"===f?n+l.charAt(e).toLowerCase():n+l.charAt(e);e++;break}e++}break;case "A":for(;e<l.length;){if(g(l.charCodeAt(e))){n="upper"===f?n+l.charAt(e).toUpperCase():"lower"===f?n+l.charAt(e).toLowerCase():n+l.charAt(e);e++;break}e++}break;case "9":for(;e<l.length;){if(a(l.charAt(e))){n+=l.charAt(e);e++;break}e++}break;case "*":n=
"lower"===f?l.slice(e).toLowerCase():"upper"===f?l.slice(e).toUpperCase():l.slice(e);e=l.length-1;break;case "\\":break;case ">":f="upper";break;case "<":f="lower";break;case "=":f="";break;default:n=k}d+=n}return d},pD:function(a,c){c=c||a;var d=b.Annotations.O.vb.Events.Bi(I);if(a&&d){var e=d.length,f=a.length;if(I.willCommit&&e!==f&&0!==f)D.Da().ke().alert("The value entered does not match the format of the field [ "+c+" ]"),I.rc=!1;else if(e&&f)if(e<=f)for(f=0;f<e;++f){if(!m(d.charCodeAt(f),a.charCodeAt(f))){I.rc=
!1;D.Da().ke().alert("The value entered does not match the format of the field [ "+c+" ]");break}}else D.Da().ke().alert("The value entered does not match the format of the field [ "+c+" ]"),I.rc=!1}},Ms:function(a){var c=String(I.value);c&&I.willCommit&&!p(c,a)&&(I.rc=!1,D.Da().ke().alert("Invalid Date/Time: Input should match format "+a))}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){e.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});e.prototype.valueOf=
function(){this.WI||(this.WI=h(this.stringValue));return this.WI};w.prototype={terminate:function(){this.cA||(this.cA=!0,this.SO(),this.zU.uR())}};var I=null,D=null,C={AFNumber_Format:function(b,d,e,f,g,m){e=(e=D.Da().ke().Hb(I.target.name))?e.Xa():null;a(e)&&null!==e&&""!==e&&(e=h(e),isNaN(e)||(e=e.toFixed(b),0===d?e=c(e):2===d&&(e=c(e),b=e.indexOf("."),e=e.split(",").join("."),0<=b&&(e=e.substr(0,b)+","+e.substr(b+1))),I.value=m?g+e:e+g,I.rc=!0))},AFPercent_Format:function(b,d){var e=I.value;a(e)&&
(e=h(e),e=(100*e).toFixed(b),d&&(e=c(e)),I.value=e+"%",I.rc=!0)},AFDate_KeystrokeEx:H.utils.Ms,AFDate_Keystroke:function(a){a<M.length&&H.utils.Ms(M[a])},AFDate_FormatEx:function(a){a=u(String(I.value),a);_.isNull(a)||(I.value=a,I.rc=!0)},AFDate_Format:function(a){var c=String(I.value);a<M.length&&(a=u(c,M[a]),_.isNull(a)||(I.value=a,I.rc=!0))},AFRange_Validate:function(a,c,b,d){var e=Number(I.value),e=(!a||e>=c)&&(!b||e<=d);if(!e){var f="Invalid value: must be";a&&(f+=" greater than or equal to "+
c);a&&b&&(f+=" and");b&&(f+=" less than or equal to "+d);D.Da().ke().alert(f+".")}I.rc=e},AFTime_Format:function(a){I.value=r(I.value,a);I.rc=!0},AFTime_FormatEx:function(a){a=u(String(I.value),a);_.isNull(a)||(I.value=a,I.rc=!0)},AFTime_Keystroke:function(a){switch(a){case 0:a="HH:MM";break;case 1:a="h:MM tt";break;case 2:a="HH:MM:ss";break;case 3:a="h:MM:ss tt"}H.utils.Ms(a)},AFTime_KeyStrokeEx:H.utils.Ms,AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,c){var b={PRD:function(a,
c){return a*c},SUM:function(a,c){return a+c},MIN:function(a,c){return c<a?c:a},MAX:function(a,c){return c>a?c:a}}[a];b&&("string"===typeof c&&(c=c.split(",")),I.value=c.map(function(a){a=I.target.doc.getField(a).value;return h(a)}).reduce(b),I.rc=!0)},AFNumber_Keystroke:function(c,d){I.rc=a(b.Annotations.O.vb.Events.Bi(I),void 0,d)},AFPercent_Keystroke:function(c){I.rc=a(b.Annotations.O.vb.Events.Bi(I),c+2)},AFMergeChange:function(a){return b.Annotations.O.vb.Events.Bi(a)},AFParseDateEx:q,AFSpecial_Format:function(a){if(0===
arguments.length)I.rc=!1;else{var c=I.value,b;switch(a){case 0:b="99999";break;case 1:b="99999-9999";break;case 2:b=10<=c.length?"(999) 999-9999":"999-9999";break;case 3:b="999-99-9999"}I.value=c.match(/^\d+$/)?v(c,b):c;I.rc=!0}},AFSpecial_Keystroke:function(a){var c="",b;switch(a){case 0:c="99999";b="Zipcode";break;case 1:c="999999999";b="Zipcode + 4";break;case 2:c="9999999999";b="Phone";break;case 3:c="999999999",b="Social Security Number"}H.utils.pD(c,b)},AFSpecial_KeystrokeEx:H.utils.pD,util:{printd:H.utils.KV,
printf:H.utils.LV,printx:H.utils.MV,scand:function(a,c){c=c.trim();return q(c,a).toDate()}},app:{beep:A("app.beep"),alert:function(a){if(_.isObject(a)){var c=a.nType||0;a=a.cMsg;if(0===c)return D.Da().ke().alert(a),1;a=window.confirm(a);return 1===c?a?1:2:a?4:3}D.Da().ke().alert(a);return 1},response:A("app.response"),setInterval:function(a,c){var b=D.getDocument().mq;a=b.Yn(a);var d=I,e=window.setInterval(function(){b.bp(a,d,D)},c);return new w(b,function(){window.clearInterval(e)})},clearInterval:function(a){a.terminate()},
setTimeOut:function(a,c){var b=D.getDocument().mq,d;a=b.Yn(a);var e=I,f=window.setTimeout(function(){b.bp(a,e,D);d.terminate()},c);return d=new w(b,function(){window.clearTimeout(f)})},clearTimeOut:function(a){a.terminate()},launchURL:A("app.launchURL")},console:{clear:function(){console.clear()},println:function(a){console.log(a)}},alert:function(a){D.Da().ke().alert(a)},print:function(){$(window).trigger("documentPrint")},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",
1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",i:"inset",k1:"underline"},style:{ch:"check",cr:"cross",M_:"diamond",ci:"circle",g1:"start",f1:"square"},display:{visible:0,hidden:1,gV:2,hV:3}};H.Lp=function(a){this.ma=a};H.Lp.prototype={insertItemAt:function(a,c,b){_.isUndefined(c)&&(c=a);_.isUndefined(b)&&(b=0);_.isArray(a)&&(a=a[0]);_.isArray(c)&&
(c=c[0]);c={displayValue:a,value:c};var d=this.ma.yh();b=-1===b?d.length-b:b;this.ma.xu(c,b);"Ch"!==this.ma.type||this.ma.flags.get("Combo")||this.ma.Lb(a)},getItemAt:function(a,c){c=_.isUndefined(c)?!0:!!c;var b=this.ma.yh(),b=-1===a?b[b.length-1]:b[a];return c?b.value:b.displayValue},deleteItemAt:function(a){var c=this.ma.yh();if(_.isUndefined(a)){var b=this.ma.Xa();c.forEach(function(c,d){c.value===b&&(a=d)});_.isUndefined(a)||(c.splice(a,1),0===a?this.ma.Lb(c[c.length-1].value):this.ma.Lb(c[a-
1].value))}else c.splice(a,1)},clearItems:function(){this.ma.ue([]);this.ma.Lb(null);this.ma.Cm()},setItems:function(a){for(var c=[],b=a.length,d=0;d<b;++d){var e=a[d];_.isString(e)?c.push({value:e}):_.isArray(e)&&c.push({displayValue:e[0],value:e[1]?e[1]:e[0]})}this.ma.ue(c);this.ma.Lb(c[0].value||null);this.ma.Cm()},setFocus:function(){var a;if(a="widgets"in this.ma?this.ma.widgets[0]:this.ma)this.ma.Ff().bo(a.PageNumber,a.X,a.Y,!0),a.innerElement.trigger("focus")},isBoxChecked:function(a){return(a=
this.ma.widgets[a])?a.appearance===a.Ci()?1:0:0},checkThisBox:function(a,c){_.isUndefined(c)&&(c=!0);var b=this.ma.widgets[a];b&&(c?this.ma.Lb(b.Ci()):this.ma.Xa()===b.Ci()&&this.ma.Lb("Off"),this.ma.Cm())},buttonSetCaption:function(a){this.ma.widgets.forEach(function(c){c.captions.Normal=String(a);c.refresh()})},getArray:function(){var a=[],c=this.ma.Ff().da.qh;this.ma.gD({OB:function(){},tw:function(){},$r:function(b){a.push(new H.Lp(c.Hb(b)))}},this.ma.JS());return a}};Object.defineProperties(H.Lp.prototype,
{name:{get:function(){return this.ma.name},enumerable:!0},doc:{get:function(){return H.BD(this.ma.Ff())},enumerable:!0},value:{get:function(){var c=this.ma.Xa();return"number"===typeof c?c:a(c)&&""!==c?"0"===c?0:new e(c):c||""},set:function(a){this.ma.Lb(a)},enumerable:!0},valueAsString:{get:function(){var a=this.ma.Xa();return a?a.toString():""}},fillColor:{set:function(a){z(this.ma,B(a))},get:function(){return H.ct(this.ma.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(a){this.ma.font.fillColor=
B(a)},get:function(){return H.ct(this.ma.font.fillColor)},enumerable:!0},bgColor:{set:function(a){z(this.ma,B(a))},get:function(){return H.ct(this.ma.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(this.ma.yh()||[]).length},enumerable:!0},charLimit:{set:function(a){a=Number(a);_.isNaN(a)||(this.ma.maxLen=a)},get:function(){return this.ma.maxLen},enumerable:!0},hidden:{set:function(a){this.ma.Tf(!a)},get:function(){return this.ma.widgets[0].hidden},enumerable:!0},display:{set:function(a){a===
C.display.visible||a===C.display.gV?this.ma.Tf(!0):a!==C.display.hidden&&a!==C.display.hV||this.ma.Tf(!1)},get:function(){return this.ma.widgets[0].hidden},enumerable:!0},readonly:{set:function(a){this.ma.flags.set("ReadOnly",a);this.ma.Cm()},get:function(){return this.ma.flags.get("ReadOnly")}},required:{set:function(a){this.ma.flags.set("Required",a);this.ma.Cm()},get:function(){return this.ma.flags.get("Required")}},userName:{set:function(a){this.ma.userName=a;this.ma.Cm()},get:function(){return this.ma.userName},
enumerable:!0},type:{get:function(){switch(this.ma.type){case "Tx":return"text";case "Btn":return this.ma.flags.get("PushButton")?"button":this.ma.flags.get("Radio")?"radiobutton":"checkbox";case "Ch":return this.ma.flags.get("Combo")?"combobox":"listbox";case "Sig":return"signature"}return null},enumerable:!0},currentValueIndices:{get:function(){for(var a=this.ma.yh(),c=this.ma.value,b=0;b<a.length;++b)if(a[b].value===c)return b;return-1},enumerable:!0}});x.prototype={get:function(a){a=this.TE(a);
a=this.iF[a];return _.isUndefined(a)?null:a},set:function(a){this.iF[this.TE(a)]=a}};H.ct=function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]};H.BD=function(a){var c=a.Da().ke(),d={getField:function(a){return(a=c.Hb(a))?new H.Lp(a):null},submitForm:function(c,d,e,f){_.isUndefined(d)&&(d=!0);(new b.Actions.jl({url:c,format:d?"fdf":"xfdf",includeEmpty:!!e,fields:f||[]})).onTriggered(null,null,a)},resetForm:function(c){(new b.Actions.cl({fields:c})).onTriggered(null,null,a)},calculateNow:function(){c.Hq(null)},
getNthFieldName:function(a){var b,d=0;c.oo(function(c){d===a&&(b=c.name);++d});return b}};Object.defineProperties(d,{calculate:{set:function(a){c.np=!!a},get:function(){return c.np},enumerable:!0},numPages:{get:function(){return a.xb()},enumerable:!0},pageNum:{get:function(){return a.$l()-1},set:function(c){a.Ne(c+1)},enumerable:!0},numFields:{get:function(){var a=0;c.oo(function(){++a});return a},enumerable:!0}});return d};y.prototype={Yn:function(){},bp:function(){},fd:function(){this.Ct.forEach(function(a){a()})},
dD:function(a){return a},lD:function(a){return a},ux:function(a){return a},iM:function(a){return a},jM:function(a){return a},hM:function(a){return a},gM:function(a){return a},yp:function(a){var c=null;if(_.isArray(a))c=this.gM(a);else if(_.isNull(a))c=null;else switch(typeof a){case "object":c=this.lD(a);break;case "function":c=this.ux(a);break;case "number":c=this.iM(a);break;case "string":c=this.jM(a);break;case "boolean":c=this.hM(a);break;case "undefined":c=void 0;break;default:console.warn("unrecognised type: "+
typeof a)}return c},wrap:function(a,c){var b=this.hF[a];if(b){var d=b.get(c);if(!_.isNull(d))return d}d=this.vm(a,c);d=this.yp(d);b&&b.set(d);return d},vm:function(a,c){var b=this.hF[a];if(b){var d=b.get(c);if(!_.isNull(d))return d}if(d=this.IO[a])return d=d(c),b&&b.set(d),d;console.warn(a+" is not a valid normalizable embedded JS type",c);return{}},NY:function(a){0<this.cq?this.Ct.push(a):a()},aY:function(){this.cq+=1},uR:function(){--this.cq;if(0===this.cq){var a=this.Ct;this.Ct=[];a.forEach(function(a){a()})}},
fS:function(){return this.lD($.extend({},C))}};H.oZ=C;var Q=eval;F.prototype=$.extend(Object.create(y.prototype),{vq:function(a){a=this.vm("Doc",a);for(var c=Object.keys(a),d=0;d<c.length;++d){var e=c[d];Object.defineProperty(b,e,Object.getOwnPropertyDescriptor(a,e))}},Yn:function(a){return function(c){I=c;Q("with(_PDFTRON_JS_API){"+a+"\n}");I=null}},bp:function(a,c,d){b.event=c;this.sl||(this.vq(d),this.sl=!0);var e=D;D=d;try{a(this.wrap("Event",c),this.wrap("Doc",d))}catch(f){console.warn("Embedded JS error encountered: "+
f+" "+a.qm)}D=e}});(function(){y.call(this);this.ei=continuum.x_();this.sl=!1;for(var a=Object.keys(C),c=0;c<a.length;++c)this.ei.global.HD(a[c],this.yp(C[a[c]]))}).prototype=$.extend(Object.create(y.prototype),{Yn:function(a){return continuum.y_(a)},vq:function(a){a=this.vm("Doc",a);for(var c=Object.keys(a),b=0;b<c.length;++b)this.ei.global.HD(c[b],this.yp(a[c[b]]))},bp:function(a,c,b){this.sl||(this.vq(b),this.sl=!0);c=this.vm("Event",c);b=this.yp(c);this.ei.global.HD("event",b);I=c;this.ei.evaluate(a);
I=null},dD:function(a){var c=this;if(_.isObject(a)){if(a.yP)return a.yP.map(function(a){return c.dD(a)});console.warn("object argument: ",a)}return a},ux:function(a){var c=this;return continuum.zz(function(){var b=Array.prototype.map.call(arguments,function(a){return c.dD(a)});return c.yp(a.apply(null,b))})},iM:function(a){return this.ei.evaluate(JSON.stringify(a))},jM:function(a){return this.ei.evaluate(JSON.stringify(a))},hM:function(a){return this.ei.evaluate(JSON.stringify(a))},gM:function(a){var c=
this.ei.evaluate("new Array()");console.warn("array:",c);return a},lD:function(a){for(var c=this.ei.evaluate("Object.create(null)"),b=Object.keys(a),d=b.length,e=0;e<d;++e){var f=b[e],g=Object.getOwnPropertyDescriptor(a,f),m={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||(m.Value=this.yp(g.value));_.isUndefined(g.set)||(m.Set=this.ux(g.set));_.isUndefined(g.get)||(m.Get=this.ux(g.get));c.kZ(f,m)}return c}});var T=!0;b.o.JQ=function(){T=!1};b.Annotations.O.Nx={update:function(a){f=
a},Bi:b.Annotations.O.vb.Events.Bi};K.prototype=$.extend(Object.create(y.prototype),{Yn:function(a){if(T)try{var c=this.On.__add_action(a);c.qm=a;return c}catch(b){console.warn("Failed to compile embedded JS script")}},vq:function(a){a=this.vm("Doc",a);for(var c=Object.keys(a),b=0;b<c.length;++b){var d=c[b];Object.defineProperty(this.On,d,Object.getOwnPropertyDescriptor(a,d))}},fd:function(){y.prototype.fd.call(this);this.kq&&this.kq.remove()},bp:function(a,c,b){if(T){this.sl||(this.vq(b),this.sl=
!0);var d=D;D=b;c=this.vm("Event",c);this.On.event=c;b=I;I=c;try{a()}catch(e){console.warn("Embedded JS error encountered: ",e,a&&a.qm)}I=b;D=d}}});H.hZ=F;H.mQ=function(){return new K}})(window);(function(b){if(b&&b.Worker){var f=b.Worker;b.rj=b.rj||[];b.rj.ML||(b.rj.ML=function(){for(var e=b.rj.length-1;0<=e;e--)b.rj[e].terminate(),delete b.rj[e]});b.Worker.isFake||(b.Worker=function(e){e=new f(e);b.rj.push(e);return e},b.WM=function(b){return b instanceof f},b.Worker.isFake=!0)}})(window);
window.addEventListener("unload",function(){window.rj&&window.rj.ML()});
(function(b){b.Xg=b.Xg||{};var f=b.Xg;f.Gs=function(b){var c=Object.getOwnPropertyNames(b).reduce(function(a,c){a[c]=Object.getOwnPropertyDescriptor(b,c);return a},{});Object.defineProperties(this,c);var a=Object.getPrototypeOf(b),c=Object.getOwnPropertyNames(a).reduce(function(c,b){c[b]=Object.getOwnPropertyDescriptor(a,b);return c},{});Object.defineProperties(this,c)};f.fD=function(b){var c=this;b.forEach(function(a){f.Gs.call(c,a)})}})(window);
(function(b){(b.Xg||{}).Vk=function(){var b="solid";Object.defineProperties(this,{PN:{get:function(){return b},set:function(e){b=e;this.lb()}}})}})(window);
(function(b){b.Annotations=b.Annotations||{};var f=b.Annotations,e=f.ja||{};f.Annotation=function(){this.Subject="Annotation";this.iE=1;this.aq=this.bq=this.zt=this.yt=0;this.ZD=void 0;this.NoRotate=this.NoZoom=this.yZ=this.xZ=!1;this.Printable=!0;this.Hj=new f.Color(0,0,0);this.rE=void 0;this.uy=new Date;this.SE=e.uT();this.By=!0;this.WE=this.wl=!1;this.rF=Promise.resolve();this.YE=!0;this.Cl=[];this.zf=this.bh=null;this.eE=this.fE=!1};f.Annotation.prototype={elementName:"annotation",selectionModel:f.dt,
II:!1,kI:function(){return null},draw:function(){},render:function(){},px:function(){},rk:function(){return!1},fJ:function(){return!1},pm:function(){return!this.Hidden&&!this.NoView&&!this.Qi()},jL:function(c){var a=new f.Rect(c.x1,c.y1,c.x2,c.y2);0>a.Aa()&&(c=a.x1,a.x1=a.x2,a.x2=c);0>a.ya()&&(c=a.y1,a.y1=a.y2,a.y2=c);this.X=a.x1;this.Y=a.y1;this.Width=a.Aa();this.Height=a.ya()},Fg:function(c){var a=this.Gc();c=new f.Rect(c.x1,c.y1,c.x2,c.y2);0>c.Aa()&&(c.x1=a.x1,c.x2=a.x2);0>c.ya()&&(c.y1=a.y1,c.y2=
a.y2);this.X=c.x1;this.Y=c.y1;this.Width=c.Aa();this.Height=c.ya()},adjustRect:function(){},resize:function(c){this.Fg(c)},Hi:function(){return this.X},rL:function(c){this.X=parseFloat(c)},Ii:function(){return this.Y},sL:function(c){this.Y=parseFloat(c)},Aa:function(){return this.Width},NC:function(c){this.Width=parseFloat(c)},ya:function(){return this.Height},jp:function(c){this.Height=parseFloat(c)},Gc:function(){return new f.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},
sb:function(){return this.PageNumber},rb:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},eL:function(c){this.PageNumber=parseInt(c,10)},tv:function(){return this.Hi()},qI:function(){return this.tv()+this.Width},Gv:function(){return this.Ii()},EH:function(){return this.Gv()+this.Height},VR:function(){return this.Custom},KW:function(c){this.Custom=c},rh:function(){return this.GV},Nh:function(c){this.GV=c;this.lb(!(this instanceof f.Ha))},wq:function(c){if(c.Id)for(var a=
0;a<this.Cl.length;++a)if(this.Cl[a].Id===c.Id)return;this.Cl.push(c)},Fz:function(c){c=this.Cl.indexOf(c);-1<c&&this.Cl.splice(c,1)},zv:function(){return this.Cl.filter(function(c){return"group"!==c.ReplyType})},nr:function(){return this.Cl.filter(function(c){return"group"===c.ReplyType})},Qi:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))&&"group"!==this.ReplyType},eJ:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))&&"group"===this.ReplyType},
Sw:function(){return this.rF},og:function(){var c=this.appearances&&this.appearances._DEFAULT;return c&&c.Normal},lb:function(c){this.isImporting||(this.uy=new Date,c||delete this.appearances);this.By||(this.wl=!0)},cS:function(){var c=[];this.Invisible&&c.push("invisible");this.Hidden&&c.push("hidden");this.Printable&&c.push("print");this.NoZoom&&c.push("nozoom");this.NoRotate&&c.push("norotate");this.NoView&&c.push("noview");this.ReadOnly&&c.push("readonly");this.Locked&&c.push("locked");this.ToggleNoView&&
c.push("togglenoview");this.LockedContents&&c.push("lockedcontents");return 0<c.length?c.join(","):null},VW:function(c){this.DO=c},ZH:function(){return this.DO},serialize:function(c,a){var d=f.ca,e=this.Gc();this.vw&&this.vw.isEqual(e)?e=this.ww:(e.kH(),this.ww&&(delete this.ww,delete this.vw),e=d.yC(e,a));var e={page:this.rb(),rect:e},m=d.Dg(this.Color);null!==m&&(e.color=m);(m=this.cS())&&(e.flags=m);!this.CT&&this.Id&&(e.name=this.Id);this.Author&&(e.title=this.Author);this.Subject&&(e.subject=
this.Subject);(m=this.Rotation)&&0!==m&&(e.rotation=m);if(m=this.DateModified){var h;this.SB&&(m.getTime()===this.PJ?h=this.SB:(delete this.SB,delete this.PJ));h||(h=d.$C(m));e.date=h}for(var k in e)c.setAttribute(k,e[k]);k=this.rh();k===this.NJ?(this.QJ&&(h=document.createElementNS("","contents-richtext"),d=document.createElementNS("",d.bW),c.mH=this.QJ,h.appendChild(d),c.appendChild(h)),this.UB&&(h=document.createElementNS("","contents"),h.textContent=this.UB,c.appendChild(h))):(delete this.NJ,
delete this.UB,h=document.createElementNS("","contents"),h.textContent=k,c.appendChild(h));(d=this.appearances)&&b.pf.kM(new b.SD(c),d,a);return c},li:function(c){return(c=c.nodeName)&&this.elementName?c.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(c,a){var d=f.ca,e=c.getAttribute("page"),e=parseInt(e,10);this.PageNumber=e+1;this.ww=e=c.getAttribute("rect")||"0,0,100,100";e=d.Su(e,a);e.normalize();this.Fg(e);e=c.getAttribute("name");this.CT=!e;this.Id=e;this.Author=c.getAttribute("title");
this.Subject=c.getAttribute("subject");e=(c.getAttribute("flags")||"").split(",");this.Invisible=-1!==e.indexOf("invisible");this.Hidden=-1!==e.indexOf("hidden");this.Printable=-1!==e.indexOf("print");this.NoZoom=-1!==e.indexOf("nozoom");this.NoRotate=-1!==e.indexOf("norotate");this.NoView=-1!==e.indexOf("noview");this.ReadOnly=-1!==e.indexOf("readonly");this.Locked=-1!==e.indexOf("locked");this.ToggleNoView=-1!==e.indexOf("togglenoview");this.LockedContents=-1!==e.indexOf("lockedcontents");e=d.ek(c.getAttribute("color"));
this.Color=null!==e?e:new f.Color(0,0,0,0);(e=c.getAttribute("rotation"))&&(this.Rotation=e);(e=c.getAttribute("date"))?(this.SB=e,d=d.Iz(e),this.PJ=d.getTime(),this.DateModified=d):this.DateModified=null;var d=c.getElementsByTagName("contents-richtext"),e="",m=c.getElementsByTagName("contents"),h=c.getElementsByTagName("apref"),k;if(0<m.length)this.UB=e=m[0].textContent;else if(0<d.length)if(k=d[0].getElementsByTagName("body"),0<k.length)if(m=k[0].getElementsByTagName("span"),0<m.length)for(k=0;k<
m.length;++k)e+=m[k].textContent;else e=k[0].textContent;else e=d[0].textContent;0<d.length&&(this.QJ=d[0].qV);for(k=0;k<h.length;++k)b.pf.RD.XO(new b.Ve(h[k]),this,a);this.NJ=e;this.Nh(e)},Rh:function(c){var a={x:this.X,y:this.Y},b={x:a.x+this.Width,y:a.y+this.Height},a=c.W(a),b=c.W(b);this.jL({x1:a.x,y1:a.y,x2:b.x,y2:b.y})},mj:function(c,a){var b=c.getAttribute(a);_.isUndefined(b)||_.isNull(b)||(this[a]=b)},us:function(c,a){var b=c.getAttribute(a);_.isUndefined(b)||_.isNull(b)||(this[a]=Number(b))},
zb:function(c,a,b){var e=this[a];_.isUndefined(e)||_.isNull(e)||e===b||c.setAttribute(a,e)},Jk:function(){return!1},ix:function(){this.ww&&!this.vw&&(this.vw=this.Gc())}};f.Annotation.prototype=$.extend(Object.create(b.utils.eventHandler),f.Annotation.prototype);Object.defineProperties(f.Annotation.prototype,{X:{get:function(){return this.yt},set:function(c){this.yt=parseFloat(c);this.lb(!0);(c=this.og())&&c.offset&&(c.offset.x=this.yt)}},Y:{get:function(){return this.zt},set:function(c){this.zt=
parseFloat(c);this.lb(!0);(c=this.og())&&c.offset&&(c.offset.y=this.zt)}},Width:{get:function(){return this.bq},set:function(c){c=parseFloat(c);window.utils.fCmp(this.bq,c)||(this.bq=c,this.lb())}},Height:{get:function(){return this.aq},set:function(c){c=parseFloat(c);window.utils.fCmp(this.aq,c)||(this.aq=c,this.lb())}},NoMove:{get:function(){return this.gE},set:function(c){this.gE=!0===c||"true"===c}},NoResize:{get:function(){return this.hE},set:function(c){this.hE=!0===c||"true"===c}},PageNumber:{get:function(){return this.iE},
set:function(c){this.iE=parseInt(c,10)}},DateModified:{get:function(){return this.uy},set:function(c){this.uy=e.OH(c)}},Id:{get:function(){return this.SE},set:function(c){this.SE=c}},Author:{get:function(){return this.rE},set:function(c){this.rE=c}},IsAdded:{get:function(){return this.By},set:function(c){this.By=c}},IsModified:{get:function(){return this.wl},set:function(c){this.wl=c}},IsDeleted:{get:function(){return this.WE},set:function(c){this.WE=c}},Custom:{get:function(){return this.ZD},set:function(c){this.ZD=
c}},Listable:{get:function(){return this.YE},set:function(c){this.YE=!!c}},Color:{get:function(){return this.Hj},set:function(c){c instanceof f.Color&&(this.Hj=c,this.lb())}},MaintainAspectRatio:{get:function(){return this.fE},set:function(c){this.fE=c}},IsClickableOutsideRect:{get:function(){return this.eE},set:function(c){this.eE=c}}})})(window);
(function(b){var f=b.Annotations||{};f.Cp=function(b){this.fq=new f.Color;this.El=this.tl=this.Nn=0;this.yf=null;this.set(b)};f.Cp.prototype={set:function(b){b instanceof f.Cp?(this.fq=new f.Color(b.fq),this.Nn=b.Nn,this.tl=b.tl,this.El=b.El,this.yf=b.yf):_.isArray(b)?3===b.length||4===b.length?(_.isUndefined(b[0])||(this.tl=Number(b[0])),_.isUndefined(b[1])||(this.El=Number(b[1])),_.isUndefined(b[2])||(this.Nn=Number(b[2])),4===b.length&&_.isArray(b[3])&&console.warn("dashed borders are currently unsupported")):
console.warn("Invalid border specification ",b," should be 3 or 4 elements long"):_.isObject(b)&&(_.isArray(b.border)&&this.set(b.border),_.isUndefined(b.color)||(this.fq=new f.Color(b.color)),_.isUndefined(b.width)||(this.Nn=Number(b.width)),_.isUndefined(b.cornerRadius)?_.isArray(b.cornerRadius)&&(this.tl=b.cornerRadius[0]||0,this.El=b.cornerRadius[1]||0):this.El=this.tl=Number(b.cornerRadius),_.isString(b.style)&&(this.yf=b.style))},serialize:function(b){var c=f.ca;this.hO&&b.setAttribute("width",
this.hO);this.yf&&b.setAttribute("style",this.yf);var a=this.color;b.setAttribute("BC",[a.R/255,a.G/255,a.B/255].map(c.toFixed).join(","))},deserialize:function(b){var c=f.ca,a={};c.getAttribute(b,"width")?a.width=parseInt(c.getAttribute(b,"width"),10):a.width=1;c.getAttribute(b,"style")&&(a.style=c.getAttribute(b,"style"),"beveled"===a.style&&(a.style="bevelled"));c.getAttribute(b,"BC")&&(a.color=c.getAttribute(b,"BC").split(",").map(Number));this.set(a)},ZC:function(b){var c=_.isNull(this.yf)?"solid":
this.yf;b*=this.Nn;var a=this.tl.toFixed(6)+"px "+this.El.toFixed(6)+"px",d={};"underline"===c?(d["border-bottom-style"]="solid",d["border-top-style"]="hidden",d["border-left-style"]="hidden",d["border-right-style"]="hidden"):(c={solid:"solid",bevelled:"outset",inset:"inset"}[c],_.isUndefined(c)&&(c="solid"),d["border-style"]=c);d["border-color"]=this.fq.toString();d["border-width"]=b;d["border-top-left-radius"]=a;d["border-top-right-radius"]=a;d["border-bottom-left-radius"]=a;d["border-bottom-right-radius"]=
a;return d}};Object.defineProperties(f.Cp.prototype,{color:{get:function(){return this.fq},set:function(b){this.set({color:b})}},width:{get:function(){return this.Nn},set:function(b){this.set({width:b})}},style:{get:function(){return this.yf},set:function(b){this.set({style:b})}},cornerRadius:{get:function(){return[this.tl,this.El]},set:function(b){this.set({cornerRadius:b})}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.Ug=function(c){this.ql=this.Ac="";this._size=0;this.Jt=new f.Color([0,0,0]);this.Dl=new f.Color([0,0,0]);this.qu="Type1";this.Kj=0;this.gF=4;this.eF=12;this.set(c)};f.Ug.prototype={set:function(c){_.isObject(c)?(c.name&&(this.Ac=String(c.name),this.ql=f.ca.bs(this.Ac),this.ty=f.ca.XJ(this.Ac),this.zE=f.ca.WJ(this.Ac)),c.size&&(this._size=Number(c.size)),c.fillColor&&(this.Jt=new f.Color(c.fillColor)),c.strokeColor&&(this.Dl=new f.Color(c.strokeColor)),
c.type&&(this.qu=c.type)):_.isString(c)&&(this.Ac=c,this.ql=f.ca.bs(this.Ac),this.ty=f.ca.XJ(this.Ac),this.zE=f.ca.WJ(this.Ac))},vR:function(c,a,b){if(0===this._size){var f=a.Hv(1);if(0===c.replace(/\s/g,"").length)return this.Kj=Math.min(f/2,this.eF);var m=20;b?(m=f*e.Yk,a.element?(a=a.element[0].cloneNode(!0),f=document.getElementsByTagName("body")[0],f.appendChild(a),m=e.rH(c,a.children[0],m)/e.Yk,f.removeChild(a)):m/=2):(a=.95*a.$A(1),f*=.95,c=e.measureText(c,m,this.ql?this.ql:void 0,this.ty),
m*=Math.min(a/c.width,f/c.height));return this.Kj=Math.max(this.gF,Math.min(m,this.eF))}},deserialize:function(c,a){var b=f.ca;if(b.getAttribute(c,"FontName")){var e=b.getAttribute(c,"FontName");this.Ac=e;this.ql=f.ca.bs(e)}if(b.getAttribute(c,"FontSize")){var e=parseFloat(b.getAttribute(c,"FontSize")),b=a.W({x:0,y:0}),m=a.W({x:e,y:0}),e=b.x-m.x,b=b.y-m.y;this._size=Math.sqrt(e*e+b*b)}},im:function(){return this.Jt.im()&&this.Dl.im()},ZC:function(c){var a={};""!==this.ql&&(a["font-family"]=this.ql,
a["font-weight"]=this.ty,a["font-style"]=this.zE);a["font-size"]=0===this._size&&0!==this.Kj?String(this.Kj*c)+"px":String(this._size*c)+"px";a.color=this.Jt.toString();3>parseFloat(a["font-size"])&&(a["font-size"]="3px");return a}};Object.defineProperties(f.Ug.prototype,{name:{get:function(){return this.Ac},set:function(c){this.set({name:c})}},size:{get:function(){return this._size},set:function(c){this.set({size:c})}},type:{get:function(){return this.qu}},strokeColor:{get:function(){return this.Dl},
set:function(c){this.set({strokeColor:c})}},fillColor:{get:function(){return this.Jt},set:function(c){this.set({fillColor:c})}},calculatedSize:{get:function(){return 0===this._size?this.Kj:this._size}}})})(window);
(function(b){var f=b.Annotations||{};f.HTMLAnnotation=function(e){f.Annotation.call(this);b.Actions.Vh.call(this,e);this.Dl=new f.Color(0,0,0,1);this.Dt=new f.Color;this.Et=new f.Cp;this.Ot=!1;this.Qy=0;this.Ae=this.fg=null;this.on("contentRemoved",function(){this.Ae=this.fg=null;this.oy=!1});this.pu=!0;_.isObject(e)&&(_.isUndefined(e.border)||this.Et.set(e.border),_.isUndefined(e.backgroundColor)||(this.Dt=new f.Color(e.backgroundColor)),_.isUndefined(e.color)||(this.Dl=new f.Color(e.color)),_.isUndefined(e.rect)||
(this.rect=new f.Rect(e.rect)));var c=this.yr(),a=this;Object.keys(c).forEach(function(b){var e=c[b];$(a).on(e.internal_name,function(c){a.Pe(b,e.getEvent(a,c))})})};f.HTMLAnnotation.prototype={fk:"",$A:function(b){return(this.Aa()-(this.pu?2*this.border.width:0))*b},Hv:function(b){return(this.ya()-(this.pu?2*this.border.width:0))*b},BL:function(b){this.pu=!!b},serialize:function(){this.Hidden=this.hidden;f.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){f.Annotation.prototype.deserialize.apply(this,
arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},yr:function(){return{}},ii:function(){},oe:function(e){var c=this.Qy,a=b.utils.getRotationOffsets(c,this.Aa(),this.ya()),d=a.dx*e,a=a.dy*e;return $.extend({left:this.X*e,top:this.Y*e,width:this.$A(e),height:this.Hv(e),position:"absolute",padding:"0",margin:"0","background-color":this.Dt.toString(),"z-index":"35",display:this.Ot?"none":"",transform:"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","transform-origin":"top left","-webkit-transform":"translate("+
d+"px,"+a+"px) rotate("+-c+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+d+"px,"+a+"px) rotate("+-c+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.pu?this.Et.ZC(e):{})},Fc:function(b){if(!b)throw Error("no zoom?");return{position:"absolute","font-size":"inherit","font-family":"inherit","font-weight":"inherit","font-style":"inherit",color:"inherit",
width:this.$A(b),height:this.Hv(b),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},Fq:function(b,c){for(var a in c){var d=c[a];"number"===typeof d&&(d+="px");b.style[a]=d}},Tf:function(b){this.Ot=!b;this.fg&&(this.fg[0].style.display=this.Ot?"none":"")},createInnerElement:function(){console.warn("missing inner element");return null},YH:function(){return this.Ae},QH:function(){return this.fg},render:function(b,c,a,d){if(!this.fg){var f=document.createElement("div");
f.className=this.fk;this.fg=$(f)}var f=d?$(this.fg[0].cloneNode()):this.fg,m=this.oe(a,c),h=JSON.stringify(m);h!==f.wB&&(f.css(m),f.wB=h);if(this.Ae=this.Ae||this.createInnerElement(c)){var k=d?$(this.Ae[0].cloneNode(!0)):this.Ae;k!==this.Ae&&(this.refresh&&this.refresh(),k[0].value=this.Ae[0].value,this.Ae[0].checked&&(k[0].checked=!0));document.activeElement===k[0]&&k.trigger("focusout");a=this.Fc(a);h=JSON.stringify(a);h!==k.wB&&(this.Fq(k[0],a),k.wB=h);this.oy||(this.ii(c),this.oy=!0)}if(this.fg[0].parentNode!==
b[0])for(b[0].appendChild(f[0]),b=0;b<this.Ae.length;++b)c=0===b?k[0]:d?this.Ae[b].cloneNode(!0):this.Ae[b],f[0].appendChild(c)},px:function(){this.fg&&(this.fg.remove(),this.oy=!1)}};f.HTMLAnnotation.prototype=$.extend(Object.create(f.Annotation.prototype),f.HTMLAnnotation.prototype,b.Actions.Vh.prototype);Object.defineProperties(f.HTMLAnnotation.prototype,{rect:{get:function(){return this.Gc()},set:function(b){this.Fg(b)}},element:{get:function(){return this.QH()}},innerElement:{get:function(){return this.YH()}},
hidden:{get:function(){return this.Ot},set:function(b){this.Tf(!b)}},StrokeColor:{get:function(){return this.Dl},set:function(b){this.Dl=new f.Color(b)}},border:{get:function(){return this.Et},set:function(b){this.Et.set(b)}},backgroundColor:{get:function(){return this.Dt},set:function(b){this.Dt=new f.Color(b)}},actions:{get:function(){return this.hk()}},rotation:{get:function(){return this.Qy},set:function(b){this.Qy=Number(b)}}})})(window);
(function(b){var f=b.Annotations||{};f.zd=function(b){f.HTMLAnnotation.call(this,b);this.Listable=!1};f.zd.prototype=Object.create(f.HTMLAnnotation.prototype);f.zd.prototype.elementName="link";f.zd.prototype.createInnerElement=function(){var b=document.createElement("span");b.className="link";b.setAttribute("tabindex",0);return $(b)};f.zd.prototype.ii=function(){f.HTMLAnnotation.prototype.ii.apply(this,arguments);var b=this;this.innerElement.on("tap",function(){b.trigger("mouseup")})};f.zd.prototype.fJ=
function(){return!0};f.zd.prototype.yr=function(){var e=b.Annotations.O.vb.Events;return $.extend(f.HTMLAnnotation.prototype.yr.call(this),{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return e.zd.create("Mouse Up")}}})};f.zd.prototype.oe=function(b,c){var a=f.HTMLAnnotation.prototype.oe.apply(this,arguments),d={};if(this.StrokeThickness&&this.StrokeColor){var g=this.StrokeStyle,m="border";"underline"===g&&(m="border-bottom");"solid"!==g&&"dashed"!==g&&"inset"!==g&&(g="solid");var h=
c.u.jc(this.rb());d[m]=f.ja.Eq(h,this.StrokeThickness)*b+"px "+g+" "+this.StrokeColor.toHexString()}return $.extend(a,d)};f.zd.prototype.deserialize=function(b,c,a){f.HTMLAnnotation.prototype.deserialize.call(this,b,c,a);var d=f.ca.ek(b.getAttribute("color"));d&&(this.StrokeColor=d);d=b.getAttribute("width");"undefined"!==typeof d&&null!==d&&(this.StrokeThickness=parseFloat(d));d=b.getAttribute("style");"undefined"!==typeof d&&null!==d&&(this.StrokeStyle=d);this.FF(b,c,a)};f.zd.prototype.serialize=
function(b,c){f.HTMLAnnotation.prototype.serialize.call(this,b,c);this.StrokeColor&&b.setAttribute("color",this.StrokeColor.toHexString());"undefined"!==typeof this.StrokeThickness&&null!==this.StrokeThickness&&b.setAttribute("width",this.StrokeThickness);this.StrokeStyle&&b.setAttribute("style",this.StrokeStyle);this.sW(b,c);return b}})(window);
(function(b){var f=b.Annotations||{};f.al=function(){f.Annotation.call(this);this._isOpen=!1;this.Id=null;this.NoRotate=this.NoZoom=this.Printable=!0;this.DateModified=null};f.al.prototype={elementName:"popup",isOpen:function(){return this._isOpen},dL:function(b){this._isOpen=b},serialize:function(b){b=f.Annotation.prototype.serialize.apply(this,arguments);this.isOpen()&&b.setAttribute("open","yes");return b},deserialize:function(b){this.Printable=!1;f.Annotation.prototype.deserialize.apply(this,
arguments);var c=b.getAttribute("open");this.dL(c&&"yes"===c)}};f.al.prototype=$.extend(new f.Annotation,f.al.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.WidgetAnnotation=function(c,a){f.HTMLAnnotation.call(this,a);if(!c)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Ia=c;this.wn=null;c.kP(this,a?a.index:void 0);this.IsAdded=!1;this.jZ=new Date;this.nF="Left-justified";this.Listable=!1;this.pE="";this.ny={};this.tE={Normal:"",Rollover:"",Down:""};this.Gt=!1;this.oc=new f.Fj({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});
this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(a);var b=this;this.on("commit",_.bind(this.wz,this));this.on("change",function(a,c){b.WK();b.Sf(c);b.trigger("commit")});this.on("blur",function(){b.fieldFlags.get("ReadOnly")||b.Lb(b.Ia.value);b.refresh()});this.on("focus",function(){b.fieldFlags.get("ReadOnly")||b.Sf(b.Ia.value);b.refresh()})};f.WidgetAnnotation.prototype={elementName:"widget",Pm:null,li:function(c){if(!f.Annotation.prototype.li.call(this,c)||!this.Pm)return!1;c=
f.ca.getAttribute(c,"FT");return this.Pm===c},Ci:function(){for(var c="",a=Object.keys(this.appearances),b=0;b<a.length;++b){var e=a[b];if("Off"!==e){c=e;break}}return c},tg:function(c){this.Sf(c)},WK:function(){this.Gt=!0},set:function(c){if(_.isObject(c)){_.isUndefined(c.value)||(this.value=String(c.value));_.isUndefined(c.flags)||(this.oc.set(c.flags),this.oc.get("Hidden")&&this.Tf(!1),this.oc.get("NoView")&&this.Tf(!1));if(!_.isUndefined(c.captions)){var a=c.captions,b=this.tE;Object.keys(a).forEach(function(c){b[c]=
a[c]})}_.isUndefined(c.page)||(this.PageNumber=c.page);_.isUndefined(c.quadding)||(this.quadding=c.quadding);_.isUndefined(c.appearances)||(this.ny=c.appearances);_.isUndefined(c.appearance)||(this.appearance=c.appearance);_.isUndefined(c.rotation)||(this.rotation=c.rotation);_.isUndefined(c.font)||(this.font=c.font)}},oe:function(c){var a=f.HTMLAnnotation.prototype.oe.apply(this,arguments),a=$.extend(a,this.font.ZC(c));this.fieldFlags.get("Required")?a.border=1.5*c+"px solid red":a["border-width"]||
(a["border-width"]=0);return $.extend(a,this.TR())},Fc:function(){var c=f.HTMLAnnotation.prototype.Fc.apply(this,arguments);return $.extend(c,{"text-align":{"Left-justified":"left",Centered:"center","Right-justified":"right"}[this.quadding]})},TR:function(){var c=f.WidgetAnnotation.getContainerCustomStyles;return c&&c(this)},bm:function(){var c=f.WidgetAnnotation.getCustomStyles;return c&&c(this)},PF:function(){function c(a){a.scale&&1!==a.scale&&a.preventDefault();a.stopPropagation()}var a=this.Ae[0];
a.addEventListener("touchstart",c,{es:!1});a.addEventListener("touchmove",c,{es:!1});a.addEventListener("touchend",c,{es:!1});a.addEventListener("mousedown",c,{es:!1});a.addEventListener("mousemove",c,{es:!1});a.addEventListener("mouseup",c,{es:!1})},rk:function(){return!0},Xa:function(){return this._value},Lb:function(c){c=b.Annotations.O.vb.Events.ha.create("Format",this.Ia,{value:c});this.Ia.Pe("F",c);this.Sf(c.value)},Tf:function(c){this.oc.set("Hidden",!c);f.HTMLAnnotation.prototype.Tf.call(this,
c)},render:function(c,a,b,g){if(!g){e.Yk=b;var m=!1;this.innerElement&&this.element||(m=!0)}f.HTMLAnnotation.prototype.render.apply(this,arguments);m&&!g&&(this.element.attr("id",this.Ia.name),this.refresh())},Sf:function(c){this._value=c;this.refresh()},refresh:function(){var c=this.fieldFlags.get("Multiline"),a=this._value?String(this._value):"";this instanceof f.Uh||this.font.vR(a,this,c);if(c=this.element)if(c[0].setAttribute("id",this.Ia.name),a=this.oe(e.Yk),this.Fq(c[0],a),c=this.innerElement)a=
this.Ia.userName||this.Ia.tooltipName,this.Ia&&a&&c[0].setAttribute("title",a),a=this.Fc(e.Yk),this.Fq(c[0],a)},Fi:function(){return null},deserialize:function(c,a,b){f.HTMLAnnotation.prototype.deserialize.call(this,c,a);var e=f.ca;this.Ia.nL(e.getAttribute(c,"FT"));e.getAttribute(c,"creationdate")?this.DateCreated=e.Iz(e.getAttribute(c,"creationdate")):this.DateCreated=null;this.border.deserialize(c);this.fieldFlags.deserialize(c);this.font.deserialize(c,a);var m=e.po(c,"V","value");this.tg(m);this.Ia.tg(m);
this.defaultValue=e.po(c,"DV","defaultvalue");m=e.po(c,"defaultappearance","defaultappearance");m=e.ZB(m);e.getAttribute(c,"color")?this.StrokeColor=e.getAttribute(c,"color").split(","):m.color&&(this.StrokeColor=m.color);e.getAttribute(c,"BG")&&(this.backgroundColor=e.getAttribute(c,"BG").split(","));this.rotation=e=(e=e.getAttribute(c,"rotation"))?parseInt(e,10):0;if(90===e||270===e)e=this.Width,this.Width=this.Height,this.Height=e;this.FF(c,a,b)},serialize:function(){},Hb:function(){return this.Ia},
ZK:function(c){this.Ia=c;this.Sf(this.Ia.value)},Eg:function(c){f.HTMLAnnotation.prototype.Eg.call(this,c);this.Ia&&this.Ia.Eg(c)},aP:function(c,a){this.Ia.Vj(c,a)},Vj:function(c,a){-1!==["K","V","F","C"].indexOf(c)?this.aP(c,a):f.HTMLAnnotation.prototype.Vj.call(this,c,a)},wz:function(){this.Ia.trigger("commit",this.Xa(),this)},yr:function(){var c=b.Annotations.O.vb.Events,a=this;return $.extend(f.HTMLAnnotation.prototype.yr.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return c.ha.create("Mouse Enter",
a.Hb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return c.ha.create("Mouse Leave",a.Hb())}},D:{triggers:"mousedown",internal_name:"mousedown",getEvent:function(){return c.ha.create("Mouse Down",a.Hb())}},U:{triggers:b.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return c.ha.create("Mouse Up",a.Hb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var b=a.Hb();return c.ha.create("Blur",b,{value:b.value})}},
Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return c.ha.create("Focus",a.Hb())}}})},xT:function(){return!!this.wn},ii:function(){f.HTMLAnnotation.prototype.ii.apply(this,arguments);var c=this,a=this.innerElement;a&&(a.on("focusout",function(){c.Gt&&(c.Gt=!1,c.trigger("commit"));c.trigger("blur")}),a.on("focusin",function(){c.trigger("focus")}),a.on("mouseenter",function(){c.trigger("mouseenter")}),a.on("mouseleave",function(){c.trigger("mouseleave")}),a.on("mousedown",function(){c.trigger("mousedown")}),
a.on(c.cM?"click":b.utils.mouseUpEventBug?"touchend":"mouseup",function(){c.trigger("mouseup")}))}};f.WidgetAnnotation.prototype=$.extend(Object.create(f.HTMLAnnotation.prototype),f.WidgetAnnotation.prototype);Object.defineProperties(f.WidgetAnnotation.prototype,{fieldName:{get:function(){return this.Ia.name}},value:{get:function(){return this.Xa()},set:function(c){this.Lb(c)}},defaultValue:{get:function(){return this.Ia.defaultValue},set:function(c){this.Ia.defaultValue=c}},fieldFlags:{get:function(){return this.Ia.flags}},
flags:{get:function(){return this.oc}},font:{get:function(){return this.wn||this.Ia.font},set:function(c){this.wn=new b.Annotations.Ug(c)}},fieldActions:{get:function(){return this.Ia.actions}},appearance:{get:function(){return this.pE},set:function(c){this.ny[c]?this.pE=c:console.log("Unknown appearance: "+c)}},quadding:{get:function(){return this.nF},set:function(c){this.nF=c}},appearances:{get:function(){return this.ny}},captions:{get:function(){return this.tE}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.vc=function(c,a){f.WidgetAnnotation.call(this,c,a)};f.vc.prototype={Pm:"Btn",Du:null,li:function(c){if(f.WidgetAnnotation.prototype.li.call(this,c)){var a=new f.Fj({mask:["PushButton","Radio"]}),b="C";a.deserialize(c);a.get("PushButton")?b="P":a.get("Radio")&&(b="R");return b===this.Du}return!1},KK:function(c){if(b.utils.isSafari&&!b.utils.isIOS||b.utils.isFirefox)16>c.height||16>c.width?(c.transform="scale("+Math.min(c.height,c.width)/16+")",c.transformOrigin=
"top left"):(c.transform="",c.transformOrigin="")},Kk:function(c){var a=!!this.fieldFlags.get("ReadOnly");c.disabled=a}};f.vc.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.vc.prototype);f.zj=function(c,a){f.vc.call(this,c,a)};f.zj.prototype={Du:"P",fk:"pButton",Fc:function(){return $.extend(f.vc.prototype.Fc.apply(this,arguments),{"background-color":"transparent"},this.bm())},deserialize:function(c,a,b){var e=f.ca;f.vc.prototype.deserialize.call(this,c,a,b);(c=e.getAttribute(c,
"ButtonLabel"))&&(this.captions.Normal=c)},Fi:function(){return null},createInnerElement:function(){var c=document.createElement("button");c.setAttribute("tabindex",0);$(c).append(this.captions.Normal);this.Kk(c);return $(c)}};f.zj.prototype=$.extend(!0,Object.create(f.vc.prototype),f.zj.prototype);f.Uh=function(c,a){f.vc.call(this,c,a);this.BL(!1);var b=this;this.cM=!0;this.on("click",function(){"Off"===this.Xa()?b.trigger("change",b.Ci()):b.trigger("change","Off")})};f.Uh.prototype={Du:"C",fk:"checkBox",
refresh:function(){f.WidgetAnnotation.prototype.refresh.call(this);var c=this.innerElement;c&&(c.prop("checked",this.Xa()===this.Ci()),c.css(this.Fc(e.Yk)),this.Kk(c[0]))},Sf:function(c){c===this.Ci()?(this.appearance=c,f.vc.prototype.Sf.call(this,c)):(this.appearance="Off",f.vc.prototype.Sf.call(this,"Off"))},Fc:function(){var c=f.vc.prototype.Fc.apply(this,arguments);c.left=Math.round(c.left);c.top=Math.round(c.top);this.KK(c);return $.extend(c,{border:"none",margin:0},this.bm())},Fi:function(){var c=
this.innerElement;if(c)return c.prop("checked")?this.Ci():"Off"},createInnerElement:function(){var c=document.createElement("input");c.type="checkbox";c.setAttribute("tabindex",0);this.Kk(c);var a=this,c=$(c);c.on("click",function(){a.trigger("click")});return c},deserialize:function(c,a,b){var e=f.ca.getAttribute(c,"N");e&&(this.appearances.Off={},this.appearances[e]={});f.vc.prototype.deserialize.call(this,c,a,b)}};f.Uh.prototype=$.extend(!0,Object.create(f.vc.prototype),f.Uh.prototype);Object.defineProperties(f.Uh.prototype,
{buttonName:{set:function(c){this.iO=c},get:function(){return this.iO}}});f.bl=function(c,a){f.vc.call(this,c,a);this.BL(!1);var b=this;this.cM=!0;this.on("click",function(){"Off"===this.Xa()?b.trigger("change",b.Ci()):b.trigger("change","Off")})};f.bl.prototype={Du:"R",fk:"radioButton",Fi:function(){return this.Ci()},refresh:function(){f.WidgetAnnotation.prototype.refresh.call(this);var c=this.innerElement;c&&(c.prop("checked",this.Ia.Xa()===this.Fi()),c.css(this.Fc(e.Yk)),this.Kk(c[0]))},Fc:function(){var c=
f.vc.prototype.Fc.apply(this,arguments);c.left=Math.round(c.left);c.top=Math.round(c.top);this.KK(c);return $.extend(c,{border:"none",margin:0},this.bm())},Sf:function(c){"Off"!==c&&-1!==Object.keys(this.appearances).indexOf(c)?(this.appearance=c,f.vc.prototype.Sf.call(this,c)):(this.appearance="Off",f.vc.prototype.Sf.call(this,"Off"))},createInnerElement:function(){var c=document.createElement("input");c.type="radio";c.setAttribute("tabindex",0);this.Kk(c);var a=this;$(c).on("click",function(){a.trigger("click")});
return $(c)},deserialize:function(c,a,b){var e=f.ca.getAttribute(c,"N");e&&(this.appearances.Off={},this.appearances[e]={});f.vc.prototype.deserialize.call(this,c,a,b)}};f.bl.prototype=$.extend(!0,Object.create(f.vc.prototype),f.bl.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{},c,a;f.ta=function(){f.Annotation.call(this);this.bg=new f.Color(0,0,0,0);this._opacity=this.Ij=1;this.AE=new Date;this.jE=this.cE=this.ju=null};f.ta.prototype={mc:function(a,c){null!==this.Opacity&&(a.globalAlpha=this.Opacity);this.Style&&"dash"===this.Style&&this.Dashes&&a.setLineDash(this.Dashes.toString().split(/,\s*/));null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());
a.lineWidth=0===this.StrokeThickness?.001:this.ik(c)},TX:function(){var b=this.X+this.Aa()+2*this.StrokeThickness+100,e=this.Y+this.ya()+2*this.StrokeThickness+100;c=c||document.createElement("canvas").getContext("2d");c.canvas.width=b;c.canvas.height=e;a=a||document.createElement("canvas").getContext("2d");a.canvas.width=b;a.canvas.height=e},eR:function(b,e){this.TX();this.mc(c,e);c.globalAlpha=1;this.xi(c);c.stroke();this.mc(a,e);a.globalAlpha=1;this.xi(a);a.fill();c.globalCompositeOperation="source-out";
c.drawImage(a.canvas,0,0);this.mc(b,e);b.globalCompositeOperation="source-over";b.drawImage(c.canvas,0,0);this.xi(b);b.stroke()},Sz:function(a,c){a.beginPath();1!==this.Opacity&&null!==this.Opacity?this.eR(a,c):(this.mc(a,c),this.xi(a),a.fill(),a.stroke())},xi:function(){},kI:function(){return this.ju},gL:function(a){this.ju=a},ik:function(a){return f.ja.Eq(a,this.StrokeThickness)},serialize:function(a,c){var b=f.Annotation.prototype.serialize.apply(this,arguments),e=f.ca,k={},n=e.Dg(this.FillColor);
null!==n&&(k["interior-color"]=n);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||(n=this.StrokeThickness,1!==n&&(k.width=n));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||1===this.Opacity||(k.opacity=this.Opacity);(n=this.fringe)&&!n.nJ()&&(k.fringe=f.ca.wC(this.fringe,c));if(n=this.DateCreated){var l;this.RB&&(n.getTime()===this.OJ?l=this.RB:(delete this.RB,delete this.OJ));l||(l=e.$C(n));k.creationdate=l}_.isUndefined(this.Style)||_.isNull(this.Style)||"solid"===this.Opacity||
(k.style=this.Style);_.isUndefined(this.Dashes)||_.isNull(this.Dashes)||"3"===this.Dashes||(k.dashes=this.Dashes);this.zb(b,"IT");null!==this.InReplyTo&&(k.inreplyto=this.InReplyTo);null!==this.ReplyType&&(k.replyType=this.ReplyType);for(var q in k)b.setAttribute(q,k[q]);!this.ju||this instanceof f.Ha||(e=document.createElementNS("","popup"),e=this.ju.serialize(e,c),b.appendChild(e));return b},deserialize:function(a,c,b){f.Annotation.prototype.deserialize.apply(this,arguments);var e=f.ca,k=a.getAttribute("opacity");
this.Opacity="undefined"!==typeof k&&null!==k?parseFloat(k):1;k=a.getAttribute("width");if(null!==this.StrokeThickness||"undefined"!==typeof k&&null!==k)this.Ij=parseFloat(k||"1");(k=a.getAttribute("style"))&&(this.Style=k);(k=a.getAttribute("dashes"))&&(this.Dashes=k);this.mj(a,"IT");this.TB=k=a.getAttribute("fringe");"undefined"!==typeof k&&null!==k&&(this.fringe=e.LG(k,c));k=e.ek(a.getAttribute("interior-color"));null!==k?this.FillColor=k:null!==this.FillColor&&(this.FillColor=new f.Color(0,0,
0,0));(k=a.getAttribute("creationdate"))?(this.RB=k,e=e.Iz(k),this.OJ=e.getTime(),this.DateCreated=e):this.DateCreated=null;e=a.getElementsByTagName("popup");0<e.length&&(k=new f.al,k.deserialize(e[0],c,b),this.gL(k));(e=a.getAttribute("inreplyto"))&&(this.InReplyTo=e);(e=a.getAttribute("replyType"))&&(this.ReplyType=e)},selectionModel:f.ra,II:!0};f.ta.prototype=$.extend(!0,new f.Annotation,f.ta.prototype);Object.defineProperties(f.ta.prototype,{FillColor:{get:function(){return this.bg},set:function(a){a instanceof
f.Color&&(this.bg=a,this.lb())}},StrokeColor:{get:function(){return this.Hj},set:function(a){a instanceof f.Color&&(this.Hj=a,this.lb())}},StrokeThickness:{get:function(){return this.Ij},set:function(a){this.Ij=parseFloat(a);this.lb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=parseFloat(a);this.lb()}},Precision:{get:function(){return f.ja.lI(this)},set:function(a){f.ja.hL(this,a)}},Scale:{get:function(){return f.ja.sI(this)},set:function(a){f.ja.lL(this,
a[0],a[1])}},DateCreated:{get:function(){return this.AE},set:function(a){this.AE=e.OH(a)}},InReplyTo:{get:function(){return this.cE},set:function(a){this.cE=a;this.lb()}},ReplyType:{get:function(){return this.jE},set:function(a){this.jE=a;this.lb()}}})})(window);
(function(b){var f=b.Annotations||{};f.Qg=function(e,c){var a=this;a.on("change",function(c,e){var f=b.Annotations.O.vb.Events.ha.create("Keystroke",a.Ia,{value:e,change:"",willCommit:!1,selStart:-1,selEnd:-1});a.Ia.Pe("K",f)});f.WidgetAnnotation.call(this,e,c)};f.Qg.FORCE_SELECT=!1;f.Qg.prototype={Pm:"Ch",fk:"choice",ii:function(){f.WidgetAnnotation.prototype.ii.apply(this,arguments);this.PF()},li:function(b){if(f.WidgetAnnotation.prototype.li.call(this,b)){var c=new f.Fj({mask:["Combo"]});c.deserialize(b);
if(c.get("Combo"))return!0}return!1},deserialize:function(b,c,a){f.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);c=f.ca;c.getAttribute(b,"Opt")&&(b=c.getAttribute(b,"Opt"),this.Ia.options=b.split(",").map(function(a){return{value:a,displayValue:a}}),this.Hb().tg(this.Xa()),this.tg(this.Hb().Xa()))},oe:function(){return $.extend(f.WidgetAnnotation.prototype.oe.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},Fc:function(b){return $.extend(f.WidgetAnnotation.prototype.Fc.apply(this,
arguments),{resize:"none","min-height":"",height:this.Hv(b)},this.bm())},refresh:function(){f.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement,c=this.Xa();b&&(b.val(c),this.Kk(b[0]))},Fi:function(){var b=this.innerElement;if(b)return b.val()},Kk:function(b){var c=!!this.fieldFlags.get("ReadOnly");b.disabled=c},createInnerElement:function(){function e(){c(50,m.length);h.off("mousedown",null,e);h.off("touchend",null,e)}function c(a,c){for(var b=document.createDocumentFragment(),
e=a;e<c;++e){var f=m[e],g=document.createElement("OPTION");g.text=_.isUndefined(f.displayValue)?f.value:f.displayValue;g.value=f.value;b.appendChild(g)}d.appendChild(b)}var a,d,g=this;!g.fieldFlags.get("Edit")||b.utils.isSafari||9===b.utils.ie||f.Qg.FORCE_SELECT?d=a=document.createElement("select"):(a=document.createElement("input"),a.setAttribute("list",g.fieldName+"_list"),$(a).on("focus",function(){this.value=""}),d=document.createElement("datalist"),d.id=g.fieldName+"_list");g.Kk(a);var m=g.options,
h=d===a?$(a):$([a,d]);50<m.length?(c(0,50),h.on("mousedown",e),h.on("touchend",e)):c(0,m.length);h.on("change",function(){g.trigger("change",[g.Fi()])});return h}};f.Qg.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.Qg.prototype);Object.defineProperties(f.Qg.prototype,{options:{get:function(){return this.Ia.options}}})})(window);
(function(b){var f=b.Annotations||{};f.vj=function(b,c){f.WidgetAnnotation.call(this,b,c)};f.vj.prototype={Pm:"Ch",fk:"list",refresh:function(){f.WidgetAnnotation.prototype.refresh.apply(this,arguments);var b=this.innerElement;b&&(b[0].value=this.Xa())},li:function(b){if(f.WidgetAnnotation.prototype.li.call(this,b)){var c=new f.Fj({mask:"Combo"});c.deserialize(b);if(!c.get("Combo"))return!0}return!1},deserialize:function(b,c,a){f.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);c=f.ca;c.getAttribute(b,
"Opt")&&(b=c.getAttribute(b,"Opt"),this.Ia.options=b.split(",").map(function(a){return{value:a,displayValue:a}}),this.Hb().tg(this.Xa()),this.tg(this.Hb().Xa()))},oe:function(){return $.extend(f.WidgetAnnotation.prototype.oe.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},Fi:function(){var b=this.innerElement;return b?b.val():null},Fc:function(){return $.extend(f.WidgetAnnotation.prototype.Fc.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"},this.bm())},createInnerElement:function(){var b=
document.createElement("select");b.name=this.fieldName.replace(/\.|\s/g,"_");b.setAttribute("size",this.options.length);this.options.forEach(function(a){var c=_.isUndefined(a.displayValue)?a.value:a.displayValue,f=document.createElement("option");f.value=a.value;f.innerHTML=c;b.appendChild(f)});this.fieldFlags.get("ReadOnly")&&(b.disabled=!0);this.fieldFlags.get("MultiSelect")&&(b.multiple=!0);var c=this;$(b).on("change",function(){c.trigger("change",[c.Fi()])});return $(b)}};f.vj.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),
f.vj.prototype);Object.defineProperties(f.vj.prototype,{options:{get:function(){return this.Ia.options}}})})(window);
(function(b){var f=b.Annotations||{};f.ag=function(b,c){f.WidgetAnnotation.call(this,b,c);this.Vt=void 0;this.An=this.freeHandAnnot=null};f.ag.prototype={Pm:"Sig",fk:"signature",deserialize:function(b,c,a){f.WidgetAnnotation.prototype.deserialize.call(this,b,c,a);b=b.getElementsByTagName("imagedata");0<b.length&&(this.appearances._DEFAULT={Normal:b[0].textContent},this.appearance="_DEFAULT")},bM:function(){this.An&&(this.fieldFlags.get("ReadOnly")?(this.An.style.background="darkgrey",this.An.style.color=
"lightgrey"):(this.An.style.background="darkblue",this.An.style.color="white"))},refresh:function(){f.WidgetAnnotation.prototype.refresh.call(this);this.bM()},Fc:function(){var b=f.WidgetAnnotation.prototype.Fc.apply(this,arguments);return $.extend(b,{width:b.width,height:b.height},this.bm())},createInnerElement:function(b){var c=this,a=document.createElement("div");this.tB().then(function(d){if(d)d=new Image,d.src=c.XH(),d.style.maxWidth="100%",d.style.maxHeight="100%",a.appendChild(d);else{d=b.u.Ev("AnnotationCreateSignature");
var g=c.createSignHereElement(d);d=c.pQ(g,d,b);c.An=g;c.bM();a.appendChild(d);b.Ec().forEach(function(a){a instanceof f.FreeHandAnnotation&&c.Vv(a,{Wy:!0})&&(c.freeHandAnnot=a,g.style.display="none")});b.on("annotationChanged",function(a,b,d){a.imported&&"add"===d?b.forEach(function(a){a instanceof f.FreeHandAnnotation&&c.Vv(a,{Wy:!0})&&(c.freeHandAnnot=a,g.style.display="none")}):"delete"===d&&1===b.length&&b[0]===c.freeHandAnnot&&(c.freeHandAnnot=null,g.style.display="block")})}});return $(a)},
XH:function(){var b="",c=this.appearances[this.appearance];c&&(c=c.Normal)&&c.data&&(b=c.data);return b},tB:function(){var b=this;return new Promise(function(c){if(void 0!==b.Vt)c(b.Vt);else{var a=new Image;a.src=b.XH();a.onload=function(){b.Vt=!b.hU(this);c(b.Vt)}}})},rU:function(){return this.tB()},hU:function(b){var c=document.createElement("canvas"),a=c.getContext("2d");c.width=b.width;c.height=b.height;a.drawImage(b,0,0);b=!0;for(var d=a.getImageData(0,0,c.width,c.height).data,c=0;c<d.length;c+=
4)if(a=d[c+3],0!==a){b=!1;break}return b},vT:function(b,c,a){this.freeHandAnnot&&a.Rd(this.freeHandAnnot);b.style.display="none";this.freeHandAnnot=c;b=Math.min(this.Height/c.Height,this.Width/c.Width);b=new f.Rect(this.X,this.Y,this.X+c.Width*b,this.Y+c.Height*b);c.resize(b);a.Kb(c)},qQ:function(b){var c=document.createElement("div");c.style.position="absolute";c.innerHTML=b.zn();c.style.left="0px";c.style.top="0px";c.style.padding="3px";c.style.background="darkblue";c.style.color="white";return c},
pQ:function(b,c,a){var d=this,f=document.createElement("div");f.style.height="100%";f.style.width="100%";f.addEventListener("click",function(f){d.freeHandAnnot||d.fieldFlags.get("ReadOnly")||(c.initAnnot(),c.mouseLeftDown(f),c.mouseLeftUp(f),c.off("signatureReady.sigWidget").one("signatureReady.sigWidget",function(c,f){d.Vv(f)&&d.vT(b,f,a)}))});f.appendChild(b);return f},Vv:function(b,c){c=c||{};var a;if(c.Wy)a=b.getRectPadding(),a=Math.abs(b.X-this.X)<=a&&Math.abs(b.Y-this.Y)<=a;else{a=this.Gc();
var d=b.Gc();a=!(a.x1>d.x2||d.x1>a.x2||a.y1>d.y2||d.y1>a.y2)}return a}};f.ag.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),f.ag.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.ll=function(c,a){f.WidgetAnnotation.call(this,c,a);this.fieldFlags.dr(["Multiline","DoNotScroll","Password"]);this.Gt=!1;this.xf=this.Ia.maxLen};f.ll.prototype={Pm:"Tx",fk:"text",ii:function(){f.WidgetAnnotation.prototype.ii.apply(this,arguments);this.PF()},refresh:function(c){f.WidgetAnnotation.prototype.refresh.call(this);var a=this.innerElement;if(a){var b,e;c&&(b=a[0].selectionStart,e=a[0].selectionEnd);a[0].value=this.value||"";c&&a[0].setSelectionRange(b,
e);c=!!this.fieldFlags.get("ReadOnly");a[0].readOnly=c}},oe:function(){return f.WidgetAnnotation.prototype.oe.apply(this,arguments)},Fc:function(){var c=f.WidgetAnnotation.prototype.Fc.apply(this,arguments),a={"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"};if(this.fieldFlags.get("Comb")){var b=f.WidgetAnnotation.prototype.oe.apply(this,arguments),b=e.hT("1",b["font-size"]+" "+b["font-family"]),
g=c.width/this.xf;a["margin-left"]=.2*g+"px";a["letter-spacing"]=g-b+"px"}return $.extend(c,a,this.bm())},Fq:function(c,a){f.WidgetAnnotation.prototype.Fq.apply(this,arguments);if(this.oB()&&a["font-size"]&&c.value){var b=c.style.overflowY;c.style.overflowY="hidden";c.offsetHeight;c.style.overflowY=b}},oB:function(){return 0===this.font.size},kU:function(){return this.oB()&&this.font.Kj===this.font.gF},Fi:function(){var c=this.innerElement;if(c)return c.val()},kS:function(c,a){if(c!==a){for(var b=
0;c.charAt(b)===a.charAt(b);)b++;for(var e=0;c.charAt(c.length-1-e)===a.charAt(a.length-1-e)&&e+b<c.length&&e+b<a.length;)e++;var f,h=0;c.length!==b+e&&(h=c.length-e-b,f="");a.length!==b+e&&(f=a.slice(b,a.length-e));return{result:f,start:b,end:b+h}}},createInnerElement:function(){function c(){setTimeout(function(){f.refresh(!0)},0)}function a(a){return f.oB()&&(!f.kU()||a)}function d(a,b){a.preventDefault();b.value=f.Xa();b.style.overflowY="hidden";b.offsetHeight;b.style.overflowY="auto"}var f=this,
m=this.fieldFlags,h=m.get("Multiline"),k=m.get("ReadOnly"),n=m.get("DoNotScroll"),l;h?l=document.createElement("textarea"):(l=document.createElement("input"),l.type="text");0<this.xf&&l.setAttribute("maxlength",this.xf);k&&(l.readOnly=!0);e.gR(l,function(m){var k=0,u=0,r=m.change,v=f.Xa()||"";if(!m.dJ){u=f.kS(v,r);if(!u)return;m.change=u.result;k=u.start;u=u.end}r=b.Annotations.O.vb.Events;k=r.ha.create("Keystroke",f.Hb(),{value:m.dJ?"":v,change:m.change,selStart:k,selEnd:u,willCommit:!1});f.Ia.Pe("K",
k);k.rc?(k=r.Bi(k),v=null!==f._value&&k.length<f._value.length,u=!0,n?h?a(v)?c():l.scrollHeight-1>=Math.ceil($(l).innerHeight())&&(u=!1):v?(u=!0,a(v)&&c()):a(v)?c():u=e.measureText(k||" ",l.parentNode.style.fontSize,l.parentNode.style.fontFamily,l.parentNode.style.fontWeight).width<$(l).width():a(v)&&c(),0<f.xf&&(u=u&&k.length<=f.xf),u?(f._value=k,document.activeElement===l?f.WK():f.trigger("commit")):d(m,l)):d(m,l)},!h);return $(l)}};f.ll.prototype=$.extend(Object.create(f.WidgetAnnotation.prototype),
f.ll.prototype)})(window);
(function(b){var f=b.Annotations||{};f.Fj=function(b){this.hi={};this.Fn=null;this.sq=0;_.isObject(b)&&(_.isArray(b.mask)&&this.dr(b.mask),b.onUpdate&&(this.kF=b.onUpdate))};f.Fj.prototype={sj:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.hi={}},dr:function(b){_.isNull(this.Fn)&&(this.Fn={});for(var c=b.length,a=0;a<c;++a){var d=b[a];this.Fn[d]=
this.sj[d]||0}},zQ:function(b){var c=[],a=this.Fn||this.sj;Object.keys(a).forEach(function(d){0!==(b&a[d])&&(b&=~a[d],c.push(d))});return{result:c,uY:b}},get:function(b){return!!this.hi[b]},pY:function(){var b=0,c;for(c in this.hi)this.hi.hasOwnProperty(c)&&!0===this.hi[c]&&(b|=this.sj[c]);return b|this.sq},toArray:function(){var b=this;return Object.keys(this.hi).filter(function(c){return b.hi[c]})},deserialize:function(b){b=f.ca.getAttribute(b,"Ff");this.set(parseInt(b,10))},serialize:function(b){b.setAttribute("Ff",
String(this.pY()))},set:function(b,c){if(_.isArray(b))for(var a=b.length,d=0;d<a;++d)this.set(b[d]);else _.isNumber(b)?(a=this.zQ(b),this.sq|=a.uY,this.set(a.result)):_.isString(b)&&(a=!0,_.isUndefined(c)||(a=!!c),this.Fn?_.isUndefined(this.Fn[b])?this.sq|=this.sj[b]||0:this.hi[b]=a:this.hi[b]=a,this.kF&&this.kF())}}})(window);
(function(b){var f=b.Annotations||{};f.Fp=function(){f.ta.call(this);this["_xsi:type"]="Caret";this.Subject=f.ja.Dc("caret");this.StrokeThickness=0;this.bg=null};f.Fp.prototype={elementName:"caret",draw:function(e,c){this.mc(e,c);var a=this.Width,d=this.Height,g=Number(this.Rotation);if(90===g||270===g)g=a,a=d,d=g;e.translate(this.X,this.Y);e.rotate(-this.Rotation*Math.PI/180);g=b.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);e.translate(-g.dx,-g.dy);e.translate(-this.X,
-this.Y);e.beginPath();e.fillStyle=this.StrokeColor.toString();a=new f.Rect(this.X,this.Y,this.X+a,this.Y+d);g=(a.x1+a.x2)/2;d=a.y1+3*d/4;e.moveTo(g,a.y1);e.quadraticCurveTo(g,d,a.x1,a.y2);e.lineTo(a.x2,a.y2);e.quadraticCurveTo(g,d,g,a.y1);e.closePath();e.fill();e.stroke()},selectionModel:f.ra,deserialize:function(b){f.ta.prototype.deserialize.apply(this,arguments);var c=Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.StrokeThickness=0;this.mj(b,"symbol")},
serialize:function(b){var c=Number(this.Rotation),a;if(90===c||270===c)a=this.Width,this.Width=this.Height,this.Height=a;f.ta.prototype.serialize.apply(this,arguments);if(90===c||270===c)a=this.Width,this.Width=this.Height,this.Height=a;this.zb(b,"symbol");b.removeAttribute("width");return b}};f.Fp.prototype=$.extend(new f.ta,f.Fp.prototype)})(window);
(function(b){var f=b.Xg,e=b.Annotations||{};e.Xk=function(){e.ta.call(this);this["_xsi:type"]="Ellipse";this.Subject=e.ja.Dc("ellipse");var b=this.getRectPadding();this.fringe=new e.Rect(b,b,b,b)};e.Xk.prototype={elementName:"circle",draw:function(b,a){this.Sz(b,a)},xi:function(b){var a=this.X+this.fringe.x1,d=this.Y+this.fringe.y1,e=this.Aa()-this.fringe.x1-this.fringe.x2,f=this.ya()-this.fringe.y1-this.fringe.y2,e=Math.max(e,1),f=Math.max(f,1),h=Math.min(e,f);b.lineWidth>=h&&(b.lineWidth=Math.max(h-
1,1));b.lineWidth*=2;h=e/f;isNaN(h)||Infinity===h||(b.save(),b.translate(a+(1-h)*e/2,d),b.scale(h,1),b.beginPath(),b.arc(.5*e,.5*f,Math.max(.5*f,0),0,2*Math.PI,!1),b.closePath(),b.restore(),b.clip())},getRectPadding:function(){return 0},selectionModel:e.ra};e.Xk.prototype=$.extend(new e.ta,e.Xk.prototype);f.Gs.call(e.Xk.prototype,new f.Vk)})(window);
(function(b){var f=b.Xg,e=b.Annotations||{};e.FreeHandAnnotation=function(){e.ta.call(this);this.Ja=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Za={x:0,y:0};this.Eb={x:0,y:0};this.St=!1;this["_xsi:type"]="Free Hand";this.Subject=e.ja.Dc("freehand");this.gg=this.bg=null};e.FreeHandAnnotation.opacityCap=.7;e.FreeHandAnnotation.Kc={InkHighlight:"InkHighlight"};e.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!1,wb:function(b,a,d){"undefined"===
typeof d&&(d=0);if(d===this.Ja.length)this.Ja.push([]);else if(d>this.Ja.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,b);this.RightMost=Math.max(this.RightMost,b);this.TopMost=Math.min(this.TopMost,a);this.BottomMost=Math.max(this.BottomMost,a);var f=this.getRectPadding();this.yt=this.LeftMost-f;this.zt=this.TopMost-f;this.bq=this.RightMost-this.LeftMost+2*f;this.aq=this.BottomMost-this.TopMost+2*f;this.Ja[d].push(new e.Point(b,
a))},Rf:function(b,a,d,e){"undefined"===typeof e&&(e=0);var f;this.Ja.length>e?(f=this.Ja[e],f.length>b?(f[b].x=a,f[b].y=d,this.adjustRect()):f.length===b&&this.wb(a,d,e)):this.Ja.length===e?this.wb(a,d,e):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},Ei:function(b,a){"undefined"===typeof a&&(a=0);return this.Ja&&this.Ja.length>a&&this.Ja[a].length>b?this.Ja[a][b]:null},Ek:function(b){"undefined"===typeof b&&(b=0);var a=null;this.Ja.length>b&&(a=this.Ja[b].pop(),this.adjustRect());
return a},getPath:function(b){"undefined"===typeof b&&(b=0);return this.Ja.length>b?this.Ja[b]:null},setPath:function(b,a){"undefined"===typeof a&&(a=0);this.Ja.length<a?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.Ja.length>a?this.Ja[a]=b:this.Ja.length===a&&this.Ja.push(b);this.adjustRect()},gH:function(){this.Ja=[]},finish:function(){this.St||(this.lb(),this.St=!0)},resize:function(b){var a=b.x1,d=b.y1,e=b.Aa(),f=b.ya();b=d-this.Y;if(!(0===a-this.X&&0===b&&e===this.Width&&
f===this.Height||1>e||1>f)){var h=b=1;"undefined"!==typeof e&&"undefined"!==typeof f&&(b=f/this.Height,h=e/this.Width,this.Width=e,this.Height=f);for(e=0;e<this.Ja.length;e++)for(f=0;f<this.Ja[e].length;f++)this.Ja[e][f].x=(this.Ja[e][f].x-this.X)*h+a,this.Ja[e][f].y=(this.Ja[e][f].y-this.Y)*b+d;this.X=a;this.Y=d}},draw:function(b,a){this.mc(b,a);this.gg===e.FreeHandAnnotation.Kc.InkHighlight&&b.globalAlpha>e.FreeHandAnnotation.opacityCap&&(b.globalAlpha=e.FreeHandAnnotation.opacityCap);b.beginPath();
for(var d=this.He(),f=0;f<d.length;f++)this.xi(b,d[f]);b.lineCap="round";b.lineJoin="round";b.stroke()},He:function(){return this.Ja},WX:function(b,a){if(this.shouldSimplifyPath)for(var d=0;d<this.Ja.length;d++){var e=window.simplify(this.getPath(d),b,a);this.setPath(e,d)}},xi:function(b,a){var d="undefined"===typeof a?0:a.length;if(3<=d){b.moveTo(a[0].x,a[0].y);for(d=1;d<a.length-2;d++)b.quadraticCurveTo(a[d].x,a[d].y,(a[d].x+a[d+1].x)/2,(a[d].y+a[d+1].y)/2);d+1<a.length&&b.quadraticCurveTo(a[d].x,
a[d].y,a[d+1].x,a[d+1].y)}else 2===d&&(b.moveTo(a[0].x,a[0].y),b.lineTo(a[1].x,a[1].y))},rotate:function(c,a){this.Ja.forEach(function(d){for(var e=0;e<d.length;++e)d[e]=b.fe.Math.pW(d[e],c,a)});this.adjustRect()},Rh:function(b){e.Annotation.prototype.Rh.apply(this,arguments);this.Ja.forEach(function(a){for(var d=0;d<a.length;++d)a[d]=b.W(a[d])})},adjustRect:function(){if(0!==this.Ja.length){this.Za={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.Eb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var b,a;
for(b=0;b<this.Ja.length;b++)for(a=0;a<this.Ja[b].length;a++)if(null!==this.Ja[b][a]){var d=this.Ja[b][a].x,e=this.Ja[b][a].y;d>this.Eb.x&&(this.Eb.x=d);e>this.Eb.y&&(this.Eb.y=e);d<this.Za.x&&(this.Za.x=d);e<this.Za.y&&(this.Za.y=e)}b=this.getRectPadding();this.X=this.Za.x-b;this.Y=this.Za.y-b;this.Width=Math.max(0,this.Eb.x-this.Za.x)+2*b;this.Height=Math.max(0,this.Eb.y-this.Za.y)+2*b;this.ix()}},getRectPadding:function(){return this.StrokeThickness},serialize:function(b,a){for(var d=e.ta.prototype.serialize.apply(this,
arguments),f=document.createElementNS("","inklist"),m=this.He(),h=0;h<m.length;h++)if(!(1>m[h].length)){var k=e.ca.gp(m[h],a),n=document.createElementNS("","gesture");n.textContent=k;f.appendChild(n)}d.appendChild(f);this.gg&&(d.setAttribute("IT",this.gg),this.gg===e.FreeHandAnnotation.Kc.InkHighlight&&0!==this.Opacity&&this.Opacity>e.FreeHandAnnotation.opacityCap&&d.setAttribute("opacity",e.FreeHandAnnotation.opacityCap));return d},deserialize:function(b,a){e.ta.prototype.deserialize.apply(this,
arguments);var d=this;d.Ja=[];b.querySelectorAll("inklist gesture").forEach(function(b){b=e.ca.Pl(b.textContent,a);b=d.shouldSimplifyPath?window.simplify(b,.5):b;d.Ja.push(b)});this.og()||this.adjustRect();this.gg=b.getAttribute("IT");this.bg=null;this.Subject===e.ja.Dc("signature")&&(this.MaintainAspectRatio=!0)},selectionModel:e.ra};e.FreeHandAnnotation.prototype=$.extend(new e.ta,e.FreeHandAnnotation.prototype);f.Gs.call(e.FreeHandAnnotation.prototype,new f.Vk);Object.defineProperties(e.FreeHandAnnotation.prototype,
{Intent:{get:function(){return this.gg},set:function(b){this.gg=b;this.lb()}}})})(window);
(function(b){var f=b.Annotations||{};f.wd=function(){f.ta.call(this);this.na=[];this.Za={x:0,y:0};this.Eb={x:0,y:0}};f.wd.prototype={wb:function(b,c){var a=this.getRectPadding();this.na.push(new f.Point(b,c));1===this.na.length?(this.Za={x:b,y:c},this.Eb={x:b,y:c},this.X=b-a,this.Y=c-a):(b>this.Eb.x&&(this.Width=b-this.Za.x+2*a,this.Eb.x=b),c>this.Eb.y&&(this.Height=c-this.Za.y+2*a,this.Eb.y=c),b<this.Za.x&&(this.Width=this.Eb.x-b+2*a,this.X=b-a,this.Za.x=b),c<this.Za.y&&(this.Height=this.Eb.y-c+
2*a,this.Y=c-a,this.Za.y=c))},Rh:function(b){f.Annotation.prototype.Rh.apply(this,arguments);for(var c=this.na,a=0;a<c.length;++a)c[a]=b.W(c[a])},Rf:function(b,c,a){this.na&&this.na.length>b?(this.na[b].x=c,this.na[b].y=a,this.adjustRect()):this.na&&this.na.length===b&&this.wb(c,a);this.lb()},Ei:function(b){return this.na&&this.na.length>b?this.na[b]:null},Ek:function(){var b=this.na.pop();this.adjustRect();return b},getPath:function(){return this.na},setPath:function(b){this.na=b;this.adjustRect()},
getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.na.length){this.Za={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.Eb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var b=0;b<this.na.length;b++)if(null!==this.na[b]){var c=this.na[b].x,a=this.na[b].y;c>this.Eb.x&&(this.Eb.x=c);a>this.Eb.y&&(this.Eb.y=a);c<this.Za.x&&(this.Za.x=c);a<this.Za.y&&(this.Za.y=a)}b=this.getRectPadding();this.X=this.Za.x-b;this.Y=this.Za.y-b;this.Width=Math.max(0,this.Eb.x-this.Za.x)+2*
b;this.Height=Math.max(0,this.Eb.y-this.Za.y)+2*b;this.ix()}},selectionModel:f.gn};f.wd.prototype=$.extend(new f.ta,f.wd.prototype)})(window);
(function(b){var f=b.Xg,e=b.Annotations||{},c=e.ja||{};e.Ha=function(a){e.wd.call(this);this.na=[];this.Za={x:0,y:0};this.Eb={x:0,y:0};this.rf=null;this["_xsi:type"]="FreeText";this.StrokeThickness=1;this.kp(a);this.Xv="left";this.oE=new e.Color(255,0,0);this.aE="Helvetica";this.bE="9pt";this.nE="left";this.lE=0;this.rn=2;this.ZF=!1;this.Subject=a!==e.Ha.Kc.FreeTextCallout?e.ja.Dc("freetext"):e.ja.Dc("callout")};e.Ha.EXPORT_CALCULATED_FONT_SIZE=!0;e.Ha.Kc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",
FreeTextTypeWriter:"FreeTextTypeWriter"};e.Ha.prototype={elementName:"freetext",vh:function(){return this.intent},kp:function(a){this.intent=a||e.Ha.Kc.FreeText;a!==e.Ha.Kc.FreeTextCallout?this.selectionModel=e.Mp:(this.nj("OpenArrow"),this.selectionModel=e.Rs)},nj:function(a){this.Kn=a},af:function(){return this.Kn},wb:function(a,b){5>this.na.length&&e.wd.prototype.wb.call(this,a,b)},adjustRect:function(){this.vh()===e.Ha.Kc.FreeTextCallout&&e.wd.prototype.adjustRect.apply(this,arguments)},resize:function(a){if(this.vh()===
e.Ha.Kc.FreeTextCallout){var b=a.y1-this.Y,c=a.Aa()/this.Width,f=a.ya()/this.Height;if(0!==a.x1-this.X||0!==b||1!==c||1!==f){var h=this;this.na.forEach(function(b){b.x=(b.x-h.X)*c+a.x1;b.y=(b.y-h.Y)*f+a.y1});this.adjustRect()}}else this.Fg(a),b=this.getRectPadding(),this.Jm(new e.Rect(b,b,b,b))},getRectPadding:function(){return this.vh()===e.Ha.Kc.FreeTextCallout?this.StrokeThickness/2:0},Jm:function(a){var b=0;this.vh()===e.Ha.Kc.FreeTextCallout&&(b+=this.rn+1);this.na[b]=new e.Point(this.X+a.x1,
this.Y+a.y2);this.na[b+1]=new e.Point(this.X+this.Width-a.x2,this.Y+this.Height-a.y1)},JA:function(){var a=this.na.slice(-2),b=a[0],a=a[1];return new e.Rect(b.x-this.X,this.Y+this.Height-a.y,this.X+this.Width-a.x,b.y-this.Y)},AA:function(){return this.FontSize.slice(-2)||"px"},zA:function(){var a=parseFloat(this.FontSize),b=this.AA(a);0===a&&this.XD&&e.Ha.EXPORT_CALCULATED_FONT_SIZE&&(a=this.XD,b="px");"px"===b&&(a*=.75);return a},UY:function(a,b,c,e,f,k,n){for(var l,q=e,p=a.measureText(".").width||
1,p=2*Math.ceil(f/p),u=b.split("\n"),r=0;r<u.length;r++){for(var v=u[r].split(" "),w="",A=0;A<v.length;A++){b=v[A];l=a.measureText(b);if(l.width>f){for(var B=1,z=p,x;B<=z;)if(x=Math.floor((z+B)/2),l=a.measureText(b.slice(0,x),a),l.width<f)B=x+1;else if(l.width>f)z=x-1;else break;b=b.slice(0,Math.max(1,z))}v[A]!==b&&(v.splice(A+1,0,v[A].substr(b.length)),v[A]=b);b=w+v[A];l=a.measureText(b);if(l.width>f&&0<A){a.fillText(w,c,e);w=v[A]+" ";if(e-q>=k)return;e+=n}else w=b+" "}a.fillText(w.slice(0,-1),c,
e);if(e-q>=k)break;e+=n}},VT:function(){this.rf=document.createElement("textarea");this.rf.className="freetext";this.rf.style.visibility="hidden";this.rf.style.position="absolute";this.rf.style.top="-9001px";document.getElementsByTagName("body")[0].appendChild(this.rf)},WH:function(a){return{EV:1.598*a,css:1+5/a}},draw:function(a,b){this.rf||this.VT();var c;this.mc(a,b);this.vh()===e.Ha.Kc.FreeTextCallout?(this.ho(a,b),c=this.na.length===this.rn+3):c=2===this.na.length;if(c){c=this.dT();this.dR(a,
c);var f=this.rh();"undefined"!==typeof f&&this.cR(a,b,f,c)}},ho:function(a,b){a.lineJoin="miter";var e=this.ik(b);0===e&&(e=a.lineWidth=1);for(var f=Math.min(this.rn+1,this.na.length),h=0;h<f;h++){var k=this.na[h];0===h?(a.beginPath(),a.moveTo(k.x,k.y)):a.lineTo(k.x,k.y)}1<this.na.length&&c.VQ(a,this.na[0],this.na[1],e)},dR:function(a,b){var c=b.x,e=b.y,f=b.width,k=b.height;a.save();0<this.StrokeThickness&&(a.beginPath(),a.lineWidth*=2,a.rect(c,e,f,k),a.clip(),a.stroke());a.beginPath();a.rect(c+
a.lineWidth/2,e+a.lineWidth/2,f-a.lineWidth,k-a.lineWidth);a.closePath();a.fill();a.restore()},cR:function(a,b,e,f){var h=f.x,k=f.y,n=f.width,l=f.height;a.textBaseline="top";a.fillStyle=this.TextColor.toString();var q=a.lineWidth;f=0+q;a.save();a.beginPath();a.rect(h+q,k+q,Math.max(n-2*q,0),Math.max(l-2*q));a.clip();a.textAlign=this.TextAlign;if(this.Rotation){a.translate(h,k);a.rotate(-(Math.PI/180*this.Rotation));a.translate(-h,-k);if(90===this.Rotation||270===this.Rotation)q=n,n=l,l=q;90===this.Rotation?
a.translate(-n,0):270===this.Rotation?a.translate(0,-l):180===this.Rotation&&a.translate(-n,-l)}var q=n-2*f,l=Math.round(l-2*f),p=this.QR(b);b=p.yR;p=p.zR;if(0===b){this.rf.style.width=q+"px";this.rf.style.height=l+"px";this.rf.style.fontFamily=this.Font;e=e.replace(/\s+$/g,"");this.rf.value=e;var u=this;b=c.rH(e,this.rf,l,function(a){return u.WH(a).css});p="px";this.XD=b}var r=this.WH(b).EV,v=h+f;"center"===this.TextAlign?v=h+n/2:"right"===this.TextAlign&&(v=h+n-f);a.font=b+p+" "+this.Font;this.UY(a,
e,v,k+f,q,l,r);a.restore()},QR:function(a){a=e.ja.Eq(a,parseFloat(this.FontSize));var b=this.AA();"pt"===b&&(a*=.75);return{yR:a,zR:b}},dT:function(){var a=this.na.slice(-2),b=a[0],a=a[1];return{x:b.x,y:b.y,width:a.x-b.x,height:a.y-b.y}},serialize:function(a,b){var c=e.ta.prototype.serialize.apply(this,arguments),f=this.getPath(),h={},k=e.ca.Dg(this.FillColor);null!==k?h.color=k:c.removeAttribute("color");c.removeAttribute("interior-color");var k=this.zA(),n,l=this.JA();this.QB&&this.QB.isEqual(l)?
n=this.TB:(this.TB&&(delete this.TB,delete this.QB),l.nJ()||(n=e.ca.wC(l,b)));n&&c.setAttribute("fringe",n);this.originalTextAlignCalculated!==this.TextAlign||this.originalTextColorCalculated!==e.ca.Dg(this.TextColor)||this.originalStrokeColorCalculated!==e.ca.Dg(this.StrokeColor)||this.originalFontSizeCalculated!==this.FontSize||this.originalFontCalculated!==this.Font?(n=this.StrokeColor.oY(),l=e.ca.zW(this.Font,k),l=n+" "+l,n=e.ca.yW(this)):(l=this.originalDefaultAppearance,n=this.originalDefaultStyle);
var q=document.createElementNS("","defaultappearance");q.textContent=l;c.appendChild(q);l=document.createElementNS("","defaultstyle");l.textContent=n;c.appendChild(l);this.Xv&&"left"!==this.Xv&&(h.justification=this.Xv);n=e.ca.Dg(this.TextColor);null!==n&&c.setAttribute("TextColor",n);c.setAttribute("FontSize",k);k=this.vh();k===e.Ha.Kc.FreeTextCallout&&(f=e.ca.gp(f.slice(0,-2),b,",",","),h.callout=f,h.head=this.af(),c.setAttribute("IT",k));for(var p in h)a.setAttribute(p,h[p]);return c},deserialize:function(a,
b){this.TextColor=new e.Color(0,0,0);var c=e.ca;e.ta.prototype.deserialize.apply(this,arguments);null!==c.ek(a.getAttribute("color"))?this.FillColor=this.StrokeColor:this.FillColor=new e.Color(0,0,0,0);var f=c.po(a,"defaultappearance","defaultappearance"),h=c.po(a,"defaultstyle","defaultstyle"),k=c.ZB(f);k.color&&(this.StrokeColor=c.ek(k.color));k.font&&(this.Font=k.font.name,this.FontSize=k.font.size);k=c.wV(h);k.font&&(this.Font=k.font.name,this.FontSize=k.font.size);k.textAlign&&(this.TextAlign=
k.textAlign);k.color&&(this.TextColor=c.ek(k.color));this.originalStrokeColorCalculated=c.Dg(this.StrokeColor);this.originalTextAlignCalculated=this.TextAlign;this.originalTextColorCalculated=k.color?k.color:c.Dg(this.TextColor);this.originalFontSizeCalculated=this.FontSize;this.originalFontCalculated=this.Font;this.originalDefaultStyle=a;this.originalDefaultAppearance=f;this.originalDefaultStyle=h;if((f=a.getAttribute("IT")||a.getAttribute("it"))&&f===e.Ha.Kc.FreeTextCallout){if(this.kp(e.Ha.Kc.FreeTextCallout),
this.nj(a.getAttribute("head")||"OpenArrow"),h=a.getAttribute("callout"))for(f=c.Pl(h,b),3>f.length&&(h=c.Pl(h,b,",",","),4>h.length&&(f=h,this.rn=f.length-1)),h=this.getPath(),k=0;k<f.length;k++)h[k]=new e.Point(parseFloat(f[k].x),parseFloat(f[k].y))}else this.kp(e.Ha.Kc.FreeText);this.fringe?this.Jm(this.fringe):this.Jm(new e.Rect(0,0,0,0));if(f=a.getAttribute("justification"))this.Xv=f;c=c.ek(a.getAttribute("TextColor"));null!==c&&(this.TextColor=c);c=a.getAttribute("FontSize");_.isUndefined(c)||
_.isNull(c)||(this.FontSize=c+"pt");(c=a.getAttribute("rotation"))&&(this.Rotation=parseInt(c,10));this.og()||this.adjustRect();this.QB=this.JA()},JW:function(a){this.ZF=a},selectionModel:e.Mp};e.Ha.prototype=$.extend(new e.wd,e.Ha.prototype);f.Gs.call(e.Ha.prototype,new f.Vk);Object.defineProperties(e.Ha.prototype,{CalloutLineCount:{get:function(){return this.rn},set:function(a){this.rn=a;this.lb()}},TextColor:{get:function(){return this.oE},set:function(a){this.oE=a;this.lb()}},FontSize:{get:function(){return this.bE},
set:function(a){this.bE=a;this.lb()}},Font:{get:function(){return this.aE},set:function(a){this.aE=a;this.lb()}},TextAlign:{get:function(){return this.nE},set:function(a){this.nE=a;this.lb()}},Rotation:{get:function(){return this.lE},set:function(a){this.lE=a;this.lb()}}})})(window);
(function(b){var f=b.Xg,e=b.Annotations||{};e.Gd=function(){e.ta.call(this);this["_xsi:type"]="Line";this.Subject=e.ja.Dc("line");this.Kn=this.Ht=this.End=this.Start=this.bg=null};e.Gd.prototype={elementName:"line",resize:function(b){var a=b.x1;b=b.y1;var d=a-this.X,e=b-this.Y;if(0!==d||0!==e)this.Start.x+=d,this.Start.y+=e,this.End.x+=d,this.End.y+=e,this.X=a,this.Y=b},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){"LineDimension"===this.IT&&this.Measure&&this.xq();var b=this.getRectPadding(),
a=this.lT(),d=this.MR(),d=d.map(function(b){return a.W(b)}),e=d.map(function(a){return a.x}),d=d.map(function(a){return a.y});this.X=Math.min.apply(null,e)-b;this.Y=Math.min.apply(null,d)-b;this.Width=Math.max.apply(null,e)-this.X+2*b;this.Height=Math.max.apply(null,d)-this.Y+2*b;this.ix()}},getRectPadding:function(){return this.StrokeThickness},IC:function(b,a){this.Start=new e.Point(b,a)},vI:function(){return this.Start},setEndPoint:function(b,a){this.End=new e.Point(b,a)},TH:function(){return this.End},
nj:function(b){this.Kn=b},af:function(){return this.Kn||"None"},ip:function(b){this.Ht=b},uh:function(){return this.Ht||"None"},JX:function(b){b.font=this.constant.FONT_SIZE+" "+this.constant.FONT_FAMILY;b.fillStyle=this.constant.TEXT_COLOR;b.textBaseline="top";b.textAlign="center"},MX:function(b){b.translate(this.Start.x,this.Start.y);b.rotate(this.Yl());b.translate(0,this.Iv())},draw:function(b,a){this.mc(b,a);if(this.Start&&this.End){var d=this.pr(),e;b.save();this.JX(b);this.MX(b);b.beginPath();
this.leaderExtend&&this.YQ(b,d);this.leaderLength&&this.ZQ(b,d);"yes"===this.caption&&(e=this.wI(this.rh(),d),this.WQ(b,d,e));this.aR(b,d,e);this.$Q(b,d,e);b.stroke();b.closePath();b.restore()}},YQ:function(b,a){var d=this.leaderExtend;this.Ze(b,0,0,0,-this.or()*d);this.Ze(b,a,0,a,-this.or()*d)},ZQ:function(b,a){var d=this.leaderLength;this.Ze(b,0,0,0,d);this.Ze(b,a,0,a,d)},WQ:function(b,a,d){var e=a/2,f;this.uB(d)?this["caption-offset-h"]&&!this.lJ(a,d)&&(e=this.KH(a,d),d.left>a?this.Ze(b,a,0,e.x,
0):0>d.right&&this.Ze(b,0,0,e.x,0)):this["caption-offset-v"]&&(f=this.oA(a,d),b.moveTo(a/2,0),b.lineTo(f.x,f.y),this["caption-offset-h"]&&(d.right<e||d.left>e)&&(e=this.KH(a,d),b.lineTo(e.x,e.y)));e=this.rh().split("\n");f=d.top;var h=d.height/e.length;this.kz(d.width,a)||!this.uB(d)||this["caption-offset-h"]||(f-=17);for(a=0;a<e.length;a++)b.fillText(e[a],d.left+d.width/2,f),f+=h},aR:function(b,a,d){"yes"!==this.caption||this.kz(d.width,a)?(this.qv(this.af(),"start").call(this,b),this.qv(this.uh(),
"end").call(this,b)):(d=5*b.lineWidth+10,"None"!==this.af()&&(this.qv("ROpenArrow","start").call(this,b),"None"!==this.uh()&&this.Ze(b,-d,0,0,0)),"None"!==this.uh()&&(this.qv("ROpenArrow","end").call(this,b),"None"!==this.af()&&this.Ze(b,a,0,a+d,0)))},$Q:function(b,a,d){d?this.kz(d.width,a)?this.uB(d)&&this.lJ(a,d)?(this.Ze(b,0,0,d.left,0),this.Ze(b,d.right,0,a,0)):this.Ze(b,0,0,a,0):"None"!==this.af()&&"None"!==this.uh()||this.Ze(b,0,0,a,0):this.Ze(b,0,0,a,0)},Ze:function(b,a,d,e,f){b.moveTo(a,d);
b.lineTo(e,f)},ho:function(b){var a=5*b.lineWidth+3,d=.2*Math.PI;b.moveTo(Math.cos(d)*a,-Math.sin(d)*a);b.lineTo(0,0);b.lineTo(Math.cos(d)*a,Math.sin(d)*a)},Rh:function(b){e.Annotation.prototype.Rh.apply(this,arguments);this.Start=b.W(this.Start);this.End=b.W(this.End)},serialize:function(b,a){b=e.ta.prototype.serialize.apply(this,arguments);var d=new e.Point(this.End.x,this.End.y),f=e.ca;b.setAttribute("start",f.Zw(new e.Point(this.Start.x,this.Start.y),a));b.setAttribute("end",f.Zw(d,a));"None"!==
this.af()&&b.setAttribute("head",this.af());"None"!==this.uh()&&b.setAttribute("tail",this.uh());"LineDimension"===this.IT&&this.Measure&&b.appendChild(f.Yw(this.Measure));this.zb(b,"leaderLength");this.zb(b,"leaderExtend");this.zb(b,"leader-offset");this.zb(b,"caption");this.zb(b,"caption-style");this.zb(b,"caption-offset-h");this.zb(b,"caption-offset-v");return b},deserialize:function(b,a){e.ta.prototype.deserialize.apply(this,arguments);var d=e.ca,f=d.MG(b.getAttribute("start"),a);null!==f?this.IC(f.x,
f.y):this.IC(this.X,this.Y);f=d.MG(b.getAttribute("end"),a);null!==f?this.setEndPoint(f.x,f.y):this.setEndPoint(this.X+this.Width,this.Y+this.Height);f=b.querySelector("measure");"LineDimension"===b.getAttribute("IT")&&f&&(this.Measure=d.Ru(f));this.nj(b.getAttribute("head")||"None");this.ip(b.getAttribute("tail")||"None");this.mj(b,"caption");this.mj(b,"caption-style");this.us(b,"caption-offset-h");this.us(b,"caption-offset-v");this.us(b,"leaderLength");this.us(b,"leaderExtend");this.us(b,"leader-offset");
this.og()||this.adjustRect()},selectionModel:e.Pp,constant:{FONT_SIZE:"9px",FONT_FAMILY:"sans-serif",TEXT_COLOR:"#000000"},io:{None:function(){},OpenArrow:{start:function(b){this.ho(b)},end:function(b){b.save();b.translate(this.pr(),0);b.scale(-1,1);this.ho(b);b.restore()}},ROpenArrow:{start:function(b){b.save();b.scale(-1,1);this.ho(b);b.restore()},end:function(b){b.save();b.translate(this.pr(),0);this.ho(b);b.restore()}}},xq:function(){var b=this.Measure.distance,b=e.ja.FA(this.pr()*this.Measure.axis[0].factor*
b[0].factor,b);this.Nh(b)},sU:function(b){return!!this.io[b]},kz:function(b,a){return b+24<=a},uB:function(b){return 0>b.top&&0<b.bottom},lJ:function(b,a){return 0<=a.left&&a.right<=b},lT:function(){var b=this.Iv(),a=this.Yl(),d=new XODText.Matrix2D,e=new XODText.Matrix2D;d.Ba(1,0,0,1,this.Start.x,this.Start.y);e.set(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0);d.concat(e);e.set(1,0,0,1,0,b);d.concat(e);return d},qv:function(b,a){return _.isNull(b)?this.io.None:this.sU(b)?"object"===typeof this.io[b]?
this.io[b][a]:this.io[b]:this.io.OpenArrow[a]},wI:function(b,a){var d=e.ja.measureText(b,this.constant.FONT_SIZE,this.constant.FONT_FAMILY,"normal"),f=d.height,d=d.width,m=this.gT(f),h=this.eT(d,a);return{top:m,bottom:m+f,left:h,right:h+d,width:d,height:f}},gT:function(b){var a=-b/2;if("Top"===this["caption-style"]&&!this["caption-offset-v"])return-b;this["caption-offset-v"]&&(a-=this["caption-offset-v"]);return a},eT:function(b,a){var d=a/2-b/2;this["caption-offset-h"]&&(d+=this["caption-offset-h"]);
return d},oA:function(b,a){var d=-this["caption-offset-v"],e=b/2,f={x:e,y:void 0};f.y=0>d?a.bottom:a.top;this["caption-offset-h"]&&(a.right<e||a.left>e)&&(f.y=0>d?f.y-a.height/2:f.y+a.height/2);return f},KH:function(b,a){var d={};d.y=this["caption-offset-v"]?this.oA(b,a).y:0;d.x=0>this["caption-offset-h"]?a.right:a.left;return d},MR:function(){var b=this.pr(),a=[{x:0,y:0},{x:b,y:0}];if("yes"===this.caption){var d=this.wI(this.rh(),b);a.push({x:d.left,y:d.top},{x:d.left,y:d.bottom},{x:d.right,y:d.top},
{x:d.right,y:d.bottom});this["caption-offset-v"]&&(d=this.oA(b,d),a.push({x:d.x,y:d.y}))}this.leaderExtend&&(d=this.leaderExtend,a.push({x:0,y:d*-this.or()},{x:b,y:d*-this.or()}));(d=this.Iv())&&a.push({x:0,y:-d},{x:b,y:-d});return a},Iv:function(){var b=this.leaderLength,a=this["leader-offset"],d=0;b&&(d-=b);a&&(d+=a*-this.or());return d},or:function(){return!this.leaderLength||0<this.leaderLength?1:-1},pr:function(){return Math.sqrt(Math.pow(this.End.x-this.Start.x,2)+Math.pow(this.End.y-this.Start.y,
2))},Yl:function(){return Math.atan2(this.End.y-this.Start.y,this.End.x-this.Start.x)},qS:function(){var b=this.Iv(),a=this.Yl();return{ND:{x:this.Start.x-b*Math.sin(a),y:this.Start.y+b*Math.cos(a)},uD:{x:this.End.x-b*Math.sin(a),y:this.End.y+b*Math.cos(a)}}}};e.Gd.prototype=$.extend(new e.ta,e.Gd.prototype);f.fD.call(e.Gd.prototype,[new f.Vk])})(window);
(function(b){var f=b.Annotations||{},e=b.Xg;f.$f=function(){f.ta.call(this);this.na=[];this.St=!1;this.yf="solid";this.ul=2;this["_xsi:type"]="Polygon";this.Subject=f.ja.Dc("polygon");this.Za={x:0,y:0};this.Eb={x:0,y:0}};f.$f.prototype={elementName:"polygon",resize:function(b){var a=b.x1;b=b.y1;var d=a-this.X,e=b-this.Y;if(0!==d||0!==e){for(var f=0;f<this.na.length;f++)this.na[f].x+=d,this.na[f].y+=e;this.X=a;this.Y=b}},adjustRect:function(){"PolygonDimension"===this.IT&&this.Measure&&this.xq();f.wd.prototype.adjustRect.call(this)},
xq:function(){var b=this.LR(),a=this.Measure.axis[0],d=this.Measure.area,b=f.ja.FA(b*a.factor*a.factor*d[0].factor,d);this.Nh(b)},finish:function(){b.fe.Math.aK(this.na)&&(this.na[this.na.length]={x:this.na[0].x,y:this.na[0].y});this.adjustRect()},draw:function(b,a){this.Sz(b,a)},xi:function(b){if("cloudy"===this.Style)f.ja.VG(this,b,this.getPath());else for(var a=0;a<this.na.length;a++){var d=this.na[a];0===a?(b.beginPath(),b.moveTo(d.x,d.y)):b.lineTo(d.x,d.y)}1<this.na.length&&(b.closePath(),b.lineJoin=
"round")},LR:function(){var b=this.getPath();return 3>b.length?0:Math.abs(b.reduce(function(a,d,e){return a+d.x*b[e===b.length-1?0:e+1].y-b[e===b.length-1?0:e+1].x*d.y},0))/2},kp:function(b){this.Intent=b},vh:function(){return this.Intent},serialize:function(b,a){var d=f.ta.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(d.setAttribute("style",this.Style),d.setAttribute("intensity",this.Intensity));var e=this.getPath();if(e&&0<e.length){var m=document.createElementNS("","vertices");
m.textContent=f.ca.gp(e,a);d.appendChild(m)}"PolygonDimension"===this.IT&&this.Measure&&d.appendChild(f.ca.Yw(this.Measure));return d},deserialize:function(b,a){f.ta.prototype.deserialize.apply(this,arguments);var d=b.getElementsByTagName("vertices");0<d.length&&(this.na=f.ca.Pl(d[0].textContent,a));this.yf=b.getAttribute("style");this.ul=parseInt(b.getAttribute("intensity")||0,10);this.gg=b.getAttribute("IT");d=b.querySelector("measure");"PolygonDimension"===this.gg&&d&&(this.Measure=f.ca.Ru(d));
this.og()||this.adjustRect()},selectionModel:f.it};f.$f.prototype=$.extend(new f.wd,f.$f.prototype);e.fD.call(f.$f.prototype,[new e.Vk]);Object.defineProperties(f.$f.prototype,{Intensity:{get:function(){return this.ul},set:function(b){this.ul=b;this.lb()}},Intent:{get:function(){return this.gg},set:function(b){this.gg=b;this.lb()}}})})(window);
(function(b){var f=b.Xg,e=b.Annotations||{};e.yj=function(){e.ta.call(this);this.na=[];this.St=!1;this["_xsi:type"]="Polyline";this.Subject=e.ja.Dc("polyline");this.Za={x:0,y:0};this.Eb={x:0,y:0};this.bg=null};e.yj.prototype={elementName:"polyline",resize:function(b){var a=b.x1;b=b.y1;var d=a-this.X,e=b-this.Y;if(0!==d||0!==e){for(var f=0;f<this.na.length;f++)this.na[f].x+=d,this.na[f].y+=e;this.X=a;this.Y=b}},adjustRect:function(){"PolyLineDimension"===this.IT&&this.Measure&&this.xq();e.wd.prototype.adjustRect.call(this)},
xq:function(){var b=this.MS(),a=this.Measure.distance,b=e.ja.FA(b*this.Measure.axis[0].factor*a[0].factor,a);this.Nh(b)},finish:function(){this.adjustRect()},draw:function(b,a){this.mc(b,a);for(var d=0;d<this.na.length;d++){var e=this.na[d];0===d?(b.beginPath(),b.moveTo(e.x,e.y)):b.lineTo(e.x,e.y)}1<this.na.length&&(b.lineJoin="round",b.stroke())},nj:function(b){this.Kn=b},af:function(){return this.Kn||"None"},ip:function(b){this.Ht=b},uh:function(){return this.Ht||"None"},MS:function(){var b=this.getPath();
return 2>b.length?0:b.reduce(function(a,d,e){if(0===e)return a;e=b[e-1];return a+Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2))},0)},serialize:function(b,a){var d=e.ta.prototype.serialize.apply(this,arguments),f=this.getPath();if(f&&0<f.length){var m=document.createElementNS("","vertices");m.textContent=e.ca.gp(f,a);d.appendChild(m)}d.setAttribute("head",this.af());d.setAttribute("tail",this.uh());"PolyLineDimension"===this.IT&&this.Measure&&d.appendChild(e.ca.Yw(this.Measure));return d},deserialize:function(b,
a){e.ta.prototype.deserialize.apply(this,arguments);var d=b.getElementsByTagName("vertices");0<d.length&&(this.na=e.ca.Pl(d[0].textContent,a));this.nj(b.getAttribute("head")||"None");this.ip(b.getAttribute("tail")||"None");d=b.querySelector("measure");"PolyLineDimension"===b.getAttribute("IT")&&d&&(this.Measure=e.ca.Ru(d));this.og()||this.adjustRect()},selectionModel:e.gn};e.yj.prototype=$.extend(new e.wd,e.yj.prototype);f.fD.call(e.yj.prototype,[new f.Vk])})(window);
(function(b){var f=b.Xg,e=b.Annotations||{};e.Aj=function(){e.ta.call(this);this["_xsi:type"]="Rectangle";this.Subject=e.ja.Dc("rectangle");var b=this.getRectPadding();this.fringe=new e.Rect(b,b,b,b);this.ul=2;this.yf="solid"};e.Aj.prototype={elementName:"square",draw:function(b,a){this.Sz(b,a)},xi:function(b){var a=this.Gc();a.x1+=this.fringe.x1;a.y1+=this.fringe.y1;a.x2-=this.fringe.x2;a.y2-=this.fringe.y2;if("cloudy"===this.Style)e.ja.VG(this,b,[new e.Point(a.x1,a.y1),new e.Point(a.x2,a.y1),new e.Point(a.x2,
a.y2),new e.Point(a.x1,a.y2),new e.Point(a.x1,a.y1)]),b.closePath(),b.lineJoin="round";else{var d=1<=this.Aa()&&1<=this.ya();b.lineWidth*=d?2:.5;b.beginPath();b.moveTo(a.x1,a.y1);b.lineTo(a.x2,a.y1);b.lineTo(a.x2,a.y2);b.lineTo(a.x1,a.y2);b.closePath();d&&b.clip()}},getRectPadding:function(){return 0},serialize:function(){var b=e.ta.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(b.setAttribute("style",this.Style),b.setAttribute("intensity",this.Intensity));return b},deserialize:function(b){e.ta.prototype.deserialize.apply(this,
arguments);this.yf=b.getAttribute("style");this.ul=b.getAttribute("intensity")}};e.Aj.prototype=$.extend(new e.ta,e.Aj.prototype);f.Gs.call(e.Aj.prototype,new f.Vk);Object.defineProperties(e.Aj.prototype,{Intensity:{get:function(){return this.ul},set:function(b){this.ul=b;this.lb()}}})})(window);
(function(b){var f,e=b.Annotations||{};e.hl=function(){e.ta.call(this);this["_xsi:type"]="Stamp";this.Subject=e.ja.Dc("stamp");this.Icon="Draft";this.Ij=this.Hj=this.bg=null;this.Br=1;this.BQ="bold italic "+this.NL+"px Verdana"};e.hl.prototype={elementName:"stamp",padding:20,NL:30,Cz:10,draw:function(c,a){this.mc(c,a);c.translate(this.X,this.Y);c.rotate(-this.Rotation*Math.PI/180);var d=b.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);c.translate(-d.dx,-d.dy);if(this.image){var d=
this.Width,e=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var f=d,d=e,e=f;1!==this.Br&&(c.globalAlpha=1);c.drawImage(this.image,0,0,d,e)}else if("SHAccepted"===this.Icon)c.lineWidth=.2*Math.min(this.Width,this.Height),c.strokeStyle="#426922",c.beginPath(),c.moveTo(.05*this.Width,.5*this.Height),c.lineTo(.4*this.Width,.85*this.Height),c.lineTo(.95*this.Width,.05*this.Height),c.stroke();else if("SBRejected"===this.Icon)c.lineWidth=.2*Math.min(this.Width,this.Height),
c.strokeStyle="#8F110F",c.beginPath(),c.moveTo(.05*this.Width,.05*this.Height),c.lineTo(.95*this.Width,.95*this.Height),c.moveTo(.95*this.Width,.05*this.Height),c.lineTo(.05*this.Width,.95*this.Height),c.stroke();else{d=this.SR();c.fillStyle=d.fill;c.strokeStyle=d.ew;c.lineWidth=1;e=this.Cz;if(this.Aa()<=2*this.Cz||this.ya()<=2*this.Cz)e=Math.min(this.Aa()/2,this.ya()/2);this.bR(c,0,0,this.Aa(),this.ya(),e);c.font=this.BQ;c.fillStyle=d.ew;d=this.GL.toUpperCase();e=c.measureText(d).width+2*this.padding;
c.save();e=this.Aa()/e;f=this.ya()/(1.5*this.NL);c.scale(e,f);c.textBaseline="middle";c.textAlign="center";c.fillText(d,this.Aa()/(2*e),this.ya()/(2*f));c.restore()}},mT:function(){var b=this.Icon;if(this.$c[b])return this.$c[b];if(0===b.indexOf("SB")||0===b.indexOf("SH")){var a=this.$c[b.substring(2)];if(a)return a}return b},SR:function(){var b=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),a={ew:"rgba(145, 15, 5, "+b+")",fill:"rgba(242, 230, 227, "+.7*b+")"},d={ew:"rgba(65, 106, 28, "+b+
")",fill:"rgba(215, 226, 207, "+.7*b+")"},b={ew:"rgba(24, 37, 100, "+b+")",fill:"rgba(224, 235, 246, "+.7*b+")"};switch(this.GL){case this.$c.Approved:case this.$c.Completed:case this.$c.Final:return d;case this.$c.Asis:case this.$c.Confidential:case this.$c.Departmental:case this.$c.Draft:case this.$c.Experimental:case this.$c.ForComment:case this.$c.ForPublicRelease:case this.$c.NotForPublicRelease:case this.$c.Sold:case this.$c.TopSecret:return b;case this.$c.Expired:case this.$c.NotApproved:case this.$c.Void:return a;
default:return b}},$c:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},bR:function(b,a,d,e,f,h){b.beginPath();
b.moveTo(a+h,d);b.lineTo(a+e-h,d);b.quadraticCurveTo(a+e,d,a+e,d+h);b.lineTo(a+e,d+f-h);b.quadraticCurveTo(a+e,d+f,a+e-h,d+f);b.lineTo(a+h,d+f);b.quadraticCurveTo(a,d+f,a,d+f-h);b.lineTo(a,d+h);b.quadraticCurveTo(a,d,a+h,d);b.closePath();b.fill();b.stroke()},aM:function(b){f=f||document.createElement("canvas");f.width=this.image.width;f.height=this.image.height;var a=f.getContext("2d");a.drawImage(this.image,0,0);for(var d=a.getImageData(0,0,this.image.width,this.image.height),e=d.data,m=e.length,
h=3;h<m;h+=4)0!==e[h]&&(0===b&&(b=.01),e[h]=255*b);a.putImageData(d,0,0);return f.toDataURL()},serialize:function(){var b=e.ta.prototype.serialize.apply(this,arguments);this.MJ&&this.Icon===this.MJ||b.setAttribute("icon",this.Icon);if(this.image){var a=document.createElementNS("","imagedata");a.textContent=this.image.src.split("%0A").join("");this.Opacity!==this.Br&&(a.textContent=this.aM(this.Opacity));b.appendChild(a)}return b},deserialize:function(b){e.ta.prototype.deserialize.apply(this,arguments);
var a=b.getAttribute("icon");a?this.Icon=a:this.Subject&&(this.Icon=this.Subject);a||(this.MJ=this.Icon);a=b.getElementsByTagName("imagedata");0<a.length&&(this.ImageData=a[0].textContent)}};e.hl.prototype=$.extend(new e.ta,e.hl.prototype,b.utils.eventHandler);Object.defineProperties(e.hl.prototype,{Icon:{get:function(){return this.fO},set:function(b){this.fO=b;this.GL=this.mT();this.lb()}},ImageData:{get:function(){return this.image.src},set:function(b){this.image||(this.image=new Image);var a=this;
this.rF=new Promise(function(d){var e=new Image,f=a.Opacity;e.onload=function(){a.image=e;a.Br=f;d()};e.onerror=d;e.src=b;a.lb()})}},Opacity:{get:function(){return Object.getOwnPropertyDescriptor(e.ta.prototype,"Opacity").get.call(this)},set:function(b){Object.getOwnPropertyDescriptor(e.ta.prototype,"Opacity").set.call(this,b);if(this.image&&1>this.Br){var a=this;this.Sw().then(function(){a.ImageData=a.aM(1);a.Sw().then(function(){a.Br=1})})}}}})})(window);
(function(b){var f=b.Annotations||{};f.Ip=function(b){f.Annotation.call(this);this["_xsi:type"]="Custom";this.Subject=f.ja.Dc("custom");this.Opacity=1;if(_.isObject(b)&&(_.isUndefined(b.page)||(this.PageNumber=parseInt(b.page,10)+1),_.isUndefined(b.appearances)||(this.appearances=b.appearances),!_.isUndefined(b.rect))){var c=new f.Rect(b.rect.x1,b.rect.y1,b.rect.x2,b.rect.y2);0>c.Aa()&&(b=c.x1,c.x1=c.x2,c.x2=b);0>c.ya()&&(b=c.y1,c.y1=c.y2,c.y2=b);this.X=c.x1;this.Y=c.y1;this.bq=c.Aa();this.aq=c.ya()}};
f.Ip.prototype={elementName:"custom",draw:function(){},serialize:function(b,c){return f.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(b,c){f.Annotation.prototype.deserialize.apply(this,arguments)}};f.Ip.prototype=$.extend(new f.Annotation,f.Ip.prototype)})(window);
(function(b){var f=b.Annotations||{};f.il=function(){f.ta.call(this);this["_xsi:type"]="Sticky";this.Subject=f.ja.Dc("stickyNote");this.Height=this.Width=20;this.IsClickableOutsideRect=this.NoRotate=this.NoZoom=this.NoResize=!0;this.bg=this.Ij=null;this.Hj=new f.Color(255,255,0);this.Icon="Comment"};f.il.prototype={SIZE:31,elementName:"text",og:function(){return null},draw:function(e,c,a){if(!this.Qi()){var d=this.SIZE,f=this.SIZE;c=d<f?d:f;var m=.75*c,h=.48*c,k=.29*c,n=.19*c,l=c-n;e.strokeStyle=
"rgb(0, 0, 0)";e.fillStyle=this.StrokeColor.toString();e.globalAlpha=0===this.Opacity?0:this.Opacity||1;window.o.Oo&&this.DateCreated<window.o.Oo&&(a=a||0,e.rotate(-a*Math.PI/180),a=b.utils.getRotationOffsets((360-a)%360,d,f),e.translate(-a.dx,-a.dy));e.beginPath();e.moveTo(7,2);e.lineTo(c-5-2,2);e.quadraticCurveTo(c-2,2,c-2,7);e.lineTo(c-2,m-5);e.quadraticCurveTo(c-2,m,c-5-2,m);e.lineTo(h,m);e.lineTo(k,c-2);e.lineTo(k,m);e.lineTo(7,m);e.quadraticCurveTo(2,m,2,m-5);e.lineTo(2,7);e.quadraticCurveTo(2,
2,7,2);e.fill();e.moveTo(n,.25*c);e.lineTo(l,.25*c);e.moveTo(n,.41*c);e.lineTo(l,.41*c);e.moveTo(n,.57*c);e.lineTo(.68*c,.57*c);e.stroke()}},serialize:function(){var b=f.ta.prototype.serialize.apply(this,arguments),c={};this.Icon&&(c.icon=this.Icon);for(var a in c)b.setAttribute(a,c[a]);this.zb(b,"state");this.zb(b,"statemodel");return b},deserialize:function(b){f.ta.prototype.deserialize.apply(this,arguments);this.bg=null;this.Icon=b.getAttribute("icon");this.mj(b,"state");this.mj(b,"statemodel");
this.NoRotate=this.NoZoom=!0;this.Height=this.Width=20;this.ix()},selectionModel:f.Yp};f.il.prototype=$.extend(!0,new f.ta,f.il.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.Cb=function(){f.ta.call(this);this.bg=null;this.Hj=new f.Color(255,0,0);this.Ij=null;this.gE=!0;this.hE=!1;this.eb=[];this.eg=!1;this.SurroundingTexts=this.TextIndices=null;this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};f.Cb.prototype={gx:function(b){if(!b||"undefined"===typeof b.length||0===b.length)throw Error("Argument quads requires an array of at least one element");this.eb=b;for(var a=Infinity,d=Infinity,e=0,f=0,h=0;h<this.eb.length;h++)b=
this.eb[h],a=Math.min(a,b.x1,b.x2,b.x3,b.x4),d=Math.min(d,b.y1,b.y2,b.y3,b.y4),e=Math.max(e,b.x1,b.x2,b.x3,b.x4),f=Math.max(f,b.y1,b.y2,b.y3,b.y4);this.X=a;this.Y=d;this.Width=e-a;this.Height=f-d},me:function(){return this.eb},Rh:function(b){f.Annotation.prototype.Rh.apply(this,arguments);var a=[];this.eb.forEach(function(d){var e={x:d.x1,y:d.y1},m={x:d.x2,y:d.y2},h={x:d.x3,y:d.y3};d={x:d.x4,y:d.y4};e=b.W(e);m=b.W(m);h=b.W(h);d=b.W(d);a.push(new f.ab(e.x,e.y,m.x,m.y,h.x,h.y,d.x,d.y))});this.gx(a)},
serialize:function(c,a){var d=f.ta.prototype.serialize.apply(this,arguments),g,m=[];for(g=0;g<this.Quads.length;g++){var h=this.Quads[g];m.push(new f.Point(h.x4,h.y4));m.push(new f.Point(h.x3,h.y3));m.push(new f.Point(h.x1,h.y1));m.push(new f.Point(h.x2,h.y2))}0<this.Quads.length&&(g=f.ca.gp(m,a,",",","),d.setAttribute("coords",g));if(e.er){m={};this.TextIndices?m.selidxs=f.ca.BW(this.TextIndices):b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no idxs to serialize.");
if(this.SurroundingTexts)for(h=f.ca.AW(this.SurroundingTexts),g=0;g<h.length;g++)m["surrtxts_"+g+"_0"]=h[g][0],m["surrtxts_"+g+"_1"]=h[g][1];else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.serialize: no surrtxts to serialize.");for(var k in m)d.setAttribute(k,m[k])}return d},deserialize:function(c,a,d){f.ta.prototype.deserialize.apply(this,arguments);this.eb=[];for(var g=c.getAttribute("coords"),g=f.ca.Pl(g,a,",",","),m=0;m+3<g.length;m+=4){if(b.fe.Math.DU(g[m],g[m+3],
g[m+1],g[m+2])){var h=g[m+2];g[m+2]=g[m+3];g[m+3]=h}this.eb.push(new f.ab(g[m+3].x,g[m+3].y,g[m+2].x,g[m+2].y,g[m+1].x,g[m+1].y,g[m].x,g[m].y))}d?f.ja.GQ(this,c,d):(this instanceof f.Cb&&b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: no annotManager provided; could not attempt to deserialize extra selector data."),this.eg=!1);var k=function(a){var c=!1,d;if(this.zf&&this.eb.length===this.zf.length)for(c=!0,m=0;m<this.eb.length;m++)for(d=0;8>d;d++)if(5<=Math.abs(this.eb[m].mA()[d]-
this.zf[m][d])){c=!1;m=this.eb.length;break}var e=!1;if(this.bh&&this.eb.length===this.bh.length)for(e=!0,m=0;m<this.eb.length;m++)for(d=0;8>d;d++)if(5<=Math.abs(this.eb[m].mA()[d]-this.bh[m][d])){e=!1;m=this.eb.length;break}c||b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with surrtxt selector.");e||b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: absolute position selector DOES NOT agree with index-based selector.");
d=null!==this.bh&&(0<this.bh.length||0===this.eb.length&&0===this.bh.length);var g=null!==this.zf&&(0<this.zf.length||0===this.eb.length&&0===this.zf.length),h=[],k=Array(8);if(d&&g)if(c||e)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(m=0;m<this.zf.length;m++){for(d=0;8>d;d++)k[d]=Math.round(this.zf[m][d]);h.push(new f.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.eb=h}else if(d)if(e)b.utils.warn("annot_extra_selectors",
"Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(m=0;m<this.bh.length;m++){for(d=0;8>d;d++)k[d]=Math.round(this.bh[m][d]);h.push(new f.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.eb=h}else if(g)if(c)b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");else{for(m=0;m<this.zf.length;m++){for(d=0;8>d;d++)k[d]=Math.round(this.zf[m][d]);h.push(new f.ab(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7]))}this.eb=
h}else b.utils.warn("annot_extra_selectors","Annotations.TextMarkupAnnotation.deserialize: using absolute coordinates.");e=c=9007199254740991;for(m=k=h=0;m<this.eb.length;m++)d=this.eb[m].mA(),d[0]<c&&(c=d[0]),d[7]<e&&(e=d[7]),d[2]>h&&(h=d[2]),d[3]>k&&(k=d[3]);this.jL(new f.Rect(c,e,h,k));a.Kb(this);this.trigger("extraSelectorsUsedForAdjustments");this.gq=!0}.bind(this);if(e.er&&this.eg&&d)if(this.oF)k(d);else this.one("quadsCalculatedFromExtraSelectors",function(){k(d)});else b.utils.warn("annot_extra_selectors",
"Annotations.TextMarkupAnnotation.deserialize: NOT taking extra selectors path.")},Jk:function(){return!0},selectionModel:f.Dj};f.Cb.prototype=$.extend(new f.ta,f.Cb.prototype);Object.defineProperties(f.Cb.prototype,{Quads:{get:function(){return this.eb},set:function(b){this.gx(b)}}})})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.Yh=function(){f.Cb.call(this);this.Hj=new f.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=f.ja.Dc("highlight");this.Opacity=1};f.Yh.opacityCap=.3;f.Yh.prototype={elementName:"highlight",draw:function(b,a){var d=function(){this.mc(b,a);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>f.Yh.opacityCap)b.globalAlpha=f.Yh.opacityCap;b.fillStyle=this.StrokeColor.toString();for(var d,e=0;e<this.Quads.length;e++)d=this.Quads[e],
b.beginPath(),b.moveTo(d.x1,d.y1),b.lineTo(d.x2,d.y2),b.lineTo(d.x3,d.y3),b.lineTo(d.x4,d.y4),b.closePath(),b.fill()}.bind(this);if(e.er&&this.eg)if(this.gq)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};f.Yh.prototype=$.extend(new f.Cb,f.Yh.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.mn=function(){f.Cb.call(this);this["_xsi:type"]="Squiggly";this.Subject=f.ja.Dc("squiggly")};f.mn.prototype={elementName:"squiggly",draw:function(b,a){var d=function(){var d,e,f,k,n,l,q;this.mc(b,a);for(var p=0;p<this.eb.length;p++){e=this.eb[p];d=Math.sqrt((e.x1-e.x2)*(e.x1-e.x2)+(e.y1-e.y2)*(e.y1-e.y2));var u=5/3,r=d/10;b.save();b.translate(e.x1,e.y1-1.25);b.rotate(Math.atan2(e.y2-e.y1,e.x2-e.x1));e=Math.abs(e.y1-e.y4);b.beginPath();b.rect(0,-e,
d,e+1.25+1);b.clip();b.beginPath();for(var v=0;v<2*r;v+=2)q=5*v,n=5*v+u/2,l=u,f=5*(v+1)-u/2,k=u,d=5*(v+1),e=0,b.moveTo(q,0),b.bezierCurveTo(n,l,f,k,d,e),n=5*(v+1)+u/2,l=-u,f=5*(v+2)-u/2,k=-u,d=5*(v+2),e=0,b.bezierCurveTo(n,l,f,k,d,e);b.stroke();b.restore()}}.bind(this);if(e.er&&this.eg)if(this.gq)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};f.mn.prototype=$.extend(new f.Cb,f.mn.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.nn=function(){f.Cb.call(this);this["_xsi:type"]="Strikeout";this.Subject=f.ja.Dc("strikeout")};f.nn.prototype={elementName:"strikeout",draw:function(b,a){var d=function(){this.mc(b,a);0===this.StrokeThickness&&(b.lineWidth=1);for(var d,e=0;e<this.eb.length;e++){d=this.eb[e];var f=(d.x1+d.x4)/2,k=(d.y1+d.y4)/2,n=(d.x2+d.x3)/2;d=(d.y2+d.y3)/2;b.beginPath();b.moveTo(f,k);b.lineTo(n,d);b.stroke()}}.bind(this);if(e.er&&this.eg)if(this.gq)d();else this.one("extraSelectorsUsedForAdjustments",
function(){d()});else d()}};f.nn.prototype=$.extend(new f.Cb,f.nn.prototype)})(window);
(function(b){var f=b.Annotations||{},e=f.ja||{};f.pn=function(){f.Cb.call(this);this["_xsi:type"]="Underline";this.Subject=f.ja.Dc("underline")};f.pn.prototype={elementName:"underline",draw:function(b,a){var d=function(){this.mc(b,a);for(var d,e=0;e<this.eb.length;e++)d=this.eb[e],b.beginPath(),b.moveTo(d.x1,d.y1),b.lineTo(d.x2,d.y2),b.closePath(),b.stroke()}.bind(this);if(e.er&&this.eg)if(this.gq)d();else this.one("extraSelectorsUsedForAdjustments",function(){d()});else d()}};f.pn.prototype=$.extend(new f.Cb,
f.pn.prototype)})(window);
(function(b){var f=b.Annotations||{},e=new f.Color(0,0,0,0),c=new f.Color(0,0,0,1),a=new f.Color(255,0,0,1);f.Jd=function(b){b=b||{};f.TextMarkupAnnotation.call(this);this["_xsi:type"]="Redact";this.Subject=f.ja.Dc("redact");this.Opacity=1;this.IsHoverable=!0;this.IsHovering=!1;this.PageNumber=b.PageNumber||this.PageNumber;this.StrokeThickness=1.5;this.Color=b.StrokeColor||new f.Color(a);this.FillColor=b.FillColor||new f.Color(c);this.FillDisplayColor=new f.Color(e);b.Rect&&this.Fg(b.Rect);b.Quads?
(this.Quads=b.Quads,this.IsText=!0):b.Rect&&(this.HC(),this.NoMove=this.IsText=!1)};f.Jd.prototype={elementName:"redact",draw:function(a,b){this.mc(a,b);this.wr().forEach(function(b){var c=b.x2-b.x1,e=b.y2-b.y1;a.save();a.beginPath();a.rect(b.x1,b.y1,c,e);a.clip();a.stroke();a.fill();a.closePath();a.restore()})},wr:function(){var a=this.me();return a=0===a.length?[this.Gc()]:a.map(function(a){return{x1:a.x4,y1:a.y4,x2:a.x2,y2:a.y2}})},Fg:function(a){f.Cb.prototype.Fg.call(this,a);this.IsText||(this.HC(!0),
this.NoMove=!1)},mc:function(a,b){var c=this.oe();a.globalAlpha=1;a.fillStyle=c.fillColor.toString();c.strokeColor&&(a.strokeStyle=c.strokeColor.toString());a.lineWidth=2*f.ja.Eq(b,c.IL)},oe:function(){return this.IsHovering?{fillColor:this.FillColor,IL:0,strokeColor:this.FillColor}:{fillColor:this.FillDisplayColor,IL:this.StrokeThickness,strokeColor:this.StrokeColor}},HC:function(){if(!this.IsText){var a=this.Gc();this.Quads=[{x1:a.x1,x2:a.x2,x3:a.x2,x4:a.x1,y1:a.y2,y2:a.y2,y3:a.y1,y4:a.y1}]}},selectionModel:f.jt,
serialize:function(){var a=f.Cb.prototype.serialize.apply(this,arguments);this.zb(a,"overlay-text");this.zb(a,"overlay-text-repeat");this.zb(a,"justification");this.zb(a,"defaultappearance");this.IsText||a.removeAttribute("coords");return a},deserialize:function(a){f.Cb.prototype.deserialize.apply(this,arguments);this.mj(a,"overlay-text");this.mj(a,"overlay-text-repeat");this.mj(a,"justification");this.defaultappearance=f.ca.po(a,"defaultappearance","defaultappearance");this.Quads.length?this.NoMove=
this.IsText=!0:(this.NoMove=this.IsText=!1,this.HC())}};f.Jd.prototype=$.extend(new f.Cb,f.Jd.prototype)})(window);
(function(b){function f(){}function e(a){this.size=a;this.tc=Array(this.size);for(a=0;a<this.size;a++)this.tc[a]={nh:b.o.pa.pl(1,1,1),yw:b.o.pa.pl(1,1,1),Vn:null,Xi:[],Cr:!1}}function c(a){var b=a.width;a.width=1;a.width=b}var a={rt:"ViewportCanvas",Wx:"PageCanvas"};e.prototype={lk:function(a,b,c){return c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b)},sv:function(a,b,c){b=this.lk(a,b,c);c=null;for(var d=0;d<this.size;d++){if(this.tc[d].Vn===b)return-1===this.tc[d].Xi.indexOf(a)&&this.tc[d].Xi.push(a),
this.tc[d].Cr=!0,this.tc[d];this.tc[d].Cr||(c=this.tc[d])}return c?(c.Vn=b,c.Xi.push(a),c.Cr=!0,c):null},$R:function(a,b,c){b=this.lk(a,b,c);for(c=0;c<this.size;c++)if(this.tc[c].Vn===b)return-1===this.tc[c].Xi.indexOf(a)&&this.tc[c].Xi.push(a),this.tc[c].Cr=!0,this.tc[c];return null},Wo:function(a){for(var b=0;b<this.size;b++){var c=this.tc[b].Xi,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.kG(this.tc[b]);break}}},hs:function(){for(var a=0;a<this.size;a++)this.kG(this.tc[a])},
kG:function(a){a.Vn=null;a.Cr=!1;$(a.nh).removeAttr("style").removeClass();$(a.yw).removeAttr("style").removeClass();c(a.nh);a.nh.getContext("2d").clearRect(0,0,a.nh.width,a.nh.height);a.Xi=[]},hY:function(a,b,c){a=this.sv(a,c,this.Io);_.isNull(b)&&(b=a.yw);a.yw=a.nh;a.nh=b}};f.prototype={Nk:!1,TK:function(){},init:function(){var a=b.innerWidth,c=b.innerHeight;this.tc=new e(3);this.Rn=new e(3);this.Ih=this.pl(a,c,1);this.Bk=1},oz:function(){},lk:function(a){return this.Rn.lk(a,this.Bk,this.Io)},ex:function(a,
b){this.Bk=a;this.Io=b},rz:function(){this.Ih.getAttribute("style");this.Ih.removeAttribute("style")},Vw:function(a,b){this.tc.hY(a,b,this.Bk)},Wo:function(a){this.tc.Wo(a);this.Rn.Wo(a)},hs:function(){this.tc.hs();this.Rn.hs()},Jn:function(a,c,d){var e=$(a);c=Math.floor(c);d=Math.floor(d);var f=parseInt(a.style.width,10),g=parseInt(a.style.height,10),p=""===a.style.width||1<Math.abs(f-c),g=""===a.style.height||1<Math.abs(g-d),f=.01<Math.abs(a.width/f-b.utils.getCanvasMultiplier());if(p||g||f)p=b.utils.getCanvasMultiplier(),
f=Math.floor(d*p),a.setAttribute("width",Math.floor(c*p)),a.setAttribute("height",f),e.css("width",c),e.css("height",d)},pl:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.Jn(d,a,b);return"undefined"===typeof d.getContext("2d")?null:d},pO:function(a,b,c,d){var e=1,f=null,g=a;if(1>=a*c||1>=b*c)f=this.pl(1,1,1);if(4E6>a*b)return this.pl(a,b,c);var u=a/b;64E6<a*b&&(b=Math.sqrt(64E6/u),e=u*b/a,a=u*b);u=null;for("undefined"===typeof d&&(d=.25);null===f;){var u=
this.pl(Math.ceil(a*e),Math.ceil(b*e),c,u),r=u.getContext("2d");r.fillStyle="white";r.fillRect(u.width-1,u.height-1,1,1);r=!(1>window.devicePixelRatio)&&(u.width<parseFloat(u.style.width)||u.height<parseFloat(u.style.height));if(null!==u&&0<this.uO(u)&&!r)f=u;else if(e-=d,0>=e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+g/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,
"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},uO:function(a){return a.getContext("2d").getImageData(a.width-1,a.height-1,1,1).data[3]},Mq:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},UH:function(a,c,d,e,f,g){if(a!==this.Ih)throw Error("Canvas drawing error");
var p=this.tc.sv(c,this.Bk,this.Io);a=p.nh;this.Jn(a,parseFloat(this.Ih.style.width),parseFloat(this.Ih.style.height));p=p.Xi.sort(function(a,b){return a-b});c<=p[0]&&(a.width=a.width);c=b.utils.getCanvasMultiplier();d=b.Fd(d,e,g,f,!0,c);e=a.getContext("2d");e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,g.width,g.height);e.restore();e.drawImage(this.Ih,0,0);this.rz();return a},Hk:function(a,c,d,e,f,q,p){if(p)return g.Hk.apply(g,arguments);this.Jn(this.Ih,
b.innerWidth,b.innerHeight);var u=b.utils.getCanvasMultiplier(),u=b.Fd(c,d,a,e,!0,u),r=this.Ih.getContext("2d");r.restore();r.save();r.transform(u.m_a,u.m_b,u.m_c,u.m_d,u.m_h,u.m_v);b.utils.canvasClipBug||(r.beginPath(),r.rect(0,0,a.width,a.height),r.clip());return{canvas:this.Ih,ctx:r,t:u}},Dq:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},CO:function(a,b,c,d){a=d?this.Rn.sv(a,this.Bk,
this.Io):this.Rn.$R(a,this.Bk,this.Io);if(!a)return null;d=d?a.nh:a.yw;this.Jn(d,b,c);return d},mp:function(a,c,d,e,f,g,p){g=a[0].getContext("2d");g.restore();g.save();var u=b.utils.getCanvasMultiplier();if(1===p||3===p)c={width:c.height,height:c.width};d=b.Fd(d,(e+p||0)%4,c,f,!0,u);g.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);b.utils.canvasClipBug||(g.beginPath(),g.rect(0,0,c.width,c.height),g.clip());return a[0]},jk:function(a,b,c,d,e,f,g){a=$("#pageContainer"+a).parent().find(".auxiliary");
return 0===a.length?null:this.mp(a,b,c,d,e,f,g)},$n:function(a,c,d,e,f){var g=b.innerWidth,p=this.CO(a,g,b.innerHeight,f);if(!p)return null;a=$(p);a.addClass("auxiliary");a.css({"z-index":"30",position:"absolute",display:""});f=p.getContext("2d");d*=parseFloat(p.style.width)/g;g=b.utils.getCanvasMultiplier();c=b.Fd(d,e,c,null,!0,g);f.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return a[0]},Bu:function(a,b,d,e){var f=document.getElementById("pageContainer"+a);if(!f)return null;f=$(f).parent();0<
f.find(".auxiliary").length?(b=this.Rn.sv(a,this.Bk,this.Io),d=b.Xi.sort(function(a,b){return a-b}),a<=d[0]&&c(b.nh)):(a=this.$n(a,b,d,e,!0),f.append(a))},Kw:function(a,c,d){if(a=document.querySelector("#pageContainer"+a).parentNode.querySelector(".auxiliary"))b.o.pa.Mq(a,d.width,d.height),d=a.getContext("2d"),d.setTransform(1,0,0,1,0,0),d.drawImage(c,0,0)},CI:function(a){return $("#pageContainer"+a).parent()},bB:function(a){return $("#pageWidgetContainer"+a)},Wl:function(a){setTimeout(function(){document.body.contains(a)||
(a.width=0,a.height=0)},5E3)}};var d=new f,g=new f;$.extend(g,{Nk:!0,TK:function(a){this.Nk=1<a},init:function(){this.Il={}},oz:function(a){this.Il[a]&&(this.Il[a].width=0,this.Il[a].height=0);delete this.Il[a]},lk:function(a){return a},ex:function(){},rz:function(){},Vw:function(){},Wo:function(){},hs:function(){},Mq:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},UH:function(a){return a},
Hk:function(a,c,d,e,f,g){var p=!1;if(d===b.o.Ga.je||d===b.o.Ga.$e)p=!0;(e=!_.isUndefined(g))?(f=(p?g.y2-g.y1:g.x2-g.x1)*c,p=(p?g.x2-g.x1:g.y2-g.y1)*c):(f=p?a.height*c:a.width*c,p=p?a.width*c:a.height*c);var u,p=this.pl(f,p,c);u=parseFloat(p.style.width);var r=b.utils.getCanvasMultiplier();a=b.Fd(u/f*c,d,e?g:a,{x:0,y:0},!0,r);c=p.getContext("2d");b.dA||(p.style.backgroundColor="white");c.transform(a.m_a,a.m_b,a.m_c,a.m_d,a.m_h,a.m_v);return{canvas:p,ctx:c,t:a}},Dq:function(a,b){var c=document.getElementById("pageContainer"+
b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.a1,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},PE:function(a){return{width:a.x2-a.x1,height:a.y2-a.y1}},sF:function(a,c){var d=!1;if(c===b.o.Ga.je||c===b.o.Ga.$e)d=!0;return{width:d?a.height:a.width,height:d?a.width:a.height}},mp:function(a,c,d,e,f,g,p){if(g){var u=a[0].getContext("2d");u.restore();u.save();var r=b.utils.getCanvasMultiplier(),
v=this.sF(this.PE(g),e),w=Math.round(v.width*d),v=Math.round(v.height*d),A=Math.round(parseFloat(a.css("width"))),B=Math.round(parseFloat(a.css("height")));a.css({left:f.x,top:f.y});(1<Math.abs(A-w)||1<Math.abs(B-v))&&a.attr({width:w*r,height:v*r}).css({width:w,height:v});if(g&&p){f=c.width;w=c.height;if(1===p||3===p)f=c.height,w=c.width;c=b.Fd(1,p,{width:f,height:w},null,!1).inverse();g=b.utils.normalizeRect(c.W({x:g.x1,y:g.y1}),c.W({x:g.x2,y:g.y2}))}d=b.Fd(d,(e+(p||0))%4,g,null,!0,r);u.setTransform(d.m_a,
d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}else a.css({top:"",left:""});return a[0]},jk:function(a,b,c,d,e,f,g){a=$("#pageContainer"+a).find(".auxiliary");return 0<a.length?this.mp(a,b,c,d,e,f,g):null},$n:function(a,c,d,e,f,g){var p;f?(p=this.PE(f),f=p.width,p=p.height):(f=c.width,p=c.height);p=this.sF({width:f,height:p},e);f=p.width*d;var u=p.height*d;!g&&this.Il[a]?(p=this.Il[a],this.Jn(p,f,u),p.getContext("2d").setTransform(1,0,0,1,0,0)):p=this.pO(f,u,d,.2);g||(this.Il[a]=p);a=$(p);a.addClass("auxiliary");
a.css({"z-index":"30",position:"absolute"});a=p.getContext("2d");a.clearRect(0,0,p.width,p.height);c=b.Fd(parseFloat(p.style.width)/f*d,e,c);a.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return p},Bu:function(a,b,c,d,e){var f=document.getElementById("pageContainer"+a);if(!f)return null;f=$(f);0<f.find(".auxiliary").length||(a=this.$n(a,b,c,d,e,!0),f.prepend(a))},Kw:function(a,c){var d=document.querySelector("#pageContainer"+a+" .auxiliary");d&&(b.o.pa.Mq(d),d.width=c.width,d.height=c.height,d.style.width=
c.style.width,d.style.height=c.style.height,d.style.top=c.style.top,d.style.left=c.style.left,d=d.getContext("2d"),d.setTransform(1,0,0,1,0,0),d.drawImage(c,0,0))},CI:function(a){return $("#pageContainer"+a)},bB:function(a){return $("#pageWidgetContainer"+a)}});b.o.NN=function(c){if(c===a.rt)b.o.pa=d;else if(c===a.Wx)b.o.pa=g;else throw Error("Invalid Canvas Manager type");b.o.BG=c;b.o.pa.init()};b.o.Ym=a;b.o.BG=a.Wx;b.o.pa=g;b.o.pa.init()})(window);
(function(b){function f(a,d,f,m){for(var h=d.password||d.p,k=d.type.toUpperCase(),n=e.length,l,q=0;q<n;q++)e[q].done&&(l=e[q]);!l&&4>n&&(l={done:!1,worker:new Worker(b.o.Gi()+"DecryptWorker.js"),callback:m},e[n]=l,l.worker.addEventListener("message",function(a){if(a.data.error)throw d.error&&d.error(a.data.error),Error(a.data.error);l.callback(a.data);0<c.length?(a=c[0],c.shift(),l.done=!1,l.callback=a.callback,l.worker.postMessage({data:a.data,password:a.password,partName:a.ym,type:k})):(l.callback=
null,l.done=!0)}));l?(l.done=!1,l.callback=m,l.worker.postMessage({data:a,password:h,partName:f,type:k})):c.push({data:a,password:h,ym:f,type:k,callback:m})}var e=[],c=[];b.o=b.o||{};b.o.Wh=b.o.Wh||{};b.o.Wh.decrypt=function(a,c,e,m){a=b.kk(a);f(a,c,e,m)};b.o.Wh.JG=function(a,c,e){a=b.kk(a);var f=c.password||c.p;switch(c.type.toUpperCase()){case "AES":a=b.IG(a,f,e);break;default:a=b.IG(a,f,e)}if(a.error)throw c.error&&c.error(a.error),Error(a.error);return a}})(window);
(function(b){b.IG=function(b,e,c){for(var a=[],d=0;16>d;++d){a[d]=d;d<e.length&&(a[d]|=e.charCodeAt(d));var g=c.length+d-16;0<=g&&(a[d]|=c.charCodeAt(g))}e=[];for(c=0;16>c;++c)e.push(b.charCodeAt(c));b=b.slice(16);a=forge.aes.startDecrypting(a,e);a.update(forge.util.createBuffer(b));return a.finish()?a.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(b){var f,e,c,a={},d=b.o;d.jX=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");e=a};d.HA=function(){return e||d.Gi()+"office/"};d.iX=function(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");c=a};d.yS=function(){return c||d.Gi()+"office/"};d.qA=function(){return a.Gq};d.dK=function(e,m,h){_.isUndefined(h)&&(h={});d.Jf().Yr&&e===d.qA()||(h.workerId="office_pnacl_module",h.pnaclWorkerPath=window.o.HA()+(b.jx?"WebOfficeWorkerSubzero.nmf":"WebOfficeWorker.nmf"),h.emsWorkerPath=window.o.HA()+
"OfficeWorker.js",h.externalPath=window.o.vA(),h.kD=a,c&&(h.pdfWorkerPath=c),f=d.fK(e,m,h))};d.hW=function(a){f=Promise.resolve(a);d.hx({office:null})};d.bJ=function(){};d.UI=function(a,c,e){f||d.Jf().Yr||d.dK(a,c);d.pv()||d.aL(e);e=e||d.pv();if(!d.Jf().Yr){var k;a=Promise.all([d.$H(e),f]).then(function(a){var c=a[0],e=a[1];return new Promise(function(a,f){d.zP(function(){f(new b.ml("The worker has encountered an error",b.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});k=new d.hN(e,d.PS(),
{l:c});k.jD.then(function(){a(k)},function(a){f(a)})})});d.hx({office:a})}return d.Jf().Yr}})("undefined"===typeof window?this:window);
(function(b){b.GetPageMatrix=b.Fd;b.CoreControls=function(){};b.CoreControls.setWorkerPath=b.o.OX;b.CoreControls.getWorkerPath=b.o.Gi;b.CoreControls.setPDFWorkerPath=b.o.nX;b.CoreControls.getPDFWorkerPath=b.o.IA;b.CoreControls.setPDFResourcePath=b.o.mX;b.CoreControls.getPDFResourcePath=b.o.yv;b.CoreControls.setExternalPath=b.o.QW;b.CoreControls.getExternalPath=b.o.vA;b.CoreControls.setPDFAsmPath=b.o.lX;b.CoreControls.getPDFAsmPath=b.o.AS;b.CoreControls.setLocalWorkerPath=b.o.cX;b.CoreControls.getLocalWorkerPath=
b.o.EA;b.CoreControls.setOfficeWorkerPath=b.o.jX;b.CoreControls.getOfficeWorkerPath=b.o.HA;b.CoreControls.setOfficeResourcePath=b.o.iX;b.CoreControls.getOfficeResourcePath=b.o.yS;b.CoreControls.setResourcesPath=b.o.AX;b.CoreControls.getResourcesPath=b.o.xr;b.CoreControls.setAdvancedImageScaling=b.o.EW;b.CoreControls.setProgressiveTime=b.o.xX;b.CoreControls.preloadPDFWorker=b.o.eK;b.CoreControls.initPDFWorkerTransports=b.o.Mv;b.CoreControls.forceBackendType=b.o.AR;b.CoreControls.getDefaultBackendType=
b.o.sA;b.CoreControls.getDefaultPdfBackendType=b.o.sA;b.CoreControls.getCurrentPDFBackendType=b.o.rA;b.CoreControls.getCurrentOfficeBackendType=b.o.qA;b.CoreControls.resetWorker=b.o.iW;b.CoreControls.resetOfficeWorker=b.o.hW;b.CoreControls.isDemoMode=b.o.bJ;b.CoreControls.setEmscriptenHeapSize=b.o.MW;b.CoreControls.setCustomFontURL=b.o.ts;b.CoreControls.disableEmbeddedJavaScript=b.o.JQ;b.CoreControls.enableSubzero=b.o.jR;b.CoreControls.isSubzeroEnabled=b.o.kJ;b.CoreControls.enableFullPDF=b.o.hR;b.CoreControls.isFullPDFEnabled=
b.o.Pi;b.CoreControls.preloadOfficeWorker=b.o.dK;b.CoreControls.initOfficeWorkerTransports=b.o.UI;b.CoreControls.setWorkerTransportPromise=b.o.hx;b.CoreControls.BlackBoxAnnotationManager=b.o.Wm;b.CoreControls.BlackBoxAnnotationManager.prototype.initiateCollaboration=b.o.Wm.prototype.XT;b.CoreControls.BlackBoxAnnotationManager.prototype.disableCollaboration=b.o.Wm.prototype.Lz;b.CoreControls.BlackBoxAnnotationManager.prototype.preloadAnnotations=b.o.Wm.prototype.IV;b.XODText=XODText;b.XODText.ResultCode=
XODText.nc;b.XODText.ResultCode.e_done=XODText.nc.Sl;b.XODText.ResultCode.e_page=XODText.nc.Yu;b.XODText.ResultCode.e_found=XODText.nc.Yq;b.XODText.Quad=XODText.ab;b.XODText.Quad.prototype.getPoints=XODText.ab.prototype.zh;b.XODText.Quad.prototype.getNormalizedPoints=XODText.ab.prototype.wS;b.XODText.Matrix2D=XODText.Matrix2D;b.XODText.Matrix2D.prototype.initMatrix=XODText.Matrix2D.prototype.initMatrix;b.XODText.Matrix2D.prototype.initCoordinates=XODText.Matrix2D.prototype.Ba;b.XODText.Matrix2D.prototype.mult=
XODText.Matrix2D.prototype.W;b.XODText.Point2D=XODText.Hd;b.XODText.SelectionInfo=XODText.ye;b.XODText.SelectionInfo.prototype.parseFromOld=XODText.ye.prototype.cs;b.CoreControls.Encryption=b.o.Wh;b.CoreControls.Encryption.decrypt=b.o.Wh.decrypt;b.CoreControls.Encryption.decryptSynchronous=b.o.Wh.JG;b.CoreControls.PartRetrievers=function(){};b.CoreControls.PartRetrievers.PartRetriever=b.o.V.qf;b.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=b.o.V.qf.prototype.OW;b.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=
b.o.V.qf.prototype.hp;b.CoreControls.PartRetrievers.PartRetriever.prototype.setWithCredentials=b.o.V.qf.prototype.ws;b.CoreControls.PartRetrievers.CacheHinting=b.o.V.Th;b.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=b.o.V.Th.bt;b.CoreControls.PartRetrievers.CacheHinting.CACHE=b.o.V.Th.rD;b.CoreControls.PartRetrievers.CacheHinting.NO_HINT=b.o.V.Th.AD;b.CoreControls.PartRetrievers.LocalPartRetriever=b.o.V.zD;b.CoreControls.PartRetrievers.HttpPartRetriever=b.o.V.tj;b.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=
b.o.V.qf.prototype.Dm;b.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=b.o.V.qf.prototype.request;b.CoreControls.PartRetrievers.ExternalHttpPartRetriever=b.o.V.Px;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever=b.o.V.Xs;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=b.o.V.Xs.prototype.hp;b.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=b.o.V.Xs.prototype.getFileData;b.CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever=
b.o.V.tM;b.CoreControls.PartRetrievers.LocalPdfPartRetriever=b.o.V.YM;b.CoreControls.PartRetrievers.StreamingPartRetriever=b.o.V.PD;b.CoreControls.PartRetrievers.RangeStreamingPartRetriever=b.o.V.wN;b.CoreControls.PartRetrievers.BlackBoxPartRetriever=b.o.V.Ps;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setCustomHeaders=b.o.V.Ps.prototype.hp;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.getFileData=b.o.V.Ps.prototype.getFileData;b.CoreControls.PartRetrievers.BlackBoxPartRetriever.prototype.setWithCredentials=
b.o.V.Ps.prototype.ws;b.CoreControls.PartRetrievers.WebDBPartRetriever=b.o.V.Zp;b.CoreControls.PartRetrievers.AndroidContentPartRetriever=b.o.V.sM;b.CoreControls.PartRetrievers.AzurePartRetriever=b.o.V.xM;b.CoreControls.PartRetrievers.IOSPartRetriever=b.o.V.Np;b.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=b.o.V.Np.aC;b.CoreControls.PartRetrievers.IOSPartRetriever.partFail=b.o.V.Np.$B;b.CoreControls.PartRetrievers.WinRTPartRetriever=b.o.V.$p;b.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=
b.o.V.$p.aC;b.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=b.o.V.$p.$B;b.CoreControls.CanvasMode=b.o.Ym;b.CoreControls.CanvasMode.ViewportCanvas=b.o.Ym.rt;b.CoreControls.CanvasMode.PageCanvas=b.o.Ym.Wx;b.CoreControls.SetCanvasMode=b.o.NN;b.CoreControls.CanvasManager=b.o.pa;b.CoreControls.CanvasManager.setUpCanvas=b.o.pa.Hk;b.CoreControls.Bookmark=b.o.jf;b.CoreControls.Bookmark.prototype.getName=b.o.jf.prototype.getName;b.CoreControls.Bookmark.prototype.getVPos=b.o.jf.prototype.oT;b.CoreControls.Bookmark.prototype.getHPos=
b.o.jf.prototype.hS;b.CoreControls.Bookmark.prototype.getPageNumber=b.o.jf.prototype.sb;b.CoreControls.Bookmark.prototype.getURL=b.o.jf.prototype.nT;b.CoreControls.Bookmark.prototype.getParent=b.o.jf.prototype.getParent;b.CoreControls.Bookmark.prototype.getChildren=b.o.jf.prototype.LH;b.CoreControls.Bookmark.prototype.isValid=b.o.jf.prototype.isValid;b.CoreControls.BaseDocument=b.o.Sh;b.CoreControls.BaseDocument.prototype.calculateBoundingBox=b.o.Sh.prototype.Kl;b.CoreControls.BaseDocument.prototype.calculateMaxViewportZoom=
b.o.Sh.prototype.Tn;b.CoreControls.BaseDocument.prototype.addPage=b.o.Sh.prototype.dP;b.CoreControls.BaseDocument.prototype.getPage=b.o.Sh.prototype.vo;b.PageInfo=b.$k;b.PageInfo.prototype.setFromPageData=b.$k.prototype.$K;b.CoreControls.Document=b.o.Document;b.CoreControls.Document.registerDocumentType=b.o.Document.ks;b.CoreControls.Document.unregisterDocumentType=b.o.Document.tY;b.CoreControls.Document.prototype.getType=b.o.Document.prototype.ZA;b.CoreControls.Document.prototype.isWebViewerServerDocument=
b.o.Document.prototype.xg;b.CoreControls.Document.prototype.getMetadata=b.o.Document.prototype.getMetadata;b.CoreControls.Document.prototype.getBookmarks=b.o.Document.prototype.DH;b.CoreControls.Document.prototype.getLayers=b.o.Document.prototype.Z_;b.CoreControls.Document.prototype.getLinks=b.o.Document.prototype.so;b.CoreControls.Document.prototype.loadThumbnailAsync=b.o.Document.prototype.EB;b.CoreControls.Document.prototype.includesThumbnails=b.o.Document.prototype.pk;b.CoreControls.Document.prototype.loadPageText=
b.o.Document.prototype.KU;b.CoreControls.Document.prototype.refreshTextData=b.o.Document.prototype.qK;b.CoreControls.Document.prototype.getTextPosition=b.o.Document.prototype.fT;b.CoreControls.Document.prototype.extractXFDF=b.o.Document.prototype.Yz;b.CoreControls.Document.prototype.loadCanvasAsync=b.o.Document.prototype.cw;b.CoreControls.Document.prototype.pauseLoadCanvas=b.o.Document.prototype.Cw;b.CoreControls.Document.prototype.resumeLoadCanvas=b.o.Document.prototype.Uw;b.CoreControls.Document.prototype.cancelLoadCanvas=
b.o.Document.prototype.mh;b.CoreControls.Document.prototype.cancelLoadThumbnail=b.o.Document.prototype.ni;b.CoreControls.Document.prototype.unloadCanvasResources=b.o.Document.prototype.sp;b.CoreControls.Document.prototype.getPageInfo=b.o.Document.prototype.ic;b.CoreControls.Document.prototype.getPageMatrix=b.o.Document.prototype.jc;b.CoreControls.Document.prototype.getPageCount=b.o.Document.prototype.xb;b.CoreControls.Document.prototype.getPDFCoordinates=b.o.Document.prototype.fm;b.CoreControls.Document.prototype.getXODCoordinates=
b.o.Document.prototype.Kv;b.CoreControls.Document.prototype.getViewerCoordinates=b.o.Document.prototype.Jv;b.CoreControls.Document.prototype.loadAsync=b.o.Document.prototype.Or;b.CoreControls.Document.prototype.unloadResources=b.o.Document.prototype.Mb;b.CoreControls.Document.prototype.initOfflineDB=b.o.Document.prototype.hm;b.CoreControls.Document.prototype.storeOffline=b.o.Document.prototype.qp;b.CoreControls.Document.prototype.isDownloaded=b.o.Document.prototype.qk;b.CoreControls.Document.prototype.getOfflineModeEnabled=
b.o.Document.prototype.uo;b.CoreControls.Document.prototype.setOfflineModeEnabled=b.o.Document.prototype.lp;b.CoreControls.Document.prototype.cancelOfflineModeDownload=b.o.Document.prototype.Un;b.CoreControls.Document.prototype.getPrintablePDF=b.o.Document.prototype.yo;b.CoreControls.Document.prototype.getDownloadLink=b.o.Document.prototype.jr;b.CoreControls.Document.prototype.submitRedactions=b.o.Document.prototype.ys;b.CoreControls.Document.prototype.getFileData=b.o.Document.prototype.getFileData;
b.CoreControls.Document.prototype.onJSCompletion=b.o.Document.prototype.lV;b.CoreControls.Document.prototype.insertPages=b.o.Document.prototype.Ni;b.CoreControls.Document.prototype.getPDFDoc=b.o.Document.prototype.qg;b.CoreControls.Document.prototype.getLayersArray=b.o.Document.prototype.wh;b.CoreControls.Document.prototype.setLayersArray=b.o.Document.prototype.Im;b.CoreControls.Document.prototype.setOverprintPreviewMode=b.o.Document.prototype.bx;b.CoreControls.Document.prototype.extractPDFNetLayersContext=
b.o.Document.prototype.yi;b.CoreControls.Document.prototype.insertBlankPages=b.o.Document.prototype.Dr;b.CoreControls.Document.prototype.removePages=b.o.Document.prototype.fj;b.CoreControls.Document.prototype.movePages=b.o.Document.prototype.tk;b.CoreControls.Document.prototype.rotatePages=b.o.Document.prototype.jj;b.CoreControls.Document.prototype.extractPages=b.o.Document.prototype.ph;b.CoreControls.Document.prototype.cropPages=b.o.Document.prototype.ti;b.CoreControls.Document.prototype.print=b.o.Document.prototype.print;
b.CoreControls.Document.prototype.documentCompletePromise=b.o.Document.prototype.dc;b.CoreControls.Document.prototype.setWatermark=b.o.Document.prototype.Lm;b.CoreControls.Document.prototype.requirePage=b.o.Document.prototype.Em;b.CoreControls.Document.prototype.supportsExtraSelectorPositioning=b.o.Document.prototype.Jk;b.CoreControls.Document.prototype.getOfficeDocInfo=b.o.Document.prototype.$_;b.CoreControls.Document.prototype.getOfficeResources=b.o.Document.prototype.b0;b.CoreControls.Document.prototype.enableColorSeparations=
b.o.Document.prototype.$u;b.CoreControls.Document.prototype.getColorSeparations=b.o.Document.prototype.ov;b.CoreControls.Document.prototype.enableSeparation=b.o.Document.prototype.av;b.CoreControls.Document.prototype.isLinearized=b.o.Document.prototype.jU;b.CoreControls.PageRotation=b.o.Ga;b.CoreControls.PageRotation.e_0=b.o.Ga.oh;b.CoreControls.PageRotation.e_90=b.o.Ga.je;b.CoreControls.PageRotation.e_180=b.o.Ga.jo;b.CoreControls.PageRotation.e_270=b.o.Ga.$e;b.CoreControls.OverprintPreviewMode=b.o.Rp;
b.CoreControls.OverprintPreviewMode.OFF=b.o.Rp.bN;b.CoreControls.OverprintPreviewMode.ON=b.o.Rp.dN;b.CoreControls.OverprintPreviewMode.PDFX_ON=b.o.Rp.uN;b.CoreControls.SaveOptions=b.o.gl;b.CoreControls.SaveOptions.INCREMENTAL=b.o.gl.SM;b.CoreControls.SaveOptions.REMOVE_UNUSED=b.o.gl.vN;b.CoreControls.SaveOptions.HEX_STRINGS=b.o.gl.NM;b.CoreControls.SaveOptions.OMIT_XREF=b.o.gl.cN;b.CoreControls.SaveOptions.LINEARIZED=b.o.gl.XM;b.CoreControls.SaveOptions.COMPATIBILITY=b.o.gl.yM;b.CoreControls.DocumentViewer=
b.o.aa;b.CoreControls.DocumentViewer.prototype.loadAsync=b.o.aa.prototype.Or;b.CoreControls.DocumentViewer.prototype.dispose=b.o.aa.prototype.fd;b.CoreControls.DocumentViewer.prototype.FitMode=function(){};b.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=b.o.aa.prototype.Tg.xD;b.CoreControls.DocumentViewer.prototype.FitMode.FitPage=b.o.aa.prototype.Tg.Sx;b.CoreControls.DocumentViewer.prototype.FitMode.Zoom=b.o.aa.prototype.Tg.Zoom;b.CoreControls.DocumentViewer.prototype.displayLastPage=b.o.aa.prototype.PQ;
b.CoreControls.DocumentViewer.prototype.displayFirstPage=b.o.aa.prototype.OQ;b.CoreControls.DocumentViewer.prototype.setCurrentPage=b.o.aa.prototype.Ne;b.CoreControls.DocumentViewer.prototype.getCurrentPage=b.o.aa.prototype.$l;b.CoreControls.DocumentViewer.prototype.setRightToLeftPages=b.o.aa.prototype.BX;b.CoreControls.DocumentViewer.prototype.getRightToLeftPages=b.o.aa.prototype.SA;b.CoreControls.DocumentViewer.prototype.getZoom=b.o.aa.prototype.bf;b.CoreControls.DocumentViewer.prototype.getPageCount=
b.o.aa.prototype.xb;b.CoreControls.DocumentViewer.prototype.setFitMode=b.o.aa.prototype.DC;b.CoreControls.DocumentViewer.prototype.getFitMode=b.o.aa.prototype.bS;b.CoreControls.DocumentViewer.prototype.zoomTo=b.o.aa.prototype.Ax;b.CoreControls.DocumentViewer.prototype.zoomToMouse=b.o.aa.prototype.rM;b.CoreControls.DocumentViewer.prototype.setToolMode=b.o.aa.prototype.KC;b.CoreControls.DocumentViewer.prototype.getToolMode=b.o.aa.prototype.Fv;b.CoreControls.DocumentViewer.prototype.getToolModeMap=b.o.aa.prototype.jT;
b.CoreControls.DocumentViewer.prototype.getTool=b.o.aa.prototype.Ev;b.CoreControls.DocumentViewer.prototype.rotateClockwise=b.o.aa.prototype.nW;b.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=b.o.aa.prototype.oW;b.CoreControls.DocumentViewer.prototype.textSearchInit=b.o.aa.prototype.XC;b.CoreControls.DocumentViewer.prototype.SearchMode=function(){};b.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=XODText.gb.$G;b.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=
XODText.gb.dH;b.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.gb.Uz;b.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.gb.bH;b.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.gb.aH;b.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.gb.ZG;b.CoreControls.DocumentViewer.prototype.SearchMode.e_wild_card=XODText.gb.eH;b.CoreControls.DocumentViewer.prototype.SearchMode.e_regex=XODText.gb.cH;b.CoreControls.DocumentViewer.prototype.displayBookmark=
b.o.aa.prototype.NQ;b.CoreControls.DocumentViewer.prototype.displayPageLocation=b.o.aa.prototype.bo;b.CoreControls.DocumentViewer.prototype.getDocument=b.o.aa.prototype.getDocument;b.CoreControls.DocumentViewer.prototype.getSelectedText=b.o.aa.prototype.Dv;b.CoreControls.DocumentViewer.prototype.getSelectedTextQuads=b.o.aa.prototype.UA;b.CoreControls.DocumentViewer.prototype.setTextHighlightColor=b.o.aa.prototype.IX;b.CoreControls.DocumentViewer.prototype.setSearchHighlightColors=b.o.aa.prototype.DX;
b.CoreControls.DocumentViewer.prototype.displaySearchResult=b.o.aa.prototype.Nz;b.CoreControls.DocumentViewer.prototype.displayAdditionalSearchResult=b.o.aa.prototype.MQ;b.CoreControls.DocumentViewer.prototype.setActiveSearchResult=b.o.aa.prototype.DW;b.CoreControls.DocumentViewer.prototype.clearSearchResults=b.o.aa.prototype.$P;b.CoreControls.DocumentViewer.prototype.getColorSeparationsAtPoint=b.o.aa.prototype.RR;b.CoreControls.DocumentViewer.prototype.scrollViewUpdated=b.o.aa.prototype.xW;b.CoreControls.DocumentViewer.prototype.closeDocument=
b.o.aa.prototype.qG;b.CoreControls.DocumentViewer.prototype.setOptions=b.o.aa.prototype.ue;b.CoreControls.DocumentViewer.prototype.recalculateLayout=b.o.aa.prototype.mK;b.CoreControls.DocumentViewer.prototype.refreshAll=b.o.aa.prototype.VV;b.CoreControls.DocumentViewer.prototype.refreshPage=b.o.aa.prototype.pK;b.CoreControls.DocumentViewer.prototype.getAnnotationsLoadedPromise=b.o.aa.prototype.JR;b.CoreControls.DocumentViewer.prototype.printCurrentDocument=b.o.aa.prototype.V0;b.CoreControls.DocumentViewer.prototype.getRenderingPipeline=
b.o.aa.prototype.oI;b.CoreControls.DocumentViewer.prototype.setWatermark=b.o.aa.prototype.Lm;b.CoreControls.DocumentViewer.prototype.getWatermark=b.o.aa.prototype.zI;b.CoreControls.DocumentViewer.prototype.getViewer=b.o.aa.prototype.Vc;b.CoreControls.DocumentViewer.prototype.getViewerElement=b.o.aa.prototype.yI;b.CoreControls.DocumentViewer.prototype.setViewerElement=b.o.aa.prototype.qL;b.CoreControls.DocumentViewer.prototype.getScrollView=b.o.aa.prototype.yb;b.CoreControls.DocumentViewer.prototype.getScrollViewElement=
b.o.aa.prototype.Av;b.CoreControls.DocumentViewer.prototype.setScrollViewElement=b.o.aa.prototype.mL;b.CoreControls.RenderingPipeline=b.o.jn;b.CoreControls.RenderingPipeline.PipelineManager=b.o.jn.Up;b.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=b.o.jn.Up.prototype.rK;b.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=b.o.jn.Up.prototype.cj;b.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=b.o.jn.Up.prototype.BT;b.CoreControls.SetCachingLevel=
b.o.by;b.CoreControls.SetPreRenderLevel=b.o.LD;b.CoreControls.DocumentViewer.prototype.getMargin=b.o.aa.prototype.vv;b.CoreControls.DocumentViewer.prototype.setMargin=b.o.aa.prototype.dX;b.CoreControls.DocumentViewer.prototype.updateView=b.o.aa.prototype.Lk;b.CoreControls.DocumentViewer.prototype.updateVisiblePages=b.o.aa.prototype.vp;b.CoreControls.DocumentViewer.prototype.stopPageRender=b.o.aa.prototype.pp;b.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=b.o.aa.prototype.ex;b.CoreControls.DocumentViewer.prototype.returnCanvas=
b.o.aa.prototype.Vw;b.CoreControls.DocumentViewer.prototype.drawSelection=b.o.aa.prototype.Rz;b.CoreControls.DocumentViewer.prototype.clearSelection=b.o.aa.prototype.Oq;b.CoreControls.DocumentViewer.prototype.removeContent=b.o.aa.prototype.Jh;b.CoreControls.DocumentViewer.prototype.select=b.o.aa.prototype.select;b.CoreControls.DocumentViewer.prototype.getPageHeight=b.o.aa.prototype.kd;b.CoreControls.DocumentViewer.prototype.getPageWidth=b.o.aa.prototype.ld;b.CoreControls.DocumentViewer.prototype.setPageZoom=
b.o.aa.prototype.cx;b.CoreControls.DocumentViewer.prototype.getPageZoom=b.o.aa.prototype.tb;b.CoreControls.DocumentViewer.prototype.getRotation=b.o.aa.prototype.Vd;b.CoreControls.DocumentViewer.prototype.setRotation=b.o.aa.prototype.CX;b.CoreControls.DocumentViewer.prototype.getCompleteRotation=b.o.aa.prototype.hd;b.CoreControls.DocumentViewer.prototype.getPageRotations=b.o.aa.prototype.GS;b.CoreControls.DocumentViewer.prototype.setPageRotations=b.o.aa.prototype.pX;b.CoreControls.DocumentViewer.prototype.getAnnotationManager=
b.o.aa.prototype.Da;b.CoreControls.DocumentViewer.prototype.setAnnotationImportOptions=b.o.aa.prototype.GW;b.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=b.o.aa.prototype.WW;b.CoreControls.DocumentViewer.prototype.setPagesUpdatedInternalAnnotationsTransform=b.o.aa.prototype.uX;b.CoreControls.DocumentViewer.prototype.setLoadAnnotationsFromVisiblePages=b.o.aa.prototype.bX;b.CoreControls.DocumentViewer.prototype.setPageVisibilityCallback=b.o.aa.prototype.tX;b.CoreControls.DocumentViewer.prototype.getDisplayModeManager=
b.o.aa.prototype.dm;b.CoreControls.DocumentViewer.prototype.snapToNearest=b.o.aa.prototype.YX;b.CoreControls.DocumentViewer.prototype.setViewportRenderMode=b.o.aa.prototype.MC;b.CoreControls.DocumentViewer.prototype.getViewportRegionRect=b.o.aa.prototype.pT;b.CoreControls.DocumentViewer.prototype.setRenderBatchSize=b.o.aa.prototype.kL;b.CoreControls.DisplayMode=b.o.Ed;b.CoreControls.DisplayMode.prototype.setParameters=b.o.Ed.prototype.vX;b.CoreControls.DisplayMode.prototype.isContinuous=b.o.Ed.prototype.pB;
b.CoreControls.DisplayMode.prototype.windowToPage=b.o.Ed.prototype.Ok;b.CoreControls.DisplayMode.prototype.windowToPageNoRotate=b.o.Ed.prototype.SY;b.CoreControls.DisplayMode.prototype.pageToWindow=b.o.Ed.prototype.hf;b.CoreControls.DisplayMode.prototype.pageToWindowNoRotate=b.o.Ed.prototype.sV;b.CoreControls.DisplayMode.prototype.getSelectedPages=b.o.Ed.prototype.Cv;b.CoreControls.DisplayMode.prototype.getVisiblePages=b.o.Ed.prototype.Xd;b.CoreControls.DisplayMode.prototype.getPageTransform=b.o.Ed.prototype.xo;
b.CoreControls.DisplayMode.prototype.getPageOffset=b.o.Ed.prototype.KA;b.CoreControls.DisplayMode.prototype.createPageSections=b.o.Ed.prototype.w_;b.CoreControls.DisplayMode.prototype.setCustomFunctions=b.o.Ed.prototype.LW;b.CoreControls.DisplayModes=b.o.de;b.CoreControls.DisplayModes.Single=b.o.de.MD;b.CoreControls.DisplayModes.Continuous=b.o.de.Gp;b.CoreControls.DisplayModes.Facing=b.o.de.vD;b.CoreControls.DisplayModes.FacingContinuous=b.o.de.Rx;b.CoreControls.DisplayModes.Cover=b.o.de.Ss;b.CoreControls.DisplayModes.CoverFacing=
b.o.de.Ts;b.CoreControls.DisplayModes.Custom=b.o.de.Rg;b.CoreControls.DisplayModeManager=b.o.Kp;b.CoreControls.DisplayModeManager.prototype.setDisplayMode=b.o.Kp.prototype.XK;b.CoreControls.DisplayModeManager.prototype.getDisplayMode=b.o.Kp.prototype.gc;b.CoreControls.AnnotationManager=b.o.ga;b.CoreControls.AnnotationManager.prototype.addAnnotation=b.o.ga.prototype.ih;b.CoreControls.AnnotationManager.prototype.addAnnotations=b.o.ga.prototype.jh;b.CoreControls.AnnotationManager.prototype.deleteAnnotation=
b.o.ga.prototype.Rd;b.CoreControls.AnnotationManager.prototype.deleteAnnotations=b.o.ga.prototype.Tq;b.CoreControls.AnnotationManager.prototype.applyRedactions=b.o.ga.prototype.ez;b.CoreControls.AnnotationManager.prototype.isApplyRedactionEnabled=b.o.ga.prototype.nB;b.CoreControls.AnnotationManager.prototype.isCreateRedactionEnabled=b.o.ga.prototype.fU;b.CoreControls.AnnotationManager.prototype.isAnnotationRedactable=b.o.ga.prototype.dU;b.CoreControls.AnnotationManager.prototype.enableRedaction=b.o.ga.prototype.iR;
b.CoreControls.AnnotationManager.prototype.selectAnnotation=b.o.ga.prototype.Fm;b.CoreControls.AnnotationManager.prototype.selectAnnotations=b.o.ga.prototype.Ww;b.CoreControls.AnnotationManager.prototype.deselectAnnotation=b.o.ga.prototype.Ol;b.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=b.o.ga.prototype.Sd;b.CoreControls.AnnotationManager.prototype.isAnnotationSelected=b.o.ga.prototype.Oi;b.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=b.o.ga.prototype.Ie;b.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=
b.o.ga.prototype.yY;b.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=b.o.ga.prototype.CV;b.CoreControls.AnnotationManager.prototype.getAnnotationCopy=b.o.ga.prototype.jA;b.CoreControls.AnnotationManager.prototype.drawAnnotations=b.o.ga.prototype.Td;b.CoreControls.AnnotationManager.prototype.redrawAnnotation=b.o.ga.prototype.Kb;b.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=b.o.ga.prototype.wi;b.CoreControls.AnnotationManager.prototype.updateAnnotation=b.o.ga.prototype.YL;
b.CoreControls.AnnotationManager.prototype.jumpToAnnotation=b.o.ga.prototype.AU;b.CoreControls.AnnotationManager.prototype.hasAnnotation=b.o.ga.prototype.Ji;b.CoreControls.AnnotationManager.prototype.getAnnotationsList=b.o.ga.prototype.Ec;b.CoreControls.AnnotationManager.prototype.setNoteContents=b.o.ga.prototype.FC;b.CoreControls.AnnotationManager.prototype.getCurrentUser=b.o.ga.prototype.am;b.CoreControls.AnnotationManager.prototype.setCurrentUser=b.o.ga.prototype.CC;b.CoreControls.AnnotationManager.prototype.getIsAdminUser=
b.o.ga.prototype.mS;b.CoreControls.AnnotationManager.prototype.setIsAdminUser=b.o.ga.prototype.XW;b.CoreControls.AnnotationManager.prototype.setReadOnly=b.o.ga.prototype.yX;b.CoreControls.AnnotationManager.prototype.getReadOnly=b.o.ga.prototype.nI;b.CoreControls.AnnotationManager.prototype.canModify=b.o.ga.prototype.Rc;b.CoreControls.AnnotationManager.prototype.canModifyContents=b.o.ga.prototype.jz;b.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=b.o.ga.prototype.wX;b.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=
b.o.ga.prototype.HX;b.CoreControls.AnnotationManager.prototype.getAnnotCommand=b.o.ga.prototype.mv;b.CoreControls.AnnotationManager.prototype.importAnnotCommand=b.o.ga.prototype.Ho;b.CoreControls.AnnotationManager.prototype.exportAnnotations=b.o.ga.prototype.dv;b.CoreControls.AnnotationManager.prototype.importAnnotations=b.o.ga.prototype.OT;b.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=b.o.ga.prototype.SI;b.CoreControls.AnnotationManager.prototype.useFreeTextEditing=b.o.ga.prototype.KY;
b.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=b.o.ga.prototype.KQ;b.CoreControls.AnnotationManager.prototype.registerAnnotationType=b.o.ga.prototype.WV;b.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=b.o.ga.prototype.FQ;b.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=b.o.ga.prototype.VS;b.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=b.o.ga.prototype.HR;b.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=
b.o.ga.prototype.hr;b.CoreControls.AnnotationManager.prototype.getAnnotationsByMouseEvent=b.o.ga.prototype.kA;b.CoreControls.AnnotationManager.prototype.getAnnotationById=b.o.ga.prototype.Ef;b.CoreControls.AnnotationManager.prototype.getRootAnnotation=b.o.ga.prototype.zo;b.CoreControls.AnnotationManager.prototype.createAnnotationReply=b.o.ga.prototype.kQ;b.CoreControls.AnnotationManager.prototype.hideAnnotation=b.o.ga.prototype.HT;b.CoreControls.AnnotationManager.prototype.hideAnnotations=b.o.ga.prototype.MI;
b.CoreControls.AnnotationManager.prototype.showAnnotation=b.o.ga.prototype.VX;b.CoreControls.AnnotationManager.prototype.showAnnotations=b.o.ga.prototype.AL;b.CoreControls.AnnotationManager.prototype.setRedrawThrottle=b.o.ga.prototype.zX;b.CoreControls.AnnotationManager.prototype.getFieldManager=b.o.ga.prototype.ke;b.CoreControls.AnnotationManager.prototype.getEditBoxManager=b.o.ga.prototype.uA;b.CoreControls.AnnotationManager.prototype.setAnnotationStyles=b.o.ga.prototype.HW;b.CoreControls.AnnotationManager.prototype.setAnnotationDisplayAuthorMap=
b.o.ga.prototype.SK;b.CoreControls.AnnotationManager.prototype.getDisplayAuthor=b.o.ga.prototype.XR;b.CoreControls.AnnotationManager.prototype.groupAnnotations=b.o.ga.prototype.tT;b.CoreControls.AnnotationManager.prototype.ungroupAnnotations=b.o.ga.prototype.UL;b.CoreControls.AnnotationManager.prototype.getNumberOfGroups=b.o.ga.prototype.xS;b.CoreControls.AnnotationManager.prototype.getGroupAnnotations=b.o.ga.prototype.BA;b.CoreControls.AnnotationManager.prototype.setOldStickyNoteRenderingDate=b.o.ga.prototype.kX;
b.Actions=b.Actions;b.Actions.GoTo=b.Actions.lf;b.Actions.GoTo.Dest=b.Actions.lf.Jp;b.Actions.GoToR=b.Actions.bn;b.Actions.URI=b.Actions.Ej;b.Actions.Named=b.Actions.en;b.Actions.JavaScript=b.Actions.dn;b.Actions.ResetForm=b.Actions.cl;b.Actions.SubmitForm=b.Actions.jl;b.Actions.Hide=b.Actions.cn;b.Annotations=b.Annotations;b.Annotations.Color=b.Annotations.Color;b.Annotations.Color.prototype.toHexString=b.Annotations.Color.prototype.toHexString;b.Annotations.Forms=b.Annotations.O;b.Annotations.Forms.FieldManager=
b.Annotations.O.Sg;b.Annotations.Forms.FieldManager.prototype.getField=b.Annotations.O.Sg.prototype.Hb;b.Annotations.Forms.FieldManager.prototype.addField=b.Annotations.O.Sg.prototype.vu;b.Annotations.Forms.FieldManager.prototype.forEachField=b.Annotations.O.Sg.prototype.oo;b.Annotations.Forms.FieldManager.prototype.setAlertHandler=b.Annotations.O.Sg.prototype.FW;b.Annotations.Forms.FieldManager.prototype.getOrCreateField=b.Annotations.O.Sg.prototype.sr;b.Annotations.Forms.FieldManager.prototype.setCalculationOrder=
b.Annotations.O.Sg.prototype.UK;b.Annotations.Forms.Field=b.Annotations.O.ha;b.Annotations.Forms.Field.prototype.getValue=b.Annotations.O.ha.prototype.Xa;b.Annotations.Forms.Field.prototype.setValue=b.Annotations.O.ha.prototype.Lb;b.Annotations.Forms.Field.prototype.setVisible=b.Annotations.O.ha.prototype.Tf;b.Annotations.Forms.Field.prototype.on=b.Annotations.O.ha.prototype.on;b.Annotations.Forms.Field.prototype.off=b.Annotations.O.ha.prototype.off;b.Annotations.Forms.Field.prototype.trigger=b.Annotations.O.ha.prototype.trigger;
b.Annotations.Forms.Field.prototype.getActions=b.Annotations.O.ha.prototype.hk;b.Annotations.Forms.EmbeddedJS=b.Annotations.O.Nx;b.Annotations.Forms.EmbeddedJS.update=b.Annotations.O.Nx.update;b.Annotations.Forms.EmbeddedJS.getFinalKeypressValue=b.Annotations.O.Nx.Bi;b.Annotations.HTMLAnnotation=b.Annotations.HTMLAnnotation;b.Annotations.HTMLAnnotation.prototype.addAction=b.Annotations.HTMLAnnotation.prototype.Vj;b.Annotations.HTMLAnnotation.prototype.getActions=b.Annotations.HTMLAnnotation.prototype.hk;
b.Annotations.HTMLAnnotation.prototype.triggerAction=b.Annotations.HTMLAnnotation.prototype.Pe;b.Annotations.HTMLAnnotation.prototype.getInnerElement=b.Annotations.HTMLAnnotation.prototype.YH;b.Annotations.HTMLAnnotation.prototype.getElement=b.Annotations.HTMLAnnotation.prototype.QH;b.Annotations.WidgetAnnotation=b.Annotations.WidgetAnnotation;b.Annotations.WidgetAnnotation.prototype.setValue=b.Annotations.WidgetAnnotation.prototype.Lb;b.Annotations.WidgetAnnotation.prototype.getValue=b.Annotations.WidgetAnnotation.prototype.Xa;
b.Annotations.WidgetAnnotation.prototype.addAction=b.Annotations.WidgetAnnotation.prototype.Vj;b.Annotations.WidgetAnnotation.prototype.getField=b.Annotations.WidgetAnnotation.prototype.Hb;b.Annotations.WidgetAnnotation.prototype.setField=b.Annotations.WidgetAnnotation.prototype.ZK;b.Annotations.WidgetAnnotation.prototype.on=b.Annotations.WidgetAnnotation.prototype.on;b.Annotations.WidgetAnnotation.prototype.off=b.Annotations.WidgetAnnotation.prototype.off;b.Annotations.WidgetAnnotation.prototype.trigger=
b.Annotations.WidgetAnnotation.prototype.trigger;b.Annotations.WidgetAnnotation.prototype.setValueInternally=b.Annotations.WidgetAnnotation.prototype.Sf;b.Annotations.TextWidgetAnnotation=b.Annotations.ll;b.Annotations.ChoiceWidgetAnnotation=b.Annotations.Qg;b.Annotations.ListWidgetAnnotation=b.Annotations.vj;b.Annotations.ButtonWidgetAnnotation=b.Annotations.vc;b.Annotations.PushButtonWidgetAnnotation=b.Annotations.zj;b.Annotations.CheckButtonWidgetAnnotation=b.Annotations.Uh;b.Annotations.RadioButtonWidgetAnnotation=
b.Annotations.bl;b.Annotations.SignatureWidgetAnnotation=b.Annotations.ag;b.Annotations.SignatureWidgetAnnotation.prototype.createSignHereElement=b.Annotations.ag.prototype.qQ;b.Annotations.SignatureWidgetAnnotation.prototype.isSignedDigitally=b.Annotations.ag.prototype.tB;b.Annotations.SignatureWidgetAnnotation.prototype.isSignedInitially=b.Annotations.ag.prototype.rU;b.Annotations.Annotation=b.Annotations.Annotation;b.Annotations.Annotation.prototype.getPageNumber=b.Annotations.Annotation.prototype.sb;
b.Annotations.Annotation.prototype.setPageNumber=b.Annotations.Annotation.prototype.eL;b.Annotations.Annotation.prototype.getX=b.Annotations.Annotation.prototype.Hi;b.Annotations.Annotation.prototype.setX=b.Annotations.Annotation.prototype.rL;b.Annotations.Annotation.prototype.getY=b.Annotations.Annotation.prototype.Ii;b.Annotations.Annotation.prototype.setY=b.Annotations.Annotation.prototype.sL;b.Annotations.Annotation.prototype.getTop=b.Annotations.Annotation.prototype.Gv;b.Annotations.Annotation.prototype.getBottom=
b.Annotations.Annotation.prototype.EH;b.Annotations.Annotation.prototype.getLeft=b.Annotations.Annotation.prototype.tv;b.Annotations.Annotation.prototype.getRight=b.Annotations.Annotation.prototype.qI;b.Annotations.Annotation.prototype.getWidth=b.Annotations.Annotation.prototype.Aa;b.Annotations.Annotation.prototype.setWidth=b.Annotations.Annotation.prototype.NC;b.Annotations.Annotation.prototype.getHeight=b.Annotations.Annotation.prototype.ya;b.Annotations.Annotation.prototype.setHeight=b.Annotations.Annotation.prototype.jp;
b.Annotations.Annotation.prototype.getCustom=b.Annotations.Annotation.prototype.VR;b.Annotations.Annotation.prototype.setCustom=b.Annotations.Annotation.prototype.KW;b.Annotations.Annotation.prototype.draw=b.Annotations.Annotation.prototype.draw;b.Annotations.Annotation.prototype.serialize=b.Annotations.Annotation.prototype.serialize;b.Annotations.Annotation.prototype.deserialize=b.Annotations.Annotation.prototype.deserialize;b.Annotations.Annotation.prototype.setRect=b.Annotations.Annotation.prototype.Fg;
b.Annotations.Annotation.prototype.getRect=b.Annotations.Annotation.prototype.Gc;b.Annotations.Annotation.prototype.getRectPadding=b.Annotations.Annotation.prototype.getRectPadding;b.Annotations.Annotation.prototype.adjustRect=b.Annotations.Annotation.prototype.adjustRect;b.Annotations.Annotation.prototype.setContents=b.Annotations.Annotation.prototype.Nh;b.Annotations.Annotation.prototype.getContents=b.Annotations.Annotation.prototype.rh;b.Annotations.Annotation.prototype.isReply=b.Annotations.Annotation.prototype.Qi;
b.Annotations.Annotation.prototype.isGrouped=b.Annotations.Annotation.prototype.eJ;b.Annotations.Annotation.prototype.getReplies=b.Annotations.Annotation.prototype.zv;b.Annotations.Annotation.prototype.isWidget=b.Annotations.Annotation.prototype.rk;b.Annotations.Annotation.prototype.isVisible=b.Annotations.Annotation.prototype.pm;b.Annotations.Annotation.prototype.getInternal=b.Annotations.Annotation.prototype.ZH;b.Annotations.Annotation.prototype.resourcesLoaded=b.Annotations.Annotation.prototype.Sw;
b.Annotations.Annotation.prototype.selectionModel=b.Annotations.Annotation.prototype.selectionModel;b.Annotations.Annotation.prototype.elementName=b.Annotations.Annotation.prototype.elementName;b.Annotations.Annotation.prototype.getGroupedChildren=b.Annotations.Annotation.prototype.nr;b.Annotations.Point=b.Annotations.Point;b.Annotations.Quad=b.Annotations.ab;b.Annotations.Border=b.Annotations.Cp;b.Annotations.Font=b.Annotations.Ug;b.Annotations.Rect=b.Annotations.Rect;b.Annotations.Rect.prototype.getWidth=
b.Annotations.Rect.prototype.Aa;b.Annotations.Rect.prototype.getHeight=b.Annotations.Rect.prototype.ya;b.Annotations.Rect.prototype.translate=b.Annotations.Rect.prototype.translate;b.Annotations.Rect.prototype.fitTo=b.Annotations.Rect.prototype.fv;b.Annotations.Rect.prototype.normalize=b.Annotations.Rect.prototype.normalize;b.Annotations.Rect.prototype.exportNormalize=b.Annotations.Rect.prototype.kH;b.Annotations.Link=b.Annotations.zd;b.Annotations.PopupAnnotation=b.Annotations.al;b.Annotations.PopupAnnotation.prototype.isOpen=
b.Annotations.al.prototype.isOpen;b.Annotations.PopupAnnotation.prototype.setOpen=b.Annotations.al.prototype.dL;b.Annotations.MarkupAnnotation=b.Annotations.ta;b.Annotations.MarkupAnnotation.prototype.setStyles=b.Annotations.ta.prototype.mc;b.Annotations.MarkupAnnotation.prototype.selectionModel=b.Annotations.ta.prototype.selectionModel;b.Annotations.MarkupAnnotation.prototype.getPopup=b.Annotations.ta.prototype.kI;b.Annotations.MarkupAnnotation.prototype.setPopup=b.Annotations.ta.prototype.gL;b.Annotations.IPathAnnotation=
b.Annotations.wd;b.Annotations.IPathAnnotation.prototype.addPathPoint=b.Annotations.wd.prototype.wb;b.Annotations.IPathAnnotation.prototype.setPathPoint=b.Annotations.wd.prototype.Rf;b.Annotations.IPathAnnotation.prototype.getPathPoint=b.Annotations.wd.prototype.Ei;b.Annotations.IPathAnnotation.prototype.popPath=b.Annotations.wd.prototype.Ek;b.Annotations.IPathAnnotation.prototype.getPath=b.Annotations.wd.prototype.getPath;b.Annotations.LineAnnotation=b.Annotations.Gd;b.Annotations.LineAnnotation.prototype.setStartPoint=
b.Annotations.Gd.prototype.IC;b.Annotations.LineAnnotation.prototype.getStartPoint=b.Annotations.Gd.prototype.vI;b.Annotations.LineAnnotation.prototype.setEndPoint=b.Annotations.Gd.prototype.setEndPoint;b.Annotations.LineAnnotation.prototype.getEndPoint=b.Annotations.Gd.prototype.TH;b.Annotations.LineAnnotation.prototype.setStartStyle=b.Annotations.Gd.prototype.nj;b.Annotations.LineAnnotation.prototype.getStartStyle=b.Annotations.Gd.prototype.af;b.Annotations.LineAnnotation.prototype.setEndStyle=
b.Annotations.Gd.prototype.ip;b.Annotations.LineAnnotation.prototype.getEndStyle=b.Annotations.Gd.prototype.uh;b.Annotations.RectangleAnnotation=b.Annotations.Aj;b.Annotations.EllipseAnnotation=b.Annotations.Xk;b.Annotations.FreeHandAnnotation=b.Annotations.FreeHandAnnotation;b.Annotations.FreeHandAnnotation.prototype.addPathPoint=b.Annotations.FreeHandAnnotation.prototype.wb;b.Annotations.FreeHandAnnotation.prototype.setPathPoint=b.Annotations.FreeHandAnnotation.prototype.Rf;b.Annotations.FreeHandAnnotation.prototype.getPathPoint=
b.Annotations.FreeHandAnnotation.prototype.Ei;b.Annotations.FreeHandAnnotation.prototype.popPath=b.Annotations.FreeHandAnnotation.prototype.Ek;b.Annotations.FreeHandAnnotation.prototype.getPath=b.Annotations.FreeHandAnnotation.prototype.getPath;b.Annotations.FreeHandAnnotation.prototype.setPath=b.Annotations.FreeHandAnnotation.prototype.setPath;b.Annotations.FreeHandAnnotation.prototype.getPaths=b.Annotations.FreeHandAnnotation.prototype.He;b.Annotations.FreeHandAnnotation.prototype.emptyPaths=b.Annotations.FreeHandAnnotation.prototype.gH;
b.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=b.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;b.Annotations.TextMarkupAnnotation=b.Annotations.Cb;b.Annotations.TextMarkupAnnotation.prototype.setQuads=b.Annotations.Cb.prototype.gx;b.Annotations.TextMarkupAnnotation.prototype.getQuads=b.Annotations.Cb.prototype.me;b.Annotations.TextMarkupAnnotation.SurroundingTexts=b.Annotations.Cb.FZ;b.Annotations.TextMarkupAnnotation.TextIndices=b.Annotations.Cb.GZ;b.Annotations.TextHighlightAnnotation=
b.Annotations.Yh;b.Annotations.TextUnderlineAnnotation=b.Annotations.pn;b.Annotations.TextStrikeoutAnnotation=b.Annotations.nn;b.Annotations.TextSquigglyAnnotation=b.Annotations.mn;b.Annotations.CaretAnnotation=b.Annotations.Fp;b.Annotations.StickyAnnotation=b.Annotations.il;b.Annotations.StampAnnotation=b.Annotations.hl;b.Annotations.RedactionAnnotation=b.Annotations.Jd;b.Annotations.RedactionAnnotation.prototype.setRect=b.Annotations.Jd.prototype.Fg;b.Annotations.PolylineAnnotation=b.Annotations.yj;
b.Annotations.PolygonAnnotation=b.Annotations.$f;b.Annotations.FreeTextAnnotation=b.Annotations.Ha;b.Annotations.FreeTextAnnotation.prototype.getPadding=b.Annotations.Ha.prototype.JA;b.Annotations.FreeTextAnnotation.prototype.setPadding=b.Annotations.Ha.prototype.Jm;b.Annotations.FreeTextAnnotation.prototype.getIntent=b.Annotations.Ha.prototype.vh;b.Annotations.FreeTextAnnotation.prototype.setIntent=b.Annotations.Ha.prototype.kp;b.Annotations.FreeTextAnnotation.prototype.addPathPoint=b.Annotations.Ha.prototype.wb;
b.Annotations.FreeTextAnnotation.prototype.setStartStyle=b.Annotations.Ha.prototype.nj;b.Annotations.FreeTextAnnotation.prototype.getStartStyle=b.Annotations.Ha.prototype.af;b.Annotations.FreeTextAnnotation.Intent=b.Annotations.Ha.Kc;b.Annotations.ControlHandle=b.Annotations.ControlHandle;b.Annotations.ControlHandle.prototype.testSelection=b.Annotations.ControlHandle.prototype.testSelection;b.Annotations.BoxControlHandle=b.Annotations.Te;b.Annotations.LineControlHandle=b.Annotations.uj;b.Annotations.PathControlHandle=
b.Annotations.Yg;b.Annotations.TextControlHandle=b.Annotations.kl;b.Annotations.SelectionModel=b.Annotations.SelectionModel;b.Annotations.SelectionModel.prototype.testSelection=b.Annotations.SelectionModel.prototype.testSelection;b.Annotations.SelectionModel.prototype.testControlHandles=b.Annotations.SelectionModel.prototype.zs;b.Annotations.SelectionModel.prototype.getControlHandles=b.Annotations.SelectionModel.prototype.UR;b.Annotations.SelectionModel.prototype.canModify=b.Annotations.SelectionModel.prototype.Rc;
b.Annotations.SelectionModel.prototype.draw=b.Annotations.SelectionModel.prototype.draw;b.Annotations.BoxSelectionModel=b.Annotations.ra;b.Annotations.LineSelectionModel=b.Annotations.Pp;b.Annotations.PathSelectionModel=b.Annotations.gn;b.Annotations.RedactionSelectionModel=b.Annotations.jt;b.Annotations.TextSelectionModel=b.Annotations.Dj;b.Annotations.StickySelectionModel=b.Annotations.Yp;b.Annotations.XfdfUtils=b.Annotations.ca;b.Annotations.XfdfUtils.serializePoint=b.Annotations.ca.Zw;b.Annotations.XfdfUtils.deserializePoint=
b.Annotations.ca.Zw;b.Annotations.XfdfUtils.serializePointArray=b.Annotations.ca.gp;b.Annotations.XfdfUtils.deserializePointArray=b.Annotations.ca.Pl;b.Annotations.XfdfUtils.serializeRect=b.Annotations.ca.yC;b.Annotations.XfdfUtils.deserializeRect=b.Annotations.ca.Su;b.Annotations.XfdfUtils.serializeFringeRect=b.Annotations.ca.wC;b.Annotations.XfdfUtils.deserializeFringeRect=b.Annotations.ca.LG;b.Annotations.XfdfUtils.serializeMeasure=b.Annotations.ca.Yw;b.Annotations.XfdfUtils.deserializeMeasure=
b.Annotations.ca.Ru;b.Annotations.XfdfUtils.toXmlDate=b.Annotations.ca.$C;b.Annotations.XfdfUtils.parseDefaultAppearance=b.Annotations.ca.ZB;b.Annotations.SelectionAlgorithm=b.Annotations.Bb;b.Annotations.SelectionAlgorithm.boundingRectTest=b.Annotations.Bb.Jl;b.Annotations.SelectionAlgorithm.canvasVisibilityTest=b.Annotations.Bb.Ll;b.Annotations.SelectionAlgorithm.textQuadTest=b.Annotations.Bb.WC;b.Annotations.Utilities=b.Annotations.ja;b.Annotations.Utilities.setExtraSelectors=b.Annotations.ja.RW;
b.Annotations.Utilities.setAnnotationSubjectHandler=b.Annotations.ja.IW;b.Tool=b.Tool;b.Tools=b.ba;b.Tools.Tool=b.ba.Tool;b.Tools.Tool.prototype.getDocumentViewer=b.ba.Tool.prototype.Ff;b.Tools.Tool.prototype.getMouseLocation=b.ba.Tool.prototype.Gf;b.Tools.Tool.prototype.setStyles=b.ba.Tool.prototype.mc;b.Tools.Tool.prototype.setName=b.ba.Tool.prototype.gX;b.Tools.AnnotationSelectTool=b.ba.AnnotationSelectTool;b.Tools.TextTool=b.ba.Zb;b.Tools.GenericAnnotationCreateTool=b.ba.GenericAnnotationCreateTool;
b.Tools.PanTool=b.ba.Tp;b.Tools.TextSelectTool=b.ba.ln;b.Tools.AnnotationEditTool=b.ba.Tk;b.Tools.LineCreateTool=b.ba.Wg;b.Tools.ArrowCreateTool=b.ba.Dx;b.Tools.DistanceMeasurementCreateTool=b.ba.Vs;b.Tools.DistanceMeasurementCreateTool.prototype.setEnableLeaderLines=b.ba.Vs.prototype.NW;b.Tools.PerimeterMeasurementCreateTool=b.ba.Xx;b.Tools.AreaMeasurementCreateTool=b.ba.Cx;b.Tools.RectangleCreateTool=b.ba.Yx;b.Tools.RedactionCreateTool=b.ba.Wp;b.Tools.EllipseCreateTool=b.ba.Mx;b.Tools.FreeHandCreateTool=
b.ba.FreeHandCreateTool;b.Tools.EraserTool=b.ba.Ox;b.Tools.SignatureCreateTool=b.ba.SignatureCreateTool;b.Tools.MarqueeZoomTool=b.ba.nf;b.Tools.MarqueeZoomTool.setZoomHandler=b.ba.nf.PX;b.Tools.MarqueeZoomTool.setMaxZoomLevel=b.ba.nf.eX;b.Tools.MarqueeZoomTool.setMinZoomLevel=b.ba.nf.fX;b.Tools.SignatureCreateTool.setTextHandler=b.ba.SignatureCreateTool.JC;b.Tools.SignatureCreateTool.prototype.setSignatureCanvas=b.ba.SignatureCreateTool.prototype.FX;b.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=
b.ba.SignatureCreateTool.prototype.bQ;b.Tools.SignatureCreateTool.prototype.initDefaultSignature=b.ba.SignatureCreateTool.prototype.TI;b.Tools.SignatureCreateTool.prototype.saveDefaultSignature=b.ba.SignatureCreateTool.prototype.tW;b.Tools.SignatureCreateTool.prototype.setUpSignature=b.ba.SignatureCreateTool.prototype.pL;b.Tools.SignatureCreateTool.prototype.getSignaturePreview=b.ba.SignatureCreateTool.prototype.aT;b.Tools.SignatureCreateTool.prototype.drawAnnot=b.ba.SignatureCreateTool.prototype.Pz;
b.Tools.SignatureCreateTool.prototype.hasLocation=b.ba.SignatureCreateTool.prototype.AT;b.Tools.SignatureCreateTool.prototype.clearLocation=b.ba.SignatureCreateTool.prototype.WP;b.Tools.SignatureCreateTool.prototype.hasDefaultSignature=b.ba.SignatureCreateTool.prototype.wT;b.Tools.SignatureCreateTool.prototype.addDefaultSignature=b.ba.SignatureCreateTool.prototype.ZO;b.Tools.SignatureCreateTool.prototype.openSignature=b.ba.SignatureCreateTool.prototype.oV;b.Tools.SignatureCreateTool.prototype.addSignature=
b.ba.SignatureCreateTool.prototype.MF;b.Tools.SignatureCreateTool.prototype.isEmptySignature=b.ba.SignatureCreateTool.prototype.cJ;b.Tools.StickyCreateTool=b.ba.ot;b.Tools.StickyCreateTool.prototype.setAllowCreationOverAnnotation=Tools.ot.prototype.AC;b.Tools.TextAnnotationCreateTool=b.ba.Lc;b.Tools.TextHighlightCreateTool=b.ba.fy;b.Tools.TextUnderlineCreateTool=b.ba.iy;b.Tools.TextStrikeoutCreateTool=b.ba.hy;b.Tools.TextSquigglyCreateTool=b.ba.gy;b.Tools.PolylineCreateTool=b.ba.$g;b.Tools.PolylineCreateTool.prototype.setAllowCreationOverAnnotation=
b.ba.$g.prototype.AC;b.Tools.PolygonCreateTool=b.ba.Zg;b.Tools.PolygonCloudCreateTool=b.ba.Vp;b.Tools.CalloutCreateTool=b.ba.CalloutCreateTool;b.Tools.FreeTextCreateTool=b.ba.an;b.Tools.FreeTextCreateTool.setTextHandler=b.ba.an.JC;b.Tools.StampCreateTool=b.ba.Xp})(window);
(function(){function b(b,c,a){function d(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function g(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function m(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function h(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function k(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function n(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function l(a,
b,c){a=k(a,b,c);return{cf:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),eM:a.r}}function q(a,b,c){return n(c,b*Math.sin(a),b*Math.cos(a))}var p={},u;for(u in f)f.hasOwnProperty(u)&&(p[u]=a&&a[u]||f[u]);"auto"==p.width&&(p.width=this.canvas.width);"auto"==p.height&&(p.height=this.canvas.height);p.width=Math.min(p.width,this.canvas.width-p.EL,b.canvas.width-p.x);p.height=Math.min(p.height,this.canvas.height-p.FL,b.canvas.height-p.y);u=this.getImageData(p.EL,p.FL,p.width,p.height);a=b.getImageData(p.x,
p.y,p.width,p.height);u=u.data;for(var r=a.data,v,w,A=r.length,B,z,x,y,F,K,E,G,H,L,O,M,N,I,D=0;D<A;D+=4)if(v=u[D+3]/255,w=r[D+3]/255,E=v+w-v*w,r[D+3]=255*E,0!=v)if(0==w)r[D]=u[D],r[D+1]=u[D+1],r[D+2]=u[D+2];else{G=r[D];H=r[D+1];L=r[D+2];O=u[D];M=u[D+1];N=u[D+2];B=O/255*v;y=G/255*w;z=M/255*v;F=H/255*w;x=N/255*v;K=L/255*w;I=255/E;E=w*v;var C=w-E,Q=v-E;switch(c){case "normal":case "src-over":r[D]=(B+y-y*v)*I;r[D+1]=(z+F-F*v)*I;r[D+2]=(x+K-K*v)*I;break;case "screen":r[D]=(B+y-B*y)*I;r[D+1]=(z+F-z*F)*
I;r[D+2]=(x+K-x*K)*I;break;case "multiply":r[D]=(B*y+B*(1-w)+y*(1-v))*I;r[D+1]=(z*F+z*(1-w)+F*(1-v))*I;r[D+2]=(x*K+x*(1-w)+K*(1-v))*I;break;case "difference":r[D]=(B+y-2*Math.min(B*w,y*v))*I;r[D+1]=(z+F-2*Math.min(z*w,F*v))*I;r[D+2]=(x+K-2*Math.min(x*w,K*v))*I;break;case "src-in":E=v*w;I=255/E;r[D]=B*w*I;r[D+1]=z*w*I;r[D+2]=x*w*I;r[D+3]=255*E;break;case "plus":case "add":r[D]=Math.min(B+y,1)*I;r[D+1]=Math.min(z+F,1)*I;r[D+2]=Math.min(x+K,1)*I;break;case "overlay":r[D]=E*g(G,O)+C*G+Q*O;r[D+1]=E*g(H,
M)+C*H+Q*M;r[D+2]=E*g(L,N)+C*L+Q*N;break;case "hard-light":r[D]=E*g(O,G)+C*G+Q*O;r[D+1]=E*g(M,H)+C*H+Q*M;r[D+2]=E*g(N,L)+C*L+Q*N;break;case "color-dodge":case "dodge":r[D]=E*m(G,O)+C*G+Q*O;r[D+1]=E*m(H,M)+C*H+Q*M;r[D+2]=E*m(L,N)+C*L+Q*N;break;case "color-burn":case "burn":r[D]=E*h(G,O)+C*G+Q*O;r[D+1]=E*h(H,M)+C*H+Q*M;r[D+2]=E*h(L,N)+C*L+Q*N;break;case "darken":case "darker":r[D]=E*(G<O?G:O)+C*G+Q*O;r[D+1]=E*(H<M?H:M)+C*H+Q*M;r[D+2]=E*(L<N?L:N)+C*L+Q*N;break;case "lighten":case "lighter":r[D]=(B<y?
y:B)*I;r[D+1]=(z<F?F:z)*I;r[D+2]=(x<K?K:x)*I;break;case "exclusion":r[D]=(y+B-2*y*B)*I;r[D+1]=(F+z-2*F*z)*I;r[D+2]=(K+x-2*K*x)*I;break;case "soft-light":r[D]=E*d(G,O)+C*G+Q*O;r[D+1]=E*d(H,M)+C*H+Q*M;r[D+2]=E*d(L,N)+C*L+Q*N;break;case "luminosity":v=k(G,H,L);w=k(O,M,N);v=n(w.r,v.g,v.b);r[D]=E*v.r+C*G+Q*O;r[D+1]=E*v.g+C*H+Q*M;r[D+2]=E*v.b+C*L+Q*N;break;case "color":v=k(G,H,L);w=k(O,M,N);v=n(v.r,w.g,w.b);r[D]=E*v.r+C*G+Q*O;r[D+1]=E*v.g+C*H+Q*M;r[D+2]=E*v.b+C*L+Q*N;break;case "hue":v=l(G,H,L);w=l(O,M,
N);v=q(w.cf,v.s,v.eM);r[D]=E*v.r+C*G+Q*O;r[D+1]=E*v.g+C*H+Q*M;r[D+2]=E*v.b+C*L+Q*N;break;case "saturation":v=l(G,H,L);w=l(O,M,N);v=q(v.cf,w.s,v.eM);r[D]=E*v.r+C*G+Q*O;r[D+1]=E*v.g+C*H+Q*M;r[D+2]=E*v.b+C*L+Q*N;break;case "lighter-color":v=0<2.623*(G-O)+5.15*(H-M)+L-N?{r:G,g:H,b:L}:{r:O,g:M,b:N};r[D]=E*v.r+C*G+Q*O;r[D+1]=E*v.g+C*H+Q*M;r[D+2]=E*v.b+C*L+Q*N;break;case "darker-color":v=0>2.623*(G-O)+5.15*(H-M)+L-N?{r:G,g:H,b:L}:{r:O,g:M,b:N};r[D]=E*v.r+C*G+Q*O;r[D+1]=E*v.g+C*H+Q*M;r[D+2]=E*v.b+C*L+Q*N;
break;default:G=D/4%this.canvas.width,H=Math.floor(D/4/this.canvas.width),G=4>G%8&&4>H%8||3<G%8&&3<H%8,r[D]=r[D+3]=255,r[D+1]=G?255:0,r[D+2]=G?0:255}}b.putImageData(a,p.x,p.y)}var f={x:0,y:0,EL:0,FL:0,width:"auto",height:"auto"};(function(e){if(!e||"function"!==typeof e.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(e,"bO",{value:b});for(var c=b.i1="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
a=b.supports={},d=c.length;d--;)a[c[d]]=!0;b.i_={"src-over":"normal",Uo:"add",O_:"colordodge",m_:"colorburn",I_:"darken",A0:"lighten"};return e})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();("undefined"===typeof window?this:window).R_=0;
(function(b){b.$s=function(f,e){this.name=f;this.Xn=e;this.KP=1;this.Bm=!0;this.ki={};var c=this.su={};this.WO={};this.jw=null;c.console_log=[function(a){b.utils.log(a)}];c.console_error=[function(a){b.utils.error(a)}];c.workerLoaded=[function(){}];e.addEventListener("message",this.GI.bind(this))};b.$s.prototype={on:function(f,e,c){var a=this.su;a[f]&&b.utils.error('There is already an actionName called "'+f+'"');a[f]=[e,c]},replace:function(b,e,c){this.su[b]=[e,c]},send:function(b,e){this.postMessage({action:b,
data:e})},rr:function(){return this.KP++},Ta:function(b,e,c){var a=this.rr();b={action:b,data:e,callbackId:a,priority:c};e=createPromiseCapability();this.ki[a]=e;try{this.postMessage(b)}catch(d){e.reject(d)}return e.promise},Xw:function(b,e,c){var a=this.rr();b={action:b,data:e,callbackId:a,priority:c};e=createPromiseCapability();this.ki[a]=e;try{this.postMessage(b)}catch(d){e.reject(d)}return{promise:e.promise,dG:a}},vC:function(b,e){if(b.message||b.pR){b.message&&b.message.message&&(b.message=b.message.message);
var c=b.pR;b={type:b.type?b.type:"JavascriptError",message:b.message};if(c)for(var a in c)c.hasOwnProperty(a)&&(b[a]=c[a])}this.postMessage({isReply:!0,callbackId:e,error:b})},PA:function(f){if(f in this.ki)return this.ki[f];b.utils.error("Cannot get promise for callback "+f)},gG:function(f){if(f in this.ki){var e=this.ki[f];delete this.ki[f];e.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:f}})}else b.utils.warn("Cannot cancel callback "+
f)},postMessage:function(b){if(this.Bm){var e=this.kT(b);this.Xn.postMessage(b,e)}else this.Xn.postMessage(b)},eI:function(b,e){if("object"===typeof b)if(b instanceof Uint8Array)e.push(b.buffer);else if(b instanceof ArrayBuffer)e.push(b);else for(var c in b)b.hasOwnProperty(c)&&this.eI(b[c],e)},kT:function(b){var e=[];this.eI(b,e);return 0===e.length?void 0:e},GI:function(f){var e=this,c=f.data,a=this.su,d=this.WO;f=this.ki;var g;c.isReply?(a=c.callbackId,a in f?(d=f[a],delete f[a],"error"in c?d.reject(c.error):
d.resolve(c.data)):b.utils.warn("Cannot resolve callback "+a)):c.action in a?(g=a[c.action],c.callbackId?Promise.resolve().then(function(){return g[0].call(g[1],c.data)}).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a})},function(a){e.vC(a,c.callbackId)}):g[0].call(g[1],c.data)):c.action in d?(g=d[c.action],c.callbackId?g[0].call(g[1],c).then(function(a){e.postMessage({isReply:!0,callbackId:c.callbackId,data:a});e.jw()},function(a){e.vC(a,c.callbackId);e.jw()}):g[0].call(g[1],
c).then(function(){e.jw()},function(){e.jw()})):b.utils.error("Unknown action from worker: "+c.action)}}})("undefined"===typeof window?this:window);var na=this;
na.WN=function(){function b(b,e,c){var a=this;this.yk=[];this.mo={};this.ko={};createPromiseCapability();this.jD=new Promise(function(d,g){if("undefined"!==typeof Worker)try{var m=new na.$s("main",b);m.Bm=e;a.qa=m;m.on("test",function(b){b&&b.supportTypedArray?(b.supportTransfers||(m.Bm=!1),a.RX(m),d()):g(new na.ml("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))});var h={array:new Uint8Array([255])};try{h.options=c?c:{},h.options.chunkMax=na.AM,m.send("test",h)}catch(k){na.utils.log("Cannot use postMessage transfers"),
m.Bm=!1,h.array[0]=0,m.send("test",h)}return}catch(k){g(new na.ml("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}g(new na.ml("Can't start a worker","error.WorkerInitError"))})}b.prototype={Zo:0,PL:1,rd:2,Mf:3,RX:function(b){this.qa=b;b.on("event",this.IK,this)},IK:function(b){var e=b.docId;if(this.mo[e])this.mo[e](b);else e in this.ko?this.ko[e].push(b):this.ko[e]=[b]},addEventListener:function(b,e){if(this.mo[b])na.utils.error("Event listener already set for "+
b);else if(this.mo[b]=e,b in this.ko){for(var c=this.ko[b],a=0;a<c.length;++a)this.IK(c[a]);delete this.ko[b]}},TP:function(b){delete this.mo[b]},qR:function(b){return this.qa.Ta("NewDoc",b,this.Mf)},LU:function(b,e){var c={array:b,workerPath:na.o.Gi()};e&&(c.l=e);return this.qa.Ta("LoadRes",c,this.Mf)},MU:function(b,e){var c={path:b};e&&(c.l=e);return this.qa.Ta("LoadResFromPath",c,this.Mf)},IH:function(b,e,c,a,d,g,m,h){return"undefined"===typeof h?this.qa.Xw("GetCanvas",{docId:b,pageIndex:e,width:c,
height:a,rotation:d,layers:g,overprintMode:m},this.Zo):this.qa.Xw("GetCanvasPartial",{docId:b,pageIndex:e,width:c,height:a,rotation:d,layers:g,bbox:[h.x1,h.y1,h.x2,h.y2],overprintMode:m},this.Zo)},PR:function(b,e,c,a,d,g,m,h,k){return"undefined"===typeof h?this.qa.Xw("GetCanvas",{docId:b,pageIndex:e,width:c,height:a,rotation:d,layers:g,filePath:k,overprintMode:m},this.Zo):this.qa.Xw("GetCanvasPartial",{docId:b,pageIndex:e,width:c,height:a,rotation:d,layers:g,bbox:[h.x1,h.y1,h.x2,h.y2],filePath:k,
overprintMode:m},this.Zo)},JH:function(b,e){return"undefined"!==typeof e?this.qa.Ta("GetCanvasProgressive",{callbackId:b,filePath:e},this.Zo):this.qa.Ta("GetCanvasProgressive",{callbackId:b},this.Zo)},Dh:function(b,e){return this.qa.Ta("LoadText",{docId:b,pageIndex:e},this.PL)},GU:function(b){return this.qa.Ta("LoadBookmarks",{docId:b},this.Mf)},EU:function(b,e){var c={docId:b};e&&(c.pages=e);return this.qa.Ta("LoadAnnotations",c,this.Mf)},Sr:function(b,e){return this.qa.Ta("MergeXFDF",{docId:b,xfdf:e},
this.rd)},JK:function(b){return this.qa.Ta("SaveDoc",b,this.rd)},uW:function(b){return this.qa.Ta("SaveDocFromFixedElements",b,this.rd)},vW:function(b){return this.qa.Ta("SaveDocAs",b,this.rd)},DY:function(b,e){return this.qa.Ta("UpdatePassword",{docId:b,password:e},this.Mf)},Dr:function(b,e,c,a){return this.qa.Ta("InsertBlankPages",{docId:b,width:c,height:a,pageArray:e},this.rd)},Ni:function(b,e,c,a,d){return this.qa.Ta("InsertPages",{docId:b,doc:e,pageArray:c,destPos:a,insertBookmarks:d},this.rd)},
tk:function(b,e,c){return this.qa.Ta("MovePages",{docId:b,pageArray:e,destPos:c},this.rd)},fj:function(b,e){return this.qa.Ta("RemovePages",{docId:b,pageArray:e},this.rd)},jj:function(b,e,c){return this.qa.Ta("RotatePages",{docId:b,pageArray:e,rotation:c},this.rd)},qg:function(b){return this.qa.Ta("GetPDFDoc",{docId:b},this.rd)},ph:function(b,e,c,a){return this.qa.Ta("ExtractPages",{docId:b,pageArray:e,xfdfString:c,watermarks:a},this.rd)},ti:function(b,e,c,a,d,g){return this.qa.Ta("CropPages",{docId:b,
pageArray:e,topMargin:c,botMargin:a,leftMargin:d,rightMargin:g},this.rd)},Fk:function(b,e){return this.qa.Ta("DownloaderHint",{docId:b,hint:e},this.rd)},iU:function(b){return this.qa.Ta("IsLinearized",{docId:b},this.rd)},wh:function(b){return this.qa.Ta("GetLayers",{docId:b},this.rd)},yi:function(b,e){return this.qa.Ta("ExtractPDFNetLayersContext",{docId:b,layers:e},this.rd)},rr:function(){return this.qa.rr()},Ez:function(b){return this.qa.Ta("DeleteDocument",{docId:b},this.rd)},BC:function(b){return this.qa.Ta("SetColorManagement",
{value:b},this.Mf)},ts:function(b){return this.qa.Ta("SetCustomFontURL",{fontURL:b},this.Mf)},getWorkerType:function(){return this.qa.Xn&&"function"===typeof this.qa.Xn.getWorkerType?this.qa.Xn.getWorkerType():na.WM(this.qa.Xn)?"ems":"pnacl"},Em:function(b,e){return this.qa.Ta("RequirePage",{docId:b,pageNum:e},this.Mf)},sendWithPromise:function(b,e,c){return this.qa.Ta(b,e,c)},Kq:function(b){this.qa.gG(b)},lA:function(b,e){return this.qa.Ta("GetAnnotationAppearances",{docId:b,references:e},this.PL)}};
return b}();
(function(b){function f(){var b=document.createElement("embed");b.type="application/pdf";b.style.position="fixed";b.style.width="9px";b.style.height="9px";b.style.top="-9990px;";b.style.left="-999px";return b}b.isPDFiumSupported=function(){return Promise.resolve(!1)};b.pdfiumPrint=function(b){var c={lo:null,Dw:"",handleEvent:function(){var a=c;window.removeEventListener("focus",a);a.lo&&a.lo.remove();a.Dw&&URL.revokeObjectURL(a.Dw)}};c.Dw=URL.createObjectURL(b);c.lo=f();c.lo.src=c.Dw;c.lo.addEventListener("message",
function(){console.log("I actually got a message")});document.body.appendChild(c.lo);window.addEventListener("focus",c)}})(window);
(function(b){function f(e,c){b.$s.call(this,e,c);this.vi={};this.ns={};this.$i=[]}f.prototype={wu:function(b){this.$i.push(b)},Yy:function(b,c){b in this.vi?this.vi[b].push(c):this.vi[b]=[c];b in this.ns&&delete this.ns[b]},Xo:function(b){b in this.vi&&delete this.vi[b];this.ns[b]=b;this.$i=[]},GI:function(e){var c=this,a=e.data,d=this.su;e=this.ki;if("object"===typeof a){if("type"in a&&0<this.$i.length&&"onloaddocument"===a.type){var f=this.$i.slice();this.$i=[];for(this.Xo(a.data.docId);0<f.length;)this.Yy(a.data.docId,
f.shift())}if("callbackId"in a)d=a.callbackId,d in e?(f=e[d],delete e[d],"type"in a&&"error"===a.type?f.reject(a):f.resolve(a.data)):b.utils.warn("Cannot resolve callback "+d);else if(a.action in d){var m=d[a.action];a.callbackId?Promise.resolve().then(function(){return m[0].call(m[1],a.data)}).then(function(b){c.postMessage({isReply:!0,callbackId:a.callbackId,data:b})},function(a){c.vC(a)}):m[0].call(m[1],a.data)}else if(a.type)if("page"===a.type)e=a.meta.docId,this.vi[e]?this.vi[e].forEach(function(b){b(a)}):
0<this.$i.length&&!(e in this.ns)?this.$i.forEach(function(b){b(a)}):b.utils.warn("load","No doc listeners for this docId: "+JSON.stringify(a));else{if("documentComplete"===a.type||"error"===a.type)e=a.docId,this.vi[e]?this.vi[e].forEach(function(b){b(a)}):0<this.$i.length&&!(e in this.ns)?this.$i.forEach(function(b){b(a)}):b.utils.warn("load","No doc listeners for this docId: "+JSON.stringify(a))}else b.utils.error("Unknown action from worker: "+a.action)}}};f.prototype=$.extend(Object.create(b.$s.prototype),
f.prototype);b.gN=f})("undefined"===typeof window?this:window);
(function(b){function f(e,c,a){var d=this;this.yk=[];this.mo={};createPromiseCapability();this.jD=new Promise(function(f,m){if("undefined"!==typeof Worker)try{if(d.qa)f();else{var h=new b.gN("main",e);h.Bm=c;d.qa=h;h.on("test",function(a){if(a.ready){var c=a&&a.supportTypedArray;a&&a.info&&b.utils.log("load","Office worker info: "+a.info);c?(a.supportTransfers||(h.Bm=!1),f()):m(new b.ml("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}else m("License Key Error: "+
a.license)});var k={array:new Uint8Array([255])};try{a&&(k=$.extend({},k,a)),h.send("test",k)}catch(n){h.Bm=!1,k.array[0]=0,h.send("test",k)}}return}catch(n){m(new b.ml("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}m(new b.ml("Can't start a worker","error.WorkerInitError"))})}f.prototype={vJ:function(b){return this.qa.Ta("loadDocument",b,this.Mf)},wu:function(b){this.qa.wu(b)},Yy:function(b,c){this.qa.Yy(b,c)},Xo:function(b){this.qa.Xo(b)},
Ez:function(b){this.qa.Xo(b);return this.qa.Ta("unloadDocument",{docId:b},this.rd)},Kq:function(b){this.qa.gG(b)},YR:function(b){return this.qa.Ta("getDocBuffer",{docId:b},this.Mf)},dS:function(b){return this.qa.Ta("getFontReport",{docId:b},this.Mf)},ts:function(b){this.qa.send("setCustomFontURL",{fontURL:b})}};b.o.hN=f})("undefined"===typeof window?this:window);
(function(b){function f(a){this.qw=!1;this.ub=[];this.As={};this.Cu={};this.Pu={};this.kv=[];this.Xl={};this.Ua={};this.Ke=a}function e(a){this.index=0;this.data={functions:a,Fe:[],done:!1};this.br=new b.o.uM(0)}function c(){}function a(a,b){this.Of=a;this.Ua={};this.pb=null;this.Ka=b}c.prototype={hA:function(a){var b=this;b.functions=[];a.forEach(function(a){b.functions.push(new Function("c","t",a))});this.index=0},run:function(a,b,c){var e=this.functions[this.index];c&&this.index++;return e?(e(a,
b),!1):!0},clone:function(){var a=new c;a.functions=this.functions;a.index=0;return a},Po:function(){return Promise.resolve()},cancel:function(){}};e.prototype={hA:function(a){var b=this;b.functions=[];a.forEach(function(a){b.functions.push(new Function("c","t",a))});this.index=0},run:function(a,b,c){var e=this.data.functions[this.index];c&&this.index++;return e?(this.br.ap(e,a,b),!1):!0},clone:function(){var a=new e(this.data.functions);a.index=0;return a},Po:function(){return Promise.resolve()},
cancel:function(){}};f.prototype={WA:function(a,b){var f=a+1;if(f in this.ub){var f=this.ub[f],h=$.extend({},f);if(!f.pb){var k=null;f.qm?(k=new c,k.hA(f.qm)):f.Pq&&(k=new e(f.Pq));f.pb=k}h.pb=f.pb.clone();b(null,h)}else b(Error("The page "+f+" does not exist yet."))},LA:function(a,f,m){a+=1;if(a in this.ub){f=this.ub[a];a=$.extend({},f);if(!f.pb){var h=null;f.qm?(h=new c,h.hA(f.qm)):f.Pq&&(h=new e(f.Pq));f.pb=h}a.pb=f.pb.clone();a.Ua=$.extend(!0,{},a.Ua);for(var k in a.Ua)if(f=a.Ua[k],"jpg"===f.type)a.Ua[k].data=
b.o.GA(f.data.type,f.data.data);else{if(b.gr)h=b.o.GA(f.data.type,f.data.data),h=new b.kf.FontFace(f.name,"","sfnt",h);else{for(var h="",n=new Uint8Array(f.data.data),l=n.byteLength,q=0;q<l;q++)h+=String.fromCharCode(n[q]);h=new b.kf.FontFace(f.name,h,"sfnt",void 0)}this.Ke.qB(f.name)||h.insert();a.Ua[k].data=h}m(null,a)}else m(Error("The page "+a+" does not exist yet."))},eP:function(b){var c=b.meta.page,e=new a(c,this),f=b.img,k=b.text_structure,n={},l="",q;for(l in f)f[l]&&f[l].data?(q={data:f[l],
type:"jpg",name:l},n[l]=q,this.Ua[l]=q):n[l]=this.Ua[l];f=b.embeddedFonts;for(l in f)(q=f[l])&&q.data?(q={data:q,type:"font",name:l},n[l]=q,this.Ua[l]=q):n[l]=this.Ua[l];e.qm=b.js;if(b.arguments)for(l=b.arguments,b=b.commands,e.Pq=[],q=0;q<b.length;q++)e.Pq.push({operators:b[q],data:l[q]});e.Ua=n;e.text=k;this.ub[c]=e},Jq:function(){}};_(f.prototype).extend(Backbone.Events);b.o.fN=f})(window);
(function(b){function f(){}var e=b.o;e.et=function(c){this.Af=[];this.Pd=[];this.pe={};this.J=[];this.zw={};this.Li={};this.we={};this.fr={};this.la=null;this.In=new b.mf.kt;this.id=c;this.LB=[];this.RG=this.SG=this.hv=null;var a=this;a.SQ=new Promise(function(b,c){a.SG=b;a.RG=c})};e.et.prototype=Object.create(e.We.prototype);e.et.prototype.constructor=e.Wb;e.Document.ks("office",e.et);$.extend(e.et.prototype,{cP:function(c){this.Ka.eP(c);var a=new b.$k(c.meta.width,c.meta.height);a.Wa=new XODText.Matrix2D;
a.Wa.Ba(1,0,0,-1,0,c.meta.height);a.rotation=0;this.J.push(a);this.maxViewportZoom=this.Tn();c=c.fonts;for(var d in c){var e=c[d];d in this.fr?a=this.fr[d]:(a=new XODText.Ug,a.jp(-e.ascent,e.descent),a.oL(500),this.fr[d]=a);for(var e=e.charX,f=e.length,h=0;h<f;h+=3)a.uu(e[h],e[h+1],e[h+2])}},loadAsync:function(c,a,d){var f=this;this.Va=c;this.J=[];f.pe={};var m=d.annotsLoadedCallback;f.dc=new Promise(function(a){f.bind("documentComplete",function(){f.unbind("documentComplete");a()})});var h=d.officeOptions||
{},k=d.workerTransportPromise;c.getFileData(function(d){f.bind("documentReady",a);var l={outputFormat:"commandArray"};h.doNotRender&&(l.outputFormat="noPageOutput");c.file?(l.type="file",l.value={bytes:d.buffer,name:c.file.name},f.ev=c.file.name):c.url?(l.type="file",l.value={bytes:d.buffer,name:c.filename||c.url},f.ev=l.value.name):(l.type="array",l.value=d.buffer,f.ev="");f.Ka=new e.fN(f.In);var q=!1;k.then(function(c){f.za=c;b.utils.log("load","Worker Initialized");f.za.wu(function(c){switch(c.type){case "page":var d=
150,e=function(){var a;13<f.vk.length?a=f.vk.splice(0,13):(a=f.vk,f.vk=[]);return a},l=function(){for(var c=e(),h=0;h<c.length;++h)b.utils.log("load","page "+c[h].meta.page+": "+c[h].meta.elapsedTime+"ms"),f.cP(c[h]);for(h=0;h<c.length;++h)if(c[h].annotations)for(var k=0;k<c[h].annotations.length;++k){var n=c[h].annotations[k],p=new Annotations.Rect(parseInt(n.x1,10),parseInt(n.y1,10),parseInt(n.x2,10),parseInt(n.y2,10)),p=new Annotations.zd({rect:p});p.Vj("U",new Actions.Ej({uri:n.URI}));p.PageNumber=
c[h].meta.page;f.LB.push(p)}f.dc.then(function(a){f.zi({type:"officeAnnotationsUpdated",data:a})}.bind(null,f.LB));f.LB=[];q||(q=!0,a(),m&&m('<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">  <pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo" /></xfdf>'));f.zi({type:"pagesUpdated",data:f.J.slice()});b.utils.log("load","processed "+c.length+" pages, "+f.vk.length+" remaining");0<f.vk.length?(f.Eo=setTimeout(l,d),d=30):(f.Eo=null,f.QQ&&f.trigger("documentComplete"))};
f.vk?(f.vk.push(c),f.Eo||(f.Eo=setTimeout(l,d),d=30)):(b.utils.log("load","Received first page data"),f.vk=[c],l());break;case "error":q?console.error(c.message):a(c);break;case "documentComplete":f.Eo?f.QQ=!0:f.trigger("documentComplete")}});f.za.vJ(l).then(function(a){f.la=a.docId;f.SG();b.utils.log("load","Document initialized")})["catch"](function(b){f.RG(b);a(b)})})})},loadTextData:function(b,a){var d=this;this.J[b].text?a(this.J[b].text):this.Ka.WA(b,function(e,f){if(!e&&"undefined"!==typeof f.text){var h=
new XODText.ye,k=new XODText.Matrix2D;k.Ba(1,0,0,1,0,0);var n=new XODText.kn(d.fr),l=f.pb.clone(),q=!1;try{do q=l.run(n,k,!0);while(!q)}catch(p){console.warn("Custom Canvas has encountered an error: "+p.message);return}h.gQ(f.text,n);d.J[b].text=h;a(h)}})},nm:function(){return!1},hm:f,qp:f,qk:function(){return!1},extractXFDF:function(){return{xfdfString:'<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve">  <pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo" /></xfdf>',
pages:_.range(1,this.J.length+1)}},Un:f,uo:function(){return!1},lp:f,TC:f,so:function(){return[]},xb:function(){return this.J.length},ic:function(b){var a={};a.width=this.J[b].width;a.height=this.J[b].height;return a},Mb:function(){e.We.prototype.Mb.call(this);clearTimeout(this.Eo);this.Ka=this.Eo=null;this.za&&this.la&&this.za.Ez(this.la)},Ft:function(){},Hp:function(c){var a=new b.$k(c.width,c.height);a.Wa=new XODText.Matrix2D;c=c.matrix;a.Wa.Ba(c[0],c[1],c[2],c[3],c[4],c[5]);c=this.ji(a.Wa);a.Wa=
this.rs({w:a.width,cf:a.height});a.rotation=c;return a},getBookmarks:function(){return Promise.resolve([])},UO:function(){var b=this,a={outputFormat:"binaryStream"};b.ev?(a.type="file",a.value={bytes:null,name:b.ev}):(a.type="array",a.value=null);var d=0,e=[];return new Promise(function(f,h){b.dc.then(function(){b.za.Xo(b.la);b.za.wu(function(a){switch(a.type){case "page":"binaryStream"===a.format&&a.bytes||h("Expected binaryStream data");e.push(new Uint8Array(a.bytes));d+=a.bytes.byteLength;break;
case "error":console.error(a.message);h(a.message);break;case "documentComplete":b.za.Xo(b.la);a=new Uint8Array(d);for(var n=0,l=0;l<e.length;++l)a.set(e[l],n),n+=e[l].length,e[l]=null;f(a);break;default:h("Unable to export data")}});b.za.vJ(a).then(function(a){b.la=a.docId})})})},getFileData:function(b){var a="pdf"===b.downloadType;if(this.za&&this.la){var d=this.la;return a?(a=e.Mv(e.qA(),{}),Promise.all([a,this.UO()]).then(function(a){var d=a[0];b.bytes=a[1].buffer;return d.uW(b).then(function(a){return a.fileData&&
0!==a.fileData.byteLength?Promise.resolve(a.fileData):Promise.reject("Failed to convert document to PDF")},function(a){console.error(a);return Promise.resolve(a)})})):this.za.YR(this.la).then(function(a){return a&&"array"===a.type&&d===a.docId?a.value:Promise.reject()})}return Promise.reject()},pk:function(){return!1},jI:function(b){return this.J[b].links},Jk:function(){return!0},a0:function(){var b=this;if(this.hv)return Promise.resolve(this.hv);this.uH||(this.uH=this.SQ.then(function(){return b.za.dS(b.la).then(function(a){b.hv=
a;return b.hv})}));return this.uH}})})(window);
(function(b){function f(b){return new Promise(function(a,d){var e=indexedDB.open("wasm-cache",b);e.onerror=d.bind(null,"Error opening wasm cache database");e.onsuccess=function(){a(e.result)};e.onupgradeneeded=function(a){var b=e.result;b.objectStoreNames.contains("wasm-cache")&&(console.log("Clearing out version "+a.oldVersion+" wasm cache"),b.deleteObjectStore("wasm-cache"));console.log("Creating version "+a.newVersion+" wasm cache");b.createObjectStore("wasm-cache")}})}function e(b,a){return new Promise(function(d,
e){var f=b.transaction(["wasm-cache"]).objectStore("wasm-cache").get(a);f.onsuccess=function(){f.result?d(f.result):e("Module "+a+" was not found in wasm cache")};f.onerror=e.bind(null,"Error getting wasm module "+a)})}b.vU=function(){return f(28).then(function(b){return e(b,"PDFNetCWasm.wasm").then(function(){return!0})})["catch"](function(){return!1})};b.p0=function(c,a,d,g){function m(b,c){var d=b.transaction(["wasm-cache"],"readwrite").objectStore("wasm-cache").put(c,a);d.onerror=function(a){console.log("Failed to store in wasm cache: "+
a)};d.onsuccess=function(){console.log("Successfully stored "+a+" in wasm cache")}}function h(c){n=n||Date.now();return c?(b.utils.log("load","Try instantiateStreaming"),fetch(b.U_(a)).then(function(a){return WebAssembly.$T(a,d)})["catch"](function(c){b.utils.log("load","instantiateStreaming Failed "+a+" message "+c.message);return h(!1)})):b.B0(a,g,!0,!0).then(function(a){k=Date.now();b.utils.log("load","Request took "+(k-n)+" ms");return WebAssembly.lB(a,d)})}var k,n;return f(c).then(function(c){return e(c,
a).then(function(c){b.utils.log("Found "+a+" in wasm cache");return WebAssembly.lB(c,d)},function(a){b.utils.log(a);return h(!!WebAssembly.$T).then(function(a){try{b.utils.log("load","WASM compilation took "+(Date.now()-(k||n))+" ms"),m(c,a.F0)}catch(d){}return a.instance})})},function(a){console.log(a);return h().then(function(a){return a.instance})})}})(this);
(function(b){function f(){this.as=this.Mi=null;this.zoom=0;this.NT=!0;this.rw=0;this.Qh=null}function e(a,b){this.Of=a;this.Ua={};this.text=this.pb=null;this.Ka=b;this.Om=this.Mi=null}function c(a,b){var c=a.lastIndexOf(".");return a.substring(0,c)+"-"+b+a.substring(c)}function a(a,b,c,d){this.w=b;this.cf=c;this.Jb=a;this.oj=d;this.Bp={}}function d(a,b,d){var e=b.split(".").slice(-2,-1)[0].split("_");return{counter:d,url:b,oj:a,Nw:(5<e.length?parseInt(e[5],10):1)/parseInt(e[0],10),mM:parseInt(e[1],
10),pM:parseInt(e[2],10),lM:parseInt(e[3],10),oM:parseInt(e[4],10),getName:function(){return c("tile_"+b.substring(b.lastIndexOf("/")+1),d)},YG:function(a){var b=this.Nw*this.oj*this.lM,c=this.Nw*this.oj*this.oM,d=this.Nw*this.mM,e=this.Nw*this.pM,f=this.getName();a.RY=!0;a.dV=!0;a.eV=!0;a.MT="high";a.LT=!0;window.ci[f]&&a.I(window.ci[f],0,0,this.mM,this.pM,b,c,d,e)}}}function g(){}var m=0;e.prototype={clone:function(){var a=new e(this.Of,this.Ka);a.Ua=JSON.parse(JSON.stringify(this.Ua));a.pb=this.pb.clone();
a.Om=this.Om;return a}};a.prototype={cQ:function(){this.Bp={}},hP:function(a,b){var c=Math.ceil(1*this.w*b/this.oj)|0;this.Bp[b]=this.Bp[b]||[];for(var d=this.Bp[b],e=0;e<a.length;e++)d[a[e].oM*c+a[e].lM]=a[e]},iT:function(a,b){var c=Math.max(Math.min(30,Math.round(3*b)|0),1),d=c/b,e=Math.ceil(1*this.w*c/this.oj)|0,f;if(!(c in this.Bp))return null;var g=[],h={tiles:g,p:this.Jb,z:c,missing:0},m=Math.floor(a[0]*d/this.oj)|0,k=Math.ceil(a[2]*d/this.oj)|0,z=Math.ceil(a[3]*d/this.oj)|0,c=this.Bp[c];for(f=
Math.floor(a[1]*d/this.oj)|0;f<z;f++)for(d=m;d<k;d++)c[f*e+d]?g.push(c[f*e+d]):h.missing+=1;return h}};f.prototype={create:function(a,b,c,d,e){this.Mi=b;this.as=c;this.Jb=a;this.Bs=d;this.Nr=e;this.Zr=this.Qh;this.rw=this.zoom;this.sm=this.Qh=null;this.jm=!1},LX:function(a){this.Qh=a},run:function(a,b){var c=this;if(c.jm)return!0;this.zoom=Math.sqrt(b.m_a*b.m_a+b.m_c*b.m_c);var d=0,e=this.zoom.toFixed(5)===this.rw.toFixed(5);if(!c.Qh){a.S();a.RY=!0;a.dV=!0;a.eV=!0;a.MT="high";a.LT=!0;a.I(window.ci[this.Mi],
0,0,this.as.width,this.as.height);a.r();if(this.Zr)for(d=0;d<this.Zr.length;d++)this.Zr[d].YG(a,b,e?"rgba(0, 0, 255, 0.5)":"rgba(255, 0, 0, 0.5)");if(d=this.Bs&&this.Nr){var e=new XODText.Matrix2D,f=1/this.zoom;e.Ba(b.m_a*f,b.m_b*f,b.m_c*f,b.m_d*f,b.m_h,b.m_v);e=e.inverse();f=new XODText.Na;f.Ba(0,0,a.canvas.width,a.canvas.height);e.bD(f);var e=[f.x1,f.y1,f.x2,f.y2],g=c.Nr,f=c.Bs;c.Nr=null;c.Bs=null;this.sm=createPromiseCapability();var h=function(){c.jm||c.sm&&c.sm.resolve()};f(c.Jb,c.zoom,e,960).then(function(a){!c.jm&&
a&&g(a,c,h)})}return!d}if(this.Qh&&this.Qh.length)for(d=0;d<this.Qh.length;d++)this.Qh[d].YG(a,b,"rgba(0, 255, 0, 0.5)");return!0},clone:function(){var a=new f;a.Mi=this.Mi;a.as=this.as;a.Jb=this.Jb;a.Bs=this.Bs;a.Nr=this.Nr;a.Qh=this.Qh;a.Zr=this.Zr;a.zoom=this.zoom;a.rw=this.rw;return a},Po:function(){return this.sm?this.sm.promise:Promise.resolve()},cancel:function(){this.jm=!0;this.sm&&this.sm.resolve()}};var h=b.o;h.Os=function(a){this.Af=[];this.Pd={};this.pe={};this.zw={};this.Li={};this.we=
{};this.fr={};this.la=null;this.In=this.Ke=new b.mf.kt;this.id=a;this.Ka=this;this.ub=[];this.YC=[];this.Hg={};this.bK=this.J=[];this.page=[];this.Od=null;this.xk={};this.Hs=createPromiseCapability();this.Bw=createPromiseCapability();this.Bg=null;this.Ew=[];this.Sq=null;this.lx=this.kx=!0;this.BU=0;this.nY=1;this.Cq=null;this.UG=this.UC=!1;this.Ow=[];this.oG=createPromiseCapability();this.counter=m++};h.Os.prototype=Object.create(h.We.prototype);h.Os.prototype.constructor=h.Wb;h.Document.ks("blackbox",
h.Os);var k={Pd:!0,Mb:!0,loadThumbnailAsync:!0,ni:!0,yo:!0,jr:!0,getFileData:!0,extractXFDF:!0,op:!0,Zl:!0,wo:!0,ur:!0,xg:!0,qg:!0,Ni:!0,tk:!0,fj:!0,jj:!0,ph:!0,ti:!0,wh:!0,Im:!0,yi:!0};$.extend(h.Os.prototype,{ET:function(a){return a.EI().then(function(a){return Promise.resolve(!!a.url)})},rQ:function(a){return a.fW()},ni:function(a){2===this.Hg[a]?(delete this.Hg[a],this.Jq(0,a)):this.Hg[a]&&delete this.Hg[a]},loadThumbnailAsync:function(a,b){if(!this.J||this.J.length<a)throw Error("Document is not initialized!");
var c=this,d=c,e,f=null;c.YC[a]?f=Promise.resolve(c.YC[a]):this.bk||(f=c.Od.Qw(a));f?(e=c.yG(),d.Hg[e]=1,f.then(function(f){var g=new Image;c.YC[a]=f;g.onload=function(){URL.revokeObjectURL(f.url);d.Hg[e]&&(b(g),delete d.Hg[e]);g=g.onload=null};g.src=f.url})):(c=this.bk,f=c.J[a],e=c.loadCanvasAsync({pageIndex:a,zoom:f.width>f.height?450/f.width:450/f.height,drawComplete:function(a){a.style.backgroundColor="white";d.Hg[e]&&(c.sp(e),b(a),delete d.Hg[e])},pageCanvas:!0}),d.Hg[e]=2);return e},QC:function(){return!0===
this.Mz?!1:this.lx&&(b.utils.ie||b.utils.isEdge||!this.kx||b.utils.isMobileDevice)},LP:function(){return!b.utils.isMobileDevice||this.Mz},xg:function(){return!this.Mz},KL:function(a){function c(h){k[h]||("function"===typeof a[h]?(b.utils.log("load","Redirected function name "+h),g[h]=f(h)):(b.utils.log("load","Redirected property name "+h),Object.defineProperty(g,h,{get:d(h),set:e(h)})))}function d(a){return function(){return g.bk[a]}}function e(a){return function(b){g.bk[a]=b}}function f(a){return function(){return g.bk[a].apply(g.bk,
arguments)}}if(null===a)return b.utils.log("load","Not switching backends because the server gave us nothing to use"),!1;var g=this,m=this.QC();b.utils.log("load","Switching backend XOD: "+m);var w=m?h.We.prototype:h.Wb.prototype;g.UC=m;if(g.Bg&&g.UC&&(m=g.Bg.Ff().Da().Ec())){g.bK=g.J;g.Ew=[];for(var A=0;A<m.length;++A)g.Ew.push(m[A])}g.bk=a;a.Sa=g.Sa;for(var B in a)(a.hasOwnProperty(B)||w.hasOwnProperty(B))&&c(B);g.qx();a.pV=a.fs;a.fs=function(b){if("pagesUpdated"===b.type){var c=b.data.pageDimensions;
Object.keys(c).forEach(function(a){var b=parseInt(a,10)-1;a=c[a];a.id=""+b;a.contentChanged&=!g.Ow[b];g.Ow[b]=0})}a.pV(b)};a.cv=g.cv;try{localStorage.setItem("isCached",!0)}catch(z){b.utils.log("load","Couldn't add the loaded marker to localStorage")}this.oG.resolve(a);return!0},p1:function(){return Promise.resolve(b.WebAssembly?b.vU():!0)},UX:function(a){return this.QC()?this.ET(a):a.MH().then(function(a){return Promise.resolve(a.unhealthy)})},vG:function(a,c,d){function e(a,b){return new Promise(function(c,
e){b.loadAsync(a,function(a){a?e(a):c(b)},d)})}var f=c.WR(),g=c.Co();if(this.QC()){var m=function(c){if(c.flat||!c.url)return Promise.resolve(null);c=new b.o.V.tj(c.url);c.ws(g);c.hp(f);var d=new h.We(a);return e(c,d)};return d.KI?m(d.KI):this.rQ(c).then(m)}if(!this.LP())return Promise.resolve(null);var k=h.sA().then(function(a){return h.Mv(a,d.workerHandlers?d.workerHandlers:{},d.l)});return Promise.all([c.CK(),k]).then(function(a){a=new h.V.Xs(a[0].url,{useDownloader:!0,withCredentials:g});var b=
new h.Wb;d.workerTransportPromise=k;d.extension="pdf";return e(a,b)})},$y:function(a){if(0!==a.length){for(var b=0;b<a.length;++b)for(var c=a[b],d=Math.min(this.J.length,c.i-1),e=c.i+c.n-2;e>=d;--e){var f=this.Hp(c);this.J[e]=f}this.maxViewportZoom=this.Tn();this.zi({type:"pagesUpdated",data:this.J.slice()})}},YO:function(a){function b(a){var c=[];a.children.forEach(function(a){c.push(b(a))});return new h.jf(c,a.name,a.pageNumber,a.parent,a.verticalOffset,a.horizontalOffset,a.url)}for(var c=0;c<a.length;++c)this.Af.push(b(a[c]))},
CH:function(){if(this.Cq)return this.Cq;var a=this;return this.Cq=this.Od.KR().then(function(a){return a},function(c){b.utils.log("load","Error loading annots xfdf from server: "+c);return'<?xml version="1.0" encoding="UTF-8"?><xfdf xmlns="http://ns.adobe.com/xfdf/" xml:space="preserve"><pages><defmtx matrix="1.333333,0.000000,0.000000,-1.333333,0.000000,'+4*(a.J&&0<a.J.length?a.J[0].height:792)/3+'"/></pages><pdf-info version="2" xmlns="http://www.pdftron.com/pdfinfo"/></xfdf>'})},loadAsync:function(a,
c,d){var e=this;e.Od=e.Va=a;e.J=[];e.Ka=e;e.Mz=d.forceClientSideInit;b.utils.log("load","Request Document");e.Od.aX(function(){e.bU()},null);e.Od.MH().then(function(f){e.kx&=f.hasPDF;e.lx&=f.hasXOD;"tileScale"in f&&(e.nY=f.tileScale);e.Od.HY().then(function(){e.Od.Dm(d.extension).then(function(f){b.utils.log("load","Document response received.");f&&("pages"in f&&e.$y(f.pages),"bookmarks"in f&&(e.Af=[],e.YO(f.bookmarks)));e.CH();e.UX(a).then(function(f){b.utils.log("load","Should we use client side rendering? "+
f);if(f)"object"===typeof f&&(d.KI=f),e.vG(e.id,a,d).then(function(a){e.KL(a);e.qx().then(function(){e.Bg=c();e.Bw.resolve(e.Bg)})});else{e.qx().then(function(){e.Bg=c();e.Bw.resolve(e.Bg)});if(e.kx||e.lx)b.utils.log("load","Load client side document"),e.Hs.resolve(!0),e.Hs.promise.then(function(){e.vG(e.id,a,d).then(function(a){var c=Math.round(e.J[0].height),d;e.KL(a)&&e.Bw.promise.then(function(a){if(a=a.Ff()){for(var f=e.J.length,g=0;g<f;g++)e.J[g].Eg(a);var h=!1,g=Math.round(e.J[0].height),l=
(g|0)===(c|0),m=c/g,k=a.N.Xd();if(f!==k.length)a.N.jC(),a.N.kC(),b.console.error("Page length mismatch - Server/Client: "+f+"/"+k.length+". There may have been an issue reading page info from the file. Please check your document for any signs of corruption.");else{for(g=0;g<k.length;g++)!l&&a.N.CS(k[g].Ma-1)&&(h=!0,a.N.cx(k[g].Ma-1,k[g].zoom*m),a.jk(k[g].Ma-1)),(d=a.Fa.Tc(k[g].id))&&d.Ic&&(d.Ic=null);l||a.N.lj(a.N.sg*m);h||l||(a.Jh(),a.ea.Ig());a.trigger("backendSwitch")}}})})});e.dc=new Promise(function(a){e.bind("documentComplete",
function(){e.unbind("documentComplete");a()})})}})},function(a){c(a)})})},function(a){c(a)})},loadTextData:function(a,b){a in this.ub&&this.ub[a].text?b(this.ub[a].text):this.WA(a,b)},pg:function(a,b){if(this.xg())throw Error('Client side document is not instantiated. Please pass the "forceClientSideInit: true" option into the WebViewer constructor or loadAsync.');return this.oG.promise.then(function(c){return a(c).apply(c,b)})},qg:function(){return this.pg(function(a){return a.qg},arguments)["catch"](function(a){throw a;
})},Ni:function(){return this.pg(function(a){return a.Ni},arguments)},tk:function(){return this.pg(function(a){return a.tk},arguments)},fj:function(){return this.pg(function(a){return a.fj},arguments)},jj:function(){return this.pg(function(a){return a.jj},arguments)},ph:function(){return this.pg(function(a){return a.ph},arguments)},ti:function(){return this.pg(function(a){return a.ti},arguments)},wh:function(){return this.pg(function(a){return a.wh},arguments)},Im:function(){return this.pg(function(a){return a.Im},
arguments)},yi:function(){return this.pg(function(a){return a.yi},arguments)},si:function(a){return a},LA:function(g,h,m){if(g in this.J){var k=this;k.BU=g;this.ub[g]=this.ub[g]||new e(g,this);var u=this.ub[g],r=null,v=null;u.pb?r=Promise.resolve(u):(b.utils.log("load","blackbox(pgi: "+g+") request image"),r=(0!==g?k.Hs.promise.then(function(){return k.Od.Qw(g)}):k.Od.Qw(g)).then(function(b){u.Om=new a(g,k.J[g].width,k.J[g].height,960);k.J[g].Mi=c(b.name,k.counter);u.pb=new f;u.Ua[k.J[g].Mi]={data:b.url,
type:"jpg",name:k.J[g].Mi};return u},function(a){v=a;b.utils.log("load","blackbox(pgi "+g+") error requesting image: "+a);u.Ua.img_error={data:"",type:"jpg",name:"img_error"};u.pb=new f;u.pb.create(g,"img_error",k.J[g],null,null);return u}));var w=function(a,b,c,e){var f=u.Om.iT(c,b);return f&&0===f.missing?Promise.resolve(f):k.Od?k.Od.eW(a,b,c,e).then(function(a){for(var b=a.tiles,c=0;c<b.length;c++)b[c]=d(a.size,b[c],k.counter);return Promise.resolve(a)}):Promise.resolve(null)};r.then(function(a){b.utils.log("load",
"blackbox(pg "+g+") has image URL");var c=null,d=k.Ow[g];k.Ow[g]=d?d+1:1;a.pb.create(g,k.J[g].Mi,k.J[g],w,function(d,e,f){if(h in k.Pd&&!a.pb.jm){var g,m,n=d.tiles,q=k.Pd[h].Nf,r=!("missing"in d),u=[],v=0;for(;v<n.length;v++)m=n[v],g=m.getName(),c.Ua[g]||(m={data:m.url,type:"jpg",name:g},u.push(m),c.Ua[g]=m);r&&a.Om.hP(n,d.z);a.Ua=JSON.parse(JSON.stringify(c.Ua));e.LX(n);a.pb=e.clone();q.DB(function(){k.Hs.resolve();f()},u,!0);r&&b.utils.log("load","Server took "+d.runTime+"ms to generate "+n.length+
" tiles")}});c=a.clone();k.xk[h]=c.pb;b.utils.log("load","blackbox(pg "+g+") calling resource load callback");m(v,c)},function(a){console.warn("Error creating resources for page: "+a);m(a)})}else m(Error("The page "+(g+1)+" does not exist."))},WA:function(a,b){var c=this;if(a in this.J){this.ub[a]=this.ub[a]||new e(a,this);var d=this.ub[a],f=null,f=d.text?Promise.resolve(d):c.Od.dW(a).then(function(b){var e=new XODText.ye;e.cs({m_Struct:b.struct,m_Str:b.str,m_Offsets:b.offsets,m_Quads:b.quads,m_Ready:!0});
c.J[a].text=e;c.correctQuadsForPageRotation(a,e);d.text=e;return d},function(b){console.warn("Error retrieving text for page: "+b);b=new XODText.ye;b.cs({m_Struct:[],m_Str:"",m_Offsets:[],m_Quads:[],m_Ready:!0});c.J[a].text=b;d.text=b;return d});f.then(function(a){b(a.text)})}else b(Error("The page "+(a+1)+" does not exist."))},Jq:function(a,b){b in this.xk&&(this.Hs.resolve(),this.xk[b].cancel(),delete this.xk[b])},o_:function(){for(var a=_.keys(this.xk),b=0;b<a.length;b++)this.Jq(0,a[b])},bU:function(){this.ub&&
_.each(this.ub,function(a){a.Om&&a.Om.cQ()})},nm:function(){return!1},hm:g,qp:g,qk:function(){return!1},extractXFDF:function(){var a=this;return a.qx().then(function(){return a.Cq.then(function(b){return{external:!0,xfdfString:b,pages:_.range(1,a.J.length+1)}})})},qx:function(){var a=this;return this.CH().then(function(c){if(a.UC&&!a.UG){c=b.Annotations.ca.Ar(c);a.ZE(c,!0);var d=[];a.Ew.forEach(function(b){var c=b.IsModified,e=b.sb()-1;if(!d[e]){var f=a.bK[e].Wa;d[e]=new XODText.Matrix2D;d[e].initMatrix(a.J[e].Wa);
d[e].concat(f.inverse())}b.Rh(d[e]);b.IsModified=c});a.Ew=[];a.UG=!0}})},Un:g,uo:function(){return!1},lp:g,TC:g,so:function(){return[]},xb:function(){return this.J.length},ic:function(a){var b={};b.width=this.J[a].width;b.height=this.J[a].height;return b},$j:function(a){a in this.Pd&&this.Pd[a]&&delete this.Pd[a];a in this.xk&&delete this.xk[a]},Mb:function(){var a=this,c;for(c in b.ci)(c.startsWith("tile_t")||c.startsWith("pageimg"))&&delete b.ci[c];h.We.prototype.Mb.call(this);return a.Od&&a.Od.pG().then(function(){a.ub=
[];a.Hg={};a.xk={};a.Ka=null;a.bk&&a.bk.Mb()})},Ft:function(){},Hp:function(a){var c=new b.$k(a.w,a.h),d=a.mtx;c.Wa=new XODText.Matrix2D;c.Wa.Ba(d[0],d[1],d[2],d[3],d[4],d[5]);var e=this.ji(c.Wa);c.Wa=this.cD(d,{w:a.w,cf:a.h});c.rotation=e;return c},cD:function(a,b){var c=new XODText.Matrix2D;c.Ba(a[0],a[1],a[2],a[3],a[4],a[5]);var d=this.Kl(c,b);c.Ba(1,0,0,-1,-d.x1,d.y2);return c},getBookmarks:function(){return Promise.resolve(this.Af)},getFileData:function(a){if(!this.xg())return this.pg(function(a){return a.getFileData},
arguments);if(this.Sq)return this.Sq.promise;var b=this.Sq=createPromiseCapability(),c=this,d={};a.xfdfString&&(d.annots=a.xfdfString);this.tA(d).then(function(a){var d=new XMLHttpRequest;d.open("GET",a.url,!0);d.withCredentials=!0;d.responseType="arraybuffer";d.setRequestHeader("Cache-Control","no-cache");d.setRequestHeader("X-Requested-With","XMLHttpRequest");d.onreadystatechange=function(){if(4===d.readyState){c.Sq=null;try{200===d.status?b.resolve(d.response):b.reject("Unable to download PDF data: "+
d.status)}catch(a){b.reject("Unable to download PDF data: "+a)}}};d.send()},function(a){b.reject("Unable to download PDF data: "+a)});return b.promise},yo:function(){return this.tA({print:!0})},jr:function(a){if(!this.xg())return null;a=a||{};var b=this;return this.tA(a).then(function(c){c.url=b.VH({downloadName:a.downloadName||a.filename,url:c.url});return Promise.resolve(c)})},VH:function(a){var b=a.downloadName||a.filename,c=a.url.lastIndexOf(".pdf");return a.url.substring(0,0<c?c:a.url.length)+
"?attach=pdf"+(b?"&dlname="+encodeURIComponent(b):"")},Zl:function(a){a=a.length;for(var b=Array(a),c=0;c<a;++c)b[c]=Promise.reject("BlackBoxDocument does not support appearances");return b},tA:function(a){var b=this;return this.Bw.promise.then(function(c){var d=c.Ff();return d.zI().then(function(c){var e=createPromiseCapability(),f=createPromiseCapability();c?b.AI().toBlob(function(a){e.resolve(a)}):e.resolve(null);c=d.Da();c=a.annots||(c?c.dv():null);a.annots=null;f.resolve(c);return Promise.all([f.promise,
e.promise]).then(function(c){var d=JSON.parse(JSON.stringify(a||{}));d.annots=c[0];d.watermark=c[1];return b.Od.bI(d)})})})},ys:function(a,b){var c=this,d=Annotations.ah.$S(a,b);return c.Od.bI(d).then(function(a){a.url=c.VH(a);return a})},pk:function(){return!1},jI:function(a){return this.J[a].links},Jk:function(){return!0}})})(window);
(function(b){function f(a,c,e,f,h,k){var n={getZoom:function(){return 1},getPageRotation:function(){return b.o.Ga.oh},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(a)?(n=$.extend(n,a),n.zoom&&(n.getZoom=function(){return n.zoom}),n.pageRotation&&(n.getPageRotation=function(){return n.pageRotation})):n=$.extend(n,{pageIndex:a,
getZoom:function(){return c},getPageRotation:function(){return e},drawProgressive:h,drawComplete:f,canvasNum:k});return n}var e=b.o;e.Vx=function(){e.Wb.call(this);this.wg=!0;createPromiseCapability();this.ME=createPromiseCapability()};e.Vx.prototype=Object.create(e.Wb.prototype);e.Vx.prototype.constructor=e.Wb;var c=!1;$.extend(e.Vx.prototype,{loadAsync:function(a,b,f){function m(){n||(n=!0,k.Bg=b());e.Wb.prototype.getBookmarks.apply(k).then(function(a){return k.ME.resolve(a)});k.wg=!1;c=!0;var a=
k.Bg.Ff();a.refreshAll();a.updateView();a.Ir=!1;a.Qq(0)}function h(){n||(n=!0,k.Bg=b())}var k=this,n=!1;k.za={Kq:function(){},addEventListener:function(){},IH:function(){return{dG:"",promise:Promise.resolve({})}},wh:function(){return[]}};c?(k.wg=!1,k.Ey=!0,e.Wb.prototype.loadAsync.apply(k,arguments)):e.Wb.prototype.loadAsync.apply(k,[a,m,f]);k.gK=new e.V.tj(a.url,e.V.Th.AD);var l=a.getFile();l.url?k.aI(l,a.withCredentials).then(function(b){b.Vo&&b.size===b.JV&&(k.Vo=b.Vo,k.dC=b.dC);k.Vo?k.yV(a.url,
k.gK).then(function(b){var d=Object.values(b.thumbs);k.Oy=d.map(function(b){return{url:a.url,start:b.start,stop:b.start+b.size}});if(!c){k.$y(b.pages);var e={};k.J.map(function(a,b){var c=b+1;e[c]=a;e[c].id=c;return a});k.bA(e,h)}}):(k.Ey=!0,k.wg=!1)})["catch"](function(){console.warn("PDF Prime",error);k.wg=!1}):k.wg=!1},loadCanvasAsync:function(a,c,g,m,h,k){var n=this;if(n.Oy&&a&&a.hasOwnProperty("isHighResThumb")&&n.Oy[a.pageIndex]&&!n.PU){var l=f(a,c,g,m,h,k),q=l.pageIndex,p=l.getZoom();g=l.getPageRotation();
var u=l.renderRect,r=l.getPageTransform(),v=g===b.o.Ga.je||g===b.o.Ga.$e,w;"undefined"===typeof u?(w=(v?n.J[q].height:n.J[q].width)*p,v=(v?n.J[q].width:n.J[q].height)*p):(w=(v?u.y2-u.y1:u.x2-u.x1)*p,v=(v?u.x2-u.x1:u.y2-u.y1)*p);w=Math.round(w);v=Math.round(v);n.sE(null,null,null,{Xq:l.drawProgressive,Wq:function(a,b){l.drawComplete(a,q,b)},WB:w,VB:v,So:p,Ak:g,page:n.J[q],od:u},!0,k,r,l.pageCanvas,function(){return e.Wb.prototype.loadCanvasAsync.apply(n,[a,c,g,m,h,k])})}else return e.Wb.prototype.loadCanvasAsync.apply(this,
arguments)},extractXFDF:function(){return this.wg?Promise.resolve({}):e.Wb.prototype.extractXFDF.apply(this,arguments)},getBookmarks:function(){return this.wg?this.ME.promise:e.Wb.prototype.getBookmarks.apply(this,arguments)},loadTextData:function(){this.wg||e.Wb.prototype.loadTextData.apply(this,arguments)},ni:function(){},mh:function(){},Fk:function(){},sE:function(a,c,e,f,h,k,n,l,q){var p=this,u=f.Tz?f.Tz:b.o.pa.Hk(f.page,f.So,f.Ak,n,k,f.od,l).canvas,r=u.getContext("2d");(a=p.Oy[f.page.Ma-1])&&
p.gK.Ti(a.url,a,function(a,c){var d=new Image,e=b.o.DA("jpg",c);d.onload=function(){if(q&&2E3>Math.max(d.width,d.height))return p.PU=!0,q();d.src.startsWith("data")||URL.revokeObjectURL(d.src);n?1===f.Ak||3===f.Ak?r.drawImage(d,0,0,n.height,n.width):r.drawImage(d,0,0,n.width,n.height):r.drawImage(d,0,0,f.page.width,f.page.height);f.page&&p.Rl(u,f.page.Ma-1);f.Xq(u);h&&f.Wq(u);d=d.onload=null};d.src=e})},Gu:function(a,b,c,f,h,k,n,l){return this.wg?this.sE.apply(this,arguments):e.Wb.prototype.Gu.apply(this,
arguments)},yV:function(a,b){var c={start:this.Vo,stop:this.Vo+this.dC};return new Promise(function(e,f){b.Ti(a,c,function(a,b){if(a)return f(a);var c=String.fromCharCode.apply(null,new Uint8Array(b)),c=JSON.parse(c);e(c)})})},Hp:function(a){var b=new PageInfo(a.w,a.h),c=a.mtx;b.matrix=new XODText.Matrix2D;b.matrix.Ba(c[0],c[1],c[2],c[3],c[4],c[5]);var e=this.ji(b.matrix);b.matrix=this.cD(c,{w:a.w,cf:a.h});b.rotation=e;return b},rs:function(a){return this.wg&&!Array.isArray(a)?a:e.Wb.prototype.rs.apply(this,
arguments)},$y:function(a){if(0!==a.length)for(var b=0;b<a.length;++b)for(var c=a[b],e=Math.min(this.J.length,c.i-1),f=c.i+c.n-2;f>=e;--f){var k=this.Hp(c);this.J[f]=k}},cD:function(a,b){var c=new XODText.Matrix2D;c.Ba(a[0],a[1],a[2],a[3],a[4],a[5]);var e=this.Kl(c,b);c.Ba(1,0,0,-1,-e.x1,e.y2);return c},fs:function(a){if(this.Ey||"pagesUpdated"!==a.type)e.Wb.prototype.fs.apply(this,arguments);else{if(this.wg&&this.Bg){var b=this.Bg.Ff();b.refreshAll();b.updateView()}this.Ey=!0}}})})(window);}).call(window);
